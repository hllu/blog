<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.81.0" />



<link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon-16x16.png" />
<link rel="manifest" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/site.webmanifest" />
<link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/safari-pinned-tab.svg" color="#8aa2d3" />
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/amzrk2/cdn-stcapi@1/favicons/favicon.ico" />
<meta name="theme-color" content="#ffffff" />


<title>magit manue - hllu&#39;s blog</title>


<meta name="author" content="[luhailong]" />


<meta name="description" content="A minimal Hugo theme with nice theme color." />



<meta property="og:title" content="magit manue" />
<meta name="twitter:title" content="magit manue" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hllu.github.io/posts/magit-manue/" /><meta property="og:description" content="简介 magit 是emacs下对git 的封装,让你基本在emacs中即可完成对git仓库的管理,需要单独安装 帮助 可以在magit status 中 ? 键可提示magit命令绑定在哪些按键上 magit-status因为常用，可以" />
<meta name="twitter:description" content="简介 magit 是emacs下对git 的封装,让你基本在emacs中即可完成对git仓库的管理,需要单独安装 帮助 可以在magit status 中 ? 键可提示magit命令绑定在哪些按键上 magit-status因为常用，可以" /><meta property="og:image" content="https://hllu.github.io/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://hllu.github.io/img/og.png" /><meta property="article:published_time" content="2022-06-15T15:19:00+08:00" /><meta property="article:modified_time" content="2022-06-15T15:19:00+08:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>



<link rel="stylesheet" href="https://hllu.github.io/assets/css/fuji.min.css" />





</head>

<body data-theme="auto">
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>
    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://hllu.github.io">hllu&#39;s blog</a>
            
            <span class="title-sub">hllu 的个人空间.</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://hllu.github.io/posts/magit-manue/">magit manue</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2022-06-15</span>

<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;1242 words</span>

<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;No tag</span>

    </div>
    
    <div class="post-content markdown-body">
        <h2 id="简介">简介</h2>
<p>magit 是emacs下对git 的封装,让你基本在emacs中即可完成对git仓库的管理,需要单独安装</p>
<h2 id="帮助">帮助</h2>
<p>可以在magit status 中 ? 键可提示magit命令绑定在哪些按键上
magit-status因为常用，可以设置一个快捷键，如下</p>
<pre><code class="language-text">(global-set-key (kbd &quot;&lt;f7&gt;&quot;) 'magit-status)
</code></pre>
<h2 id="stage--git-add--与-unstage">Stage (git add )与 Unstage</h2>
<p>如果你修改了一个git管理的文件，但是未运行git add 则当前文件处于Unstaged状态
运行git add 之后则处于Stage状态。git commit 之后，则变成了一个commit 会处于 Unpushed 状态</p>
<table>
<thead>
<tr>
<th>s</th>
<th>Stage</th>
<th>git add filename</th>
<th>从unstaged变成staged</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>Unstage</td>
<td>git reset HEAD filename</td>
<td>从staged 变成Unstaged</td>
</tr>
</tbody>
</table>
<p>s 与u 命令可以作用于文件，也可以作用于整个Unstaged changes与Staged changes标题上
也可以作用于某个文件的一部分(展开一个文件你会看到@@开头的内容)
甚至你可以选中某个区域只提交选中区域的部分变更
操作时把光标移动到相应的位置即可</p>
<h2 id="commit">Commit</h2>
<p>在magit status buffer中c键为git commit 相关操作
最常用的操作是cc 即普通的Commit
常用这三个命令</p>
<table>
<thead>
<tr>
<th>cc</th>
<th>Commit</th>
<th>最普通的</th>
<th>git commit</th>
</tr>
</thead>
<tbody>
<tr>
<td>ce</td>
<td>Extend</td>
<td>当前Staged的文件合并到上一次提交中</td>
<td>git commit –amend –no-edit</td>
</tr>
<tr>
<td>ca</td>
<td>Amend</td>
<td>只修改上次提交的日志</td>
<td>git commit –amend</td>
</tr>
</tbody>
</table>
<p>执行相应的按键后会提示你输入日志</p>
<h2 id="pull--f----git-pull--push--p----git-push">Pull(F)(git pull)  Push(p)(git push)</h2>
<table>
<thead>
<tr>
<th>Fu</th>
<th>pull from upstream</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fp</td>
<td>pull from pushremote</td>
</tr>
<tr>
<td>Fe</td>
<td>pull from elsewhere 提示你从哪pull</td>
</tr>
</tbody>
</table>
<p>如何理解Fu Fp的不同
比如github上userA有一个仓库r,userB fork了这个仓库
则对于userB来说 userA/r 是upstream ,而 userB/r 则为pushremote
即一般来说我们把代码push 到pushremote内，而不是直接push 到upstream上
通常的应用场景是我们把未成型的代码临时push 到pushremote上，等这个功能彻底完善后才push到upstream上</p>
<p>另外只有设置了pushremote分支，magit status buffer 才会展示有哪些commit未pull 或未push
将相应的分支设为upstream 或pushremote需要在branch管理内设置(快捷键b)</p>
<table>
<thead>
<tr>
<th>pu</th>
<th>push to upstram</th>
<th>最普通的git push</th>
</tr>
</thead>
<tbody>
<tr>
<td>pe</td>
<td>push to elsewhere</td>
<td>会提示你push到哪个远程分支</td>
</tr>
<tr>
<td>po</td>
<td>push another branch to</td>
<td>会提示你push哪个分支</td>
</tr>
<tr>
<td>pT</td>
<td>push a tag</td>
<td>push 一个tag标签</td>
</tr>
<tr>
<td>pt</td>
<td>push all tag</td>
<td>push 所有tag标签</td>
</tr>
</tbody>
</table>
<h2 id="log--l--查看日志">Log(l)查看日志</h2>
<p>查看日志相关操作绑定在l上
如查看当前分支的日志为ll</p>
<h2 id="cherry-picking--a-a">cherry picking(a A)</h2>
<p>具体的作用是把某一次commit在当前分支重新commit一次
比如你想把另一个分支上的某一次提交在当前分支也重做一次,但又不想整个merge那个分支，则可以用此功能
lo 展示别的分支的日志，找到相应的commit,然后按a或A 来cherry pick</p>
<h2 id="stashing--z----git-stash">Stashing(z)(git stash)</h2>
<p>把临时未commit 的更改暂存起来</p>
<table>
<thead>
<tr>
<th>zz</th>
<th>git stash</th>
<th>暂存</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>git stash pop</td>
<td>找回</td>
</tr>
</tbody>
</table>
<h2 id="resetting--x-or-evil-magit-o">Resetting (x or evil-magit:o)</h2>
<p>放弃最近的n次提交，这n次的提交内容变成staged状态，之后可以进行合并提交或者丢弃
只需要在日志日光标定位到想要丢弃的log,即可回滚到这一次的提交状态</p>
<h2 id="checkout-tag">checkout tag</h2>
<p>Type y to show a buffer which lists branches, remote branches, and, at the bottom, tags.</p>
<p>&hellip;in order to diff a specific revision [reachable from that tag]
Move to the tag and press loRET. That shows the log for that tag. Move to the commit and press RET. That shows information about that commit, including the diff.</p>
<p>You don&rsquo;t necessarily have to move to the tag first to show the log for it. You can also type</p>

    </div>
</article>


<div class="license markdown-body">
    <blockquote>
        <p>Unless otherwise noted, the content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
               target="_blank">CC BY-NC-SA 4.0</a>.</p>
    </blockquote>
</div>



            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/search/">Search</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/hllu" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://space.bilibili.com" target="_blank"><span>bilibili</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/blog/">Blog</a>
            </span>
            
            <span>
                <a href="/tags/curl/">curl</a>
            </span>
            
            <span>
                <a href="/tags/emacs/">emacs</a>
            </span>
            
            <span>
                <a href="/tags/http/">http</a>
            </span>
            
            <span>
                <a href="/tags/org-model/">org-model</a>
            </span>
            
            <span>
                <a href="/tags/picture/">picture</a>
            </span>
            
            <span>
                <a href="/tags/snippet/">snippet</a>
            </span>
            
            <span>
                <a href="/tags/ssh/">ssh</a>
            </span>
            
        </div>
    </div>
    <div class="sidebar-item sidebar-toc">
        <h3>Table of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#帮助">帮助</a></li>
    <li><a href="#stage--git-add--与-unstage">Stage (git add )与 Unstage</a></li>
    <li><a href="#commit">Commit</a></li>
    <li><a href="#pull--f----git-pull--push--p----git-push">Pull(F)(git pull)  Push(p)(git push)</a></li>
    <li><a href="#log--l--查看日志">Log(l)查看日志</a></li>
    <li><a href="#cherry-picking--a-a">cherry picking(a A)</a></li>
    <li><a href="#stashing--z----git-stash">Stashing(z)(git stash)</a></li>
    <li><a href="#resetting--x-or-evil-magit-o">Resetting (x or evil-magit:o)</a></li>
    <li><a href="#checkout-tag">checkout tag</a></li>
  </ul>
</nav></div>
</aside>
        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/search/">Search</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/hllu" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://space.bilibili.com" target="_blank"><span>bilibili</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/blog/">Blog</a>
            </span>
            
            <span>
                <a href="/tags/curl/">curl</a>
            </span>
            
            <span>
                <a href="/tags/emacs/">emacs</a>
            </span>
            
            <span>
                <a href="/tags/http/">http</a>
            </span>
            
            <span>
                <a href="/tags/org-model/">org-model</a>
            </span>
            
            <span>
                <a href="/tags/picture/">picture</a>
            </span>
            
            <span>
                <a href="/tags/snippet/">snippet</a>
            </span>
            
            <span>
                <a href="/tags/ssh/">ssh</a>
            </span>
            
        </div>
    </div>
    
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>Table of Contents</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#帮助">帮助</a></li>
    <li><a href="#stage--git-add--与-unstage">Stage (git add )与 Unstage</a></li>
    <li><a href="#commit">Commit</a></li>
    <li><a href="#pull--f----git-pull--push--p----git-push">Pull(F)(git pull)  Push(p)(git push)</a></li>
    <li><a href="#log--l--查看日志">Log(l)查看日志</a></li>
    <li><a href="#cherry-picking--a-a">cherry picking(a A)</a></li>
    <li><a href="#stashing--z----git-stash">Stashing(z)(git stash)</a></li>
    <li><a href="#resetting--x-or-evil-magit-o">Resetting (x or evil-magit:o)</a></li>
    <li><a href="#checkout-tag">checkout tag</a></li>
  </ul>
</nav>
    </div>
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2021-2023
                <a href="https://hllu.github.io">hllu</a>
                 | <a href="https://github.com/hllu/day">Source code</a> 
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.0/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>


</body>

</html>