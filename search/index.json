[{"content":"git blame 排查问题的时候，为了查找是谁改得某个文件或者某一行，可以用git blame这 个命令，用法最常用的就是\ngit blame \u0026lt;filename\u0026gt; git blame -L start,end \u0026lt;filename\u0026gt; 或者\ngit blame myfile.py git blame -L 5,20 myfile.py //查看5-20行的修改历史 git blame -L 5,+20 myfile.py //表示查看5行及后面20行 magit中使用快捷键的方式，先选中需要查询的几行代码 然后按键C-c M-g b即可。\n按键C-c M-g后，还有其他的选项，可以都去试试。\n示例 从代码中按键C-c M-g b后，显示每一行的修改情况。 magit还有其他的blame选项，也可以去试试。 ","date":"2023-05-31","permalink":"https://hllu.github.io/posts/git-blame%E4%BD%BF%E7%94%A8/","tags":["magit","git","emacs","blame"],"title":"git blame使用"},{"content":"emacs在org模式画图 org模式画简单的图，可以用ditaa这种工具，小巧够用，可以满足大部分的需求。 配合emacs的picture-mode和artis-mode，可以实现文本画大部分的图。生成的 图形效果还不错。\n但要画比较复杂的图，比如脑图，时序图等，ditaa就有点不够用了。就需要 plantuml这种更强大的工具。\nplantuml 介绍 PlantUML 是基于 Java 语言的开源 UML（Unified Modeling Language）图形绘 制工具，因为其可以单独绘图，又可以嵌入 Markdown 以及 HTML，因而被不少 开发文档采用。PlantUML 可以看作是著名绘图工具 Graphviz 的封装。\nPlantUML 支持的图形可简单分为三种类型\n基本类：流程图、时序图、甘特图 工程类：类图、实体关系图、用例图、组件图 导图类：思维导图、组织结构导图 其他的支持类型，可以到官网上查看。\nPlantUML 内置了 30 多种主题，可以通过 help themes 命令查看内置主题列表。 https://plantuml.com/zh/\n安装 mac下先安装graphviz，是plantuml的依赖组件。\n:: brew install graphviz\n后从官网下载plantuml的jar包，放到emacs的插件目录下。\n配置 emacs中，相关的配置\n(org-babel-do-load-languages 'org-babel-load-languages '((emacs-lisp . t) (ditaa . t) (python . t) (shell . t) (latex . t) (plantuml . t) (dot . t) (lisp . t) (org . t) (java . t))) (setq org-plantuml-jar-path (expand-file-name \u0026quot;~/.emacs.d/plugins/plantuml-1.2023.8.jar\u0026quot;)) (setq org-confirm-babel-evaluate nil) ;picture 不提示 (add-hook 'org-babel-after-execute-hook 'bh/display-inline-images 'append) (setq org-babel-results-keyword \u0026quot;results\u0026quot;) (defun bh/display-inline-images () (condition-case nil (org-display-inline-images) (error nil))) (define-skeleton skel-org-block-plantuml \u0026quot;Insert a org plantuml block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src plantuml :file \u0026quot; str \u0026quot;.png :cach yes :cmdline -charset UTF-8\\n\u0026quot; \u0026quot;title \u0026quot; @ - \\n \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;spuml\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml) 语法 颜色，基本组件 -\u0026gt;表示消息传递走向，默认箭头类型是单向直线，PlantUML手册中有很多样式可以通过代码自定义颜色和样式 \u0026ndash;\u0026gt;是单向虚直线箭头，一般是用来传递消息返回信息 scale=2 设置图形大小 使用 as关键字重命名参与者 使用 title 增加标题 legend 和 end legend 作为关键词，用于配置一个图例(legend). 支持可选 地使用left,right,center为这个图例指定对齐方式. caption显示在图片下方的标题 together 有时候，默认布局并不完美,你可以使用 together 关键词将某些类进行分组： 布局引擎会尝试将它们捆绑在一起 package 可以定义不同的样式,你可以通过以下的命令来设置默认样式 : skinparam packageStyle,或者对包使用对应的模板 如果需要调整布局，学会使用a -[hidden]d- c ， A -[hidden]left- B 类似 的方式 skinparam nodesep x will increase the horizontal margin skinparam ranksep x affects the vertical margin 时序图 常用对象\nactor :: 实体对象，比如人、操作员等 participant:: 参与者，可以是类、服务名等 database :: 数据库 queue :: 队列，比如kafka队列就可以用这个表示 boundary :: 边界 control :: 控制 entity :: 实体 collections :: 集合\n常用操作\n使用activate和deactivate来激活、销毁生命周期 destroy 表示一个参与者的生命线的终结 用 alt-else-end 表示分支 用 loop-end表示循环 使用 order 来自定义参与者的顺序，值越大的越靠后 autonumber 自动对消息编号 使用 note left 或 note right 给消息添加注释，可以用 end note 添加多 行注释。 用 == 将图标分隔成多个逻辑步骤 使用\u0026hellip; 表示延迟，并且可以给延迟添加注释;如\u0026hellip;.5min later\u0026hellip;. 思维导图 以@startmindmap开始，以@endmindmap结束。 用+或-新建分支，用符号数量表示层级，+表示分支向右边生长，-表示分支向 左边生长。也可以用*建立分支 使用:开始多行内容，;结束多行内容。目前如果要使用: ;只能用*新建分支 思维导图中定义颜色\n@startmindmap \u0026lt;style\u0026gt; mindmapDiagram { .green { BackgroundColor lightgreen } .rose { BackgroundColor #FFBBCC } .your_style_name { BackgroundColor lightblue } } \u0026lt;/style\u0026gt; * Colors ** Green \u0026lt;\u0026lt;green\u0026gt;\u0026gt; ** Rose \u0026lt;\u0026lt;rose\u0026gt;\u0026gt; ** Blue \u0026lt;\u0026lt;your_style_name\u0026gt;\u0026gt; @endmindmap 流程图 架构图 plantuml支持Archimate画架构图，也可以通过c4的插件，画c4风格的架构图。\nArchimate是一种架构建模语言，顾名思义，是专业架构师（Archi）的好伴侣 （Mate）。\nArchiMate的建模概念元素虽然种类繁多，但究其性质而言不外乎结构元素 （Structure Element）和行为元素（Behavior Element）两种（也可称为静态 元素和动态元素），前者代表了各种结构化的实体（如参与者、应用组件以及数 据等），而后者则用来描述结构化元素所能执行的各种行为（如业务活动、应用 功能以及服务等）。此外，根据与行为元素之间的关系进一步划分，结构元素又 可被分为主动性结构元素（Active Structure Element）和被动性结构元素 （Passive Structure Element），前者表示发起动作的结构元素（例如参与者、 应用组件等），而后者则被用来描述行为元素的各种目标（例如业务数据、信息 数据等）。由此可见，ArchiMate所使用的描述方式与很多标准化的描述方式 （例如RDF语言）有着异曲同工之妙，基本采用“主动对象（主语）、行为（谓 语）、被动对象（宾语）+相互之间的关系”进行建模描述。\nArchiMate 3.0可以完全覆盖自身所在行业架构工作建模的方方面面，但它只有 59个元素 、13种关联关系（relationship） ，如此简洁的要素和关系却可以描 述如复杂的架构范围，堪称建模语言的翘楚。\n示例 流程图 打开一个org文档，加入一个planduml代码块，代码需要以BEGIN_SRC开头 plantuml开头如下：\nstart if (Graphviz installed?) then (yes) :process all\\ndiagrams; else (no) :process only __sequence__ and __activity__ diagrams; endif stop 显示效果如下：\n架构图 uml代码\ntitle \u0026lt;u\u0026gt;Simple\u0026lt;/u\u0026gt; communication example on \u0026lt;i\u0026gt;several\u0026lt;/i\u0026gt; lines and using \u0026lt;back:cadetblue\u0026gt;creole tags\u0026lt;/back\u0026gt; end title node \u0026quot;note \u0026quot; { rectangle GO #lightgreen rectangle STOP #red rectangle WAIT #orange !define Junction_Or circle #black !define Junction_And circle #whitesmoke Junction_And JunctionAnd Junction_Or JunctionOr archimate #Technology \u0026quot;VPN Server\u0026quot; as vpnServerA \u0026lt;\u0026lt;technology-device\u0026gt;\u0026gt; GO -up-\u0026gt; JunctionOr STOP -up-\u0026gt; JunctionOr STOP -down-\u0026gt; JunctionAnd WAIT -down-\u0026gt; JunctionAnd } package和颜色 title comtest skinparam rectangle\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; { roundCorner 25 } sprite $bProcess jar:archimate/business-process sprite $aService jar:archimate/application-service sprite $aComponent jar:archimate/application-component rectangle user #lightyellow;line.dotted;text:red { rectangle \u0026quot;Handle claim\u0026quot; as HC \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business rectangle \u0026quot;Capture Information\u0026quot; as CI \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business rectangle \u0026quot;Notify\\nAdditional Stakeholders\u0026quot; as NAS \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business rectangle \u0026quot;Validate\u0026quot; as V \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business rectangle \u0026quot;Investigate\u0026quot; as I \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business rectangle \u0026quot;Pay\u0026quot; as P \u0026lt;\u0026lt;$bProcess\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Business HC *-down- CI HC *-down- NAS HC *-down- V HC *-down- I HC *-down- P V -right-\u0026gt;\u0026gt; I I -right-\u0026gt;\u0026gt; P } package \u0026quot;severicenow\u0026quot; #lightgreen { rectangle \u0026quot;Scanning\u0026quot; as scanning \u0026lt;\u0026lt;$aService\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Application rectangle \u0026quot;Customer admnistration\u0026quot; as customerAdministration \u0026lt;\u0026lt;$aService\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Application rectangle \u0026quot;Claims admnistration\u0026quot; as claimsAdministration \u0026lt;\u0026lt;$aService\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Application rectangle Printing \u0026lt;\u0026lt;$aService\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Application rectangle Payment \u0026lt;\u0026lt;$aService\u0026gt;\u0026gt;\u0026lt;\u0026lt;behavior\u0026gt;\u0026gt; #Application } scanning -up-\u0026gt; CI customerAdministration -up-\u0026gt; CI claimsAdministration -up-\u0026gt; NAS claimsAdministration -up-\u0026gt; I Payment -up-\u0026gt; P Printing -up-\u0026gt; V Printing -up-\u0026gt; P rectangle #lightgray;line:lightgray { rectangle \u0026quot;Document\\nManagement\\nSystem\u0026quot; as DMS \u0026lt;\u0026lt;$aComponent\u0026gt;\u0026gt; #Application rectangle \u0026quot;General\\nCRM\\nSystem\u0026quot; as CRM \u0026lt;\u0026lt;$aComponent\u0026gt;\u0026gt; #Application rectangle \u0026quot;Home \u0026amp; Away\\nPolicy\\nAdministration\u0026quot; as HAPA \u0026lt;\u0026lt;$aComponent\u0026gt;\u0026gt; #Application rectangle \u0026quot;Home \u0026amp; Away\\nFinancial\\nAdministration\u0026quot; as HFPA \u0026lt;\u0026lt;$aComponent\u0026gt;\u0026gt; #Application } DMS .up.|\u0026gt; scanning CRM .up.|\u0026gt; customerAdministration HAPA .up.|\u0026gt; claimsAdministration HFPA .up.|\u0026gt; Payment legend left Example from the \u0026quot;Archisurance case study\u0026quot; (OpenGroup). See ==== \u0026lt;$bProcess\u0026gt; :business process ==== \u0026lt;$aService\u0026gt; : application service ==== \u0026lt;$aComponent\u0026gt; : application component endlegend 可以嵌套的元素 'left to right direction top to bottom direction rectangle \u0026quot;rc1\u0026quot; as rc1{ artifact artifact { } card card { } cloud cloud { } component component { } database database { } } rectangle \u0026quot;rc2\u0026quot; as rc2 #lightgreen { file file { } folder folder { } frame frame { } hexagon hexagon { } node node { } } package \u0026quot;rc3\u0026quot; as rc3{ package package { } queue queue { } rectangle rectangle { } stack stack { } storage storage { } } rc1 -[hidden]-\u0026gt; rc2 rc2-[hidden]-\u0026gt;rc3 package 可以指定种类 scale 750 width package foo1 \u0026lt;\u0026lt;Node\u0026gt;\u0026gt; { class Class1 } package foo2 \u0026lt;\u0026lt;Rectangle\u0026gt;\u0026gt; { class Class2 } package foo3 \u0026lt;\u0026lt;Folder\u0026gt;\u0026gt; { class Class3 } package foo4 \u0026lt;\u0026lt;Frame\u0026gt;\u0026gt; { class Class4 } package foo5 \u0026lt;\u0026lt;Cloud\u0026gt;\u0026gt; { class Class5 } package foo6 \u0026lt;\u0026lt;Database\u0026gt;\u0026gt; { class Class6 } plantuml支持ditaa plantuml中，可以支持ditaa图。以@startditaa开始以@endditaa之间的内容， 会按ditaa的语法来处理。plantuml代码块里的代码如下：\n生成的图片：\n","date":"2023-05-30","permalink":"https://hllu.github.io/posts/emacs%E5%9C%A8org%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8plantuml/","tags":["emacs","org-mode","plantuml"],"title":"emacs在org模式使用plantuml"},{"content":"my .config ;; Added by Package.el. This must come before configurations of ;; installed packages. Don't delete this line. If you don't want it, ;; just comment it out by adding a semicolon to the start of the line. ;; You may delete these explanatory comments. ;; C-x C-+会增加字体大小 ;; C-+ 或 C-- 会增加/缩小字体大小 ;; C-x C-0会恢复字体大小 ;;================org======================== ;;-------------------org----------------- ;; #+ATTR_ORG: :width 100 ~ ;; #+ATTR_HTML: :width 100 ~ ;; C-c C-q 为标题添加标签 ;;C-c, 设置优先级（方括号里的ABC） ;; C-c / m 生成带标签的树 ;;C-c C-x C-v 直接预览图片 ;;C-c /\t它会提示再输入一个字符来选择稀疏树的创建命令。 ;;C-c / r 将所有匹配的项显示成稀疏树。所有的匹配项都会高亮显示；按 C-c C-c 取消高亮。 ;;------------------end org--------------- ;;------------------beamer--------------- ;;C-c C-b i beamer 控制宏 ;;===================end org=============== ;; M -x delete-duplicate-lines ;; C-u 7 M-x sort-field ;; M-/ （dabbrev-expand） 动态补全，默认搜索本文本 ;; #+OPTIONS ^:nil 关闭下划线转义 输入a_{b}才转义 ;; #+OPTIONS: toc:t ^:nil author:nil num:2 ;; #+OPTINS: n:t html 中不换行 ;;--------------------------job-------------------- ;; C-c C-t || S-LEFT/RIGHT 定义todo任务 ;; C-c [ \u0026amp;\u0026amp; C-c ] 将文件加入或移除清单 ;; C-c a t 列出所有未完成任务 ;; C-c a a 日程表视图 ;; C-c C-x C-v 直接预览图片 ;;--------------------src ------------- ;;(require 'org-tempo) ;; if want use \u0026lt;s TAB to begin a src block in org-mode 9.3,you must ;; add org-tempo. you can also use C-c C-, to do the same thing. ;;-------------------------------------- ;; 丛journal中导出md文件 ;; C-c C-e H H ;;-------------------------------------- ;;=================book mark================ ;; ‘C-x r m’ – set a bookmark at the current location (e.g. in a file) ;; ‘C-x r b’ – jump to a bookmark ;; ‘C-x r l’ – list your bookmarks ;; ‘M-x bookmark-delete’ – delete a bookmark by name ;;=========================================== ;; #+TITLE: Documents and presentations with org-mode ;; #+AUTHOR: John Goerzen ;; #+BEAMER_HEADER: \\institute{The Changelog} ;; #+PROPERTY: comments yes ;; #+PROPERTY: header-args :exports both :eval never-export ;; #+OPTIONS: H:2 ;; #+BEAMER_THEME: CambridgeUS ;; #+BEAMER_COLOR_THEME: default ;;=================================================== ;; M-s o occur ;;========================================================== (package-initialize) ;;(setq debug-on-error t) ;;调试模式 (add-to-list 'package-archives ' (\u0026quot;melpa\u0026quot; . \u0026quot;http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/\u0026quot;)) ;' (\u0026quot;gnu\u0026quot; . \u0026quot;http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/\u0026quot;) ;' (\u0026quot;nongnu\u0026quot; . \u0026quot;http://mirrors.tuna.tsinghua.edu.cn/elpa/nongnu/\u0026quot;) ;; . \u0026quot;http://elpa.emacs-china.org/melpa/\u0026quot;) ;t) ;;启动设置 (setq default-frame-alist '((vertical-scroll-bars) (top . 0) (left . 1050) (width . 120) (height . 72) (background-color . \u0026quot;black\u0026quot;) ; (foreground-color . \u0026quot;grey\u0026quot;) (cursor-color . \u0026quot;gold1\u0026quot;) (mouse-color . \u0026quot;gold1\u0026quot;) (tool-bar-lines . 0) (menu-bar-lines . 0) (right-fringe) (left-fringe))) ;;启动自动最大化(数据自己调整，注意格式，如(top . 0)，圆点前后都要留有空格) ;;(setq initial-frame-alist '((top . 0) (left . 0) (width . 142) (height . 46))) ;;=================-用户信息========================== (add-to-list 'load-path \u0026quot;/Users/mypath/.emacs.d/myconfig/\u0026quot;) (setq default-directory \u0026quot;/Users/mypath\u0026quot;);;设置打开文件的缺省路径 (add-to-list 'exec-path \u0026quot;/usr/local/bin\u0026quot;);;添加执行路径，可以M-x ielm 查看exec-path (setq user-full-name \u0026quot;user_name\u0026quot;) (setq user-mail-address \u0026quot;user_name@comp.com\u0026quot;) ;;================end==================================== (setq dired-dwim-target t) ;; dired ;;=================窗口设置================ (load-theme 'deeper-blue t t) ;;加载浅色主题，但不启用。 (load-theme 'tango-dark t t)\t;;加载深色主题，但不启用。 ;;早上5点启用浅色主题， 每24小时重复一次。 (run-at-time \u0026quot;05:00\u0026quot; (* 60 60 24) (lambda () (enable-theme 'tango-dark))) ;;晚上7点启用深色主题， 每24小时重复一次。 (run-at-time \u0026quot;19:00\u0026quot; (* 60 60 24) (lambda () (enable-theme 'deeper-blue))) ;;------------窗口界面设置结束----------------- ;;------------显示时间设置------------------------------ (display-time-mode 1);;启用时间显示设置，在minibuffer上面的那个杠上 (setq display-time-24hr-format t);;时间使用24小时制 (setq display-time-day-and-date t);;时间显示包括日期和具体时间 ;; (setq display-time-interval 10);;时间的变化频率，单位多少来着？ ;;(setq word-wrap-by-category t) ;;自动换行 ;;------------显示时间设置结束-------------- ;;------------定制操作习惯-------------------- (setq visible-bell t) ;;关闭烦人的出错时的提示声 (setq inhibit-startup-message t);;关闭emacs启动时的画面 (fset 'yes-or-no-p 'y-or-n-p);; yes 按y或空格键，n 表示 no。 ;; (setq font-lock-maximum-decoration t) ;; (setq font-lock-global-modes '(not shell-mode text-mode)) ;; (setq font-lock-verbose t) ;; (setq font-lock-maximum-size '((t . 1048576) (vm-mode . 5250000))) ;; 语法高亮。除 shell-mode 和 text-mode 之外的模式中使用语法高亮。 ;;(setq column-number-mode t) ;;(setq line-number-mode t) (global-display-line-numbers-mode t) ;;显示行列号 (setq mouse-yank-at-point t) ;;不要在鼠标点击的那个地方插入剪贴板内容。 (setq kill-ring-max 200);;设置粘贴缓冲条目数量 (setq-default auto-fill-function 'do-auto-fill) ; Autofill in all modes;; ;;(setq default-fill-column 360) ;;把 fill-column 设为 60. 这样的文字更好读 (setq-default indent-tabs-mode nil) (setq default-tab-width 8);;tab键为8个字符宽度 (setq tab-stop-list ()) ;;不用 TAB 字符来indent, 这会引起很多奇怪的错误 (setq-default line-spacing 6) ;; 行间距设置 (setq enable-recursive-minibuffers t) ;;可以递归的使用 minibuffer (setq scroll-margin 3 scroll-conservatively 10000);;防止页面滚动时跳动，3行时滚动 (setq default-major-mode 'text-mode) ;;设置缺省主模式是text， (add-hook 'text-mode-hook 'turn-on-auto-fill) ;;进入auto-fill次模式.而不是基本模式fundamental-mode (show-paren-mode t);;打开括号匹配显示模式 (mouse-avoidance-mode 'animate);;光标靠近鼠标指针时，让鼠标指针自动让开 (setq frame-title-format \u0026quot;emacs@%b\u0026quot;);;在标题栏显示buffer的名字 (setq auto-image-file-mode t) ;;让 Emacs 可以直接打开和显示图片。 (setq global-font-lock-mode t);;进行语法加亮。 ;; 把C-j绑定到到达指定行上 (global-set-key (kbd \u0026quot;C-h\u0026quot;) 'backward-delete-char-untabify) (global-set-key (kbd \u0026quot;M-h\u0026quot;) 'backward-kill-word) (global-set-key (kbd \u0026quot;\u0026lt;f1\u0026gt;\u0026quot;) 'help-command) (global-set-key (kbd \u0026quot;\u0026lt;f8\u0026gt;\u0026quot;) 'bash) (global-set-key (kbd \u0026quot;M-[\u0026quot;) 'multi-term-prev) (global-set-key (kbd \u0026quot;M-]\u0026quot;) 'multi-term-next) (global-set-key \u0026quot;\\C-cg\u0026quot; 'magit-status) ;;当你在shell、telnet、w3m等模式下时，必然碰到过要输入密码的情况,此时加密显出你的密码 (add-hook 'comint-output-filter-functions 'comint-watch-for-password-prompt) (setq make-backup-files nil);; 设定不产生备份文件 (setq-default make-backup-files nil);; 不生成临时文件 (put 'scroll-left 'disabled nil) ;允许屏幕左移 (put 'scroll-right 'disabled nil) ;允许屏幕右移 (put 'set-goal-column 'disabled nil) (put 'narrow-to-region 'disabled nil) (put 'upcase-region 'disabled nil) (put 'downcase-region 'disabled nil) (put 'LaTeX-hide-environment 'disabled nil) ;;把这些缺省禁用的功能打开。 (setq x-select-enable-clipboard t);;允许emacs和外部其他程序的粘贴 (setq org-image-actual-width nil);;不显示实际图片尺寸 (setq track-eol t) ;; 当光标在行尾上下移动的时候，始终保持在行尾。 ;;====================yasnippet=============== ;; (setq yas-snippet-dirs ;; '(\u0026quot;~/.emacs.d/snippets/\u0026quot;;;personal snippets ;; )) ;; (yas-global-mode 1) (require 'openwith) (openwith-mode t) (setq openwith-associations '((\u0026quot;\\.docx$\u0026quot; \u0026quot;open\u0026quot; (file) )(\u0026quot;\\.xlsx$\u0026quot; \u0026quot;open\u0026quot; (file) ) (\u0026quot;\\.pptx$\u0026quot; \u0026quot;open\u0026quot; (file)) (\u0026quot;\\.mov\\|\\.RM$\\|\\.RMVB$\\|\\.avi$\\|\\.AVI$\\|\\.flv$\\|\\.mp4\\|\\.mkv$\\|\\.rmvb$\u0026quot; \u0026quot;open\u0026quot; (file) ) (\u0026quot;\\.pdf$\u0026quot; \u0026quot;open\u0026quot; (file)) (\u0026quot;\\.CHM$\\|\\.chm$\u0026quot; \u0026quot;open\u0026quot; (file) ) ) ) ;;(org-use-sub-superscripts '{}) ;; 上标^下标_是否需要特殊字符包裹，这里设置需要用大括号包裹 (require 'myorg) (require 'mygtd) (require 'myabbrev) ;;-------------------begin tramp------------------------- ;;(customize-set-variable 'tramp-default-method \u0026quot;ssh\u0026quot;) ;; (add-to-list 'tramp-default-method-alist '(\u0026quot;\u0026quot; \u0026quot;john\u0026quot; \u0026quot;ssh\u0026quot;)) ;; (add-to-list 'tramp-default-method-alist '(\u0026quot;lily\u0026quot; \u0026quot;\u0026quot; \u0026quot;rsync\u0026quot;)) ;; (add-to-list 'tramp-default-method-alist ;; '(\u0026quot;\\\\`localhost\\\\'\u0026quot; \u0026quot;\\\\`root\\\\'\u0026quot; \u0026quot;su\u0026quot;)) ;;-------------------end tramp--------------------------- ;;============================================================ (setq message-kill-buffer-on-exit t) ;;=====================begin eshell==================== (defun eshell-here () \u0026quot;Opens up a new shell in the directory associated with the current buffer's file. The eshell is renamed to match that directory to make multiple eshell windows easier.\u0026quot; (interactive) (let* ((parent (if (buffer-file-name) (file-name-directory (buffer-file-name)) default-directory)) (height (/ (window-total-height) 3)) (name (car (last (split-string parent \u0026quot;/\u0026quot; t))))) (split-window-vertically (- height)) (other-window 1) (eshell \u0026quot;new\u0026quot;) (rename-buffer (concat \u0026quot;*eshell: \u0026quot; name \u0026quot;*\u0026quot;)) ;; (insert (concat \u0026quot;ls\u0026quot;)) ;; (eshell-send-input) )) (global-set-key (kbd \u0026quot;C-!\u0026quot;) 'eshell-here) (defun eshell/x () (eshell-life-is-too-much) (delete-window)) (add-hook 'eshell-mode-hook (lambda () (define-key eshell-mode-map (kbd \u0026quot;C-d\u0026quot;) (lambda (arg) \u0026quot;Delete a character or quit eshell if there's nothing to delete.\u0026quot; (interactive \u0026quot;p\u0026quot;) (if (and (eolp) (looking-back eshell-prompt-regexp nil)) (progn (eshell-life-is-too-much) (delete-window)) (delete-char arg)))))) ;;=====================end eshell==================== ;;==============begin picture================= (org-babel-do-load-languages 'org-babel-load-languages '((emacs-lisp . t) (ditaa . t) (python . t) (shell . t) (latex . t) (plantuml . t) (dot . t) (lisp . t) (org . t) (java . t))) (setq org-plantuml-jar-path (expand-file-name \u0026quot;~/.emacs.d/plugins/plantuml-1.2023.8.jar\u0026quot;)) (setq org-ditaa-jar-path \u0026quot;~/.emacs.d/plugins/ditaa0_9.jar\u0026quot;) (setq org-confirm-babel-evaluate nil) ;picture 不提示 (add-hook 'org-babel-after-execute-hook 'bh/display-inline-images 'append) ; Make babel results blocks lowercase (setq org-babel-results-keyword \u0026quot;results\u0026quot;) (defun bh/display-inline-images () (condition-case nil (org-display-inline-images) (error nil))) (setq org-latex-create-formula-image-program 'imagemagick) ;使用imagemagick (eval-after-load \u0026quot;preview\u0026quot; '(add-to-list 'preview-default-preamble \u0026quot;\\\\PreviewEnvironment{tikzpicture}\u0026quot; t)) ;;C-c C-c get pic C-c C-x C-v see picture ;;==============end picture================= (custom-set-variables ;; custom-set-variables was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. '(org-agenda-files '(\u0026quot;/Users/mypath/.todos/journal.org\u0026quot; \u0026quot;/Users/mypath/.todos/gtd.org\u0026quot;)) '(org-download-screenshot-method \u0026quot;screencapture -i %s\u0026quot;) '(package-selected-packages '(ox-spectacle org-download yasnippet ox-hugo openwith elpy magit magit-gerrit magithub))) ;; foreground color (yellow) ;; ---- END Email client ---- ;;---------------------------------------------------------- ;;(put 'erase-buffer 'disabled nil) (custom-set-faces ;; custom-set-faces was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. ) my latex config (provide 'myorg) ;;--------------------------begin latex--------------------------- ;;export ;; (require 'ox-latex) ;;-------------------------begin org-download------------------- (require 'org-download) (add-hook 'dired-mode-hook 'org-download-enable) (setq org-download-annotate-function (lambda (_link) \u0026quot;\u0026quot;)) (defun my-org-download-method (link) (let ((filename (format-time-string \u0026quot;screenshot_%Y%m%d_%H%M%S.png\u0026quot;)) (dirname (file-name-sans-extension (buffer-name)) )) ;; if directory not exist, create it (unless (file-exists-p dirname) (make-directory dirname)) ;; return the path to save the download files (expand-file-name filename dirname))) (setq org-download-method 'my-org-download-method) (add-hook 'org-mode-hook (lambda() (local-set-key (kbd \u0026quot;C-c p\u0026quot;) 'org-download-screenshot))) ;;-------------------------End org-download ----------------- (require 'ox-beamer) (with-eval-after-load 'ox-latex (add-to-list 'org-latex-classes '(\u0026quot;ctexart\u0026quot; \u0026quot;\\\\documentclass[UTF8,a4paper,12pt]{ctexart} \\\\setcounter{secnumdepth}{4} \\\\usepackage[linkcolor=blue,citecolor=blue,backref=page]{hyperref} \\\\usepackage{xeCJK} \\\\hypersetup{hidelinks} \\\\usepackage{color} \\\\usepackage{xcolor} \\\\usepackage{fontspec} \\\\usepackage{tikz} \\\\usepackage{geometry} \\\\geometry{top=2cm,bottom=2cm,right=2cm,left=2.5cm} \\\\geometry{headsep=0.5cm} \\\\usepackage{setspace} \\\\setlength{\\\\baselineskip}{22pt} \\\\setlength{\\\\parskip}{0pt} \\\\usepackage{enumerate} \\\\usepackage{enumitem} \\\\newcommand{\\\\xiaosan}{\\\\fontsize{15.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\sihao}{\\\\fontsize{14.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\xiaosi}{\\\\fontsize{12.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\wuhao}{\\\\fontsize{10.5pt}{\\\\baselineskip}\\\\selectfont} \\\\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\setdescription{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\usepackage[super,square,numbers,sort\u0026amp;compress]{natbib} \\\\usepackage{minted} \\\\usemintedstyle{emacs}%{vs}%{pastie}%{autumn}%{emacs}%{tango}%{rrt}%{manni} \\\\usepackage{fancyhdr} \\\\pagestyle{plain} \\\\ctexset{contentsname=\\\\heiti{目{\\\\quad}录}} \\\\usepackage{titlesec} \\\\titleformat{\\\\section}[block]{\\\\normalfont\\\\xiaosan\\\\bfseries\\\\heiti}{\\\\thesection}{10pt}{\\\\xiaosan} \\\\titleformat{\\\\subsection}[block]{\\\\normalfont\\\\sihao\\\\bfseries\\\\heiti}{\\\\thesubsection}{10pt}{\\\\sihao } \\\\titleformat{\\\\subsubsection}[block]{\\\\normalfont\\\\sihao\\\\bfseries\\\\heiti}{\\\\thesubsubsection}{10pt}{\\\\sihao} \\\\titlespacing{\\\\chapter} {0pt}{-22pt}{0pt}{} \\\\titlespacing{\\\\section} {0pt}{0pt}{0pt} \\\\titlespacing{\\\\subsection} {0pt}{0pt}{0pt} \\\\titlespacing{\\\\subsubsection} {0pt}{0pt}{0pt}\u0026quot; (\u0026quot;\\\\section{%s}\u0026quot; . \u0026quot;\\\\section*{%s}\u0026quot;) (\u0026quot;\\\\subsection{%s}\u0026quot; . \u0026quot;\\\\subsection*{%s}\u0026quot;) (\u0026quot;\\\\subsubsection{%s}\u0026quot; . \u0026quot;\\\\subsubsection*{%s}\u0026quot;) (\u0026quot;\\\\paragraph{%s}\u0026quot; . \u0026quot;\\\\paragraph*{%s}\u0026quot;) (\u0026quot;\\\\subparagraph{%s}\u0026quot; . \u0026quot;\\\\subparagraph*{%s}\u0026quot;))) (add-to-list 'org-latex-classes ;; beamer class, for presentations '(\u0026quot;beamer\u0026quot; \u0026quot;\\\\documentclass[11pt,professionalfonts]{beamer} \\\\mode \\\\beamertemplateballitem \\\\setbeameroption{show notes} \\\\usepackage{graphicx} \\\\usepackage{fontspec} \\\\usepackage{xeCJK} \\\\usepackage{color} \\\\usepackage{xcolor} \\\\usepackage{tikz} \\\\usepackage{titletoc} \\\\usepackage{ctex} \\\\usepackage{lmodern} \\\\usepackage{polyglossia} \\\\usepackage{verbatim} \\\\usepackage{soul} \\\\usepackage{textcomp} \\\\usepackage{marvosym} \\\\usepackage{wasysym} \\\\usepackage{latexsym} \\\\usepackage{minted} \\\\usemintedstyle{emacs}%{vs}%{pastie}%{autumn}%{emacs}%{tango}%{rrt}%{manni} \\\\usepackage{/Users/mypath/org/styles/zyuebeamer} \\\\subject{{{{beamersubject}}}}\u0026quot; (\u0026quot;\\\\section{%s}\u0026quot; . \u0026quot;\\\\section*{%s}\u0026quot;) (\u0026quot;\\\\begin{frame}[fragile]\\\\frametitle{%s}\u0026quot; \u0026quot;\\\\end{frame}\u0026quot; \u0026quot;\\\\begin{frame}[fragile]\\\\frametitle{%s}\u0026quot; \u0026quot;\\\\end{frame}\u0026quot;))) (add-to-list 'org-latex-packages-alist '(\u0026quot;UTF8,fontset=macnew\u0026quot; \u0026quot;ctex\u0026quot; t )) (setq org-latex-default-class \u0026quot;ctexart\u0026quot;) (setq org-latex-logfiles-extensions (quote (\u0026quot;lof\u0026quot; \u0026quot;lot\u0026quot; \u0026quot;tex~\u0026quot; \u0026quot;tex\u0026quot; \u0026quot;aux\u0026quot; \u0026quot;idx\u0026quot; \u0026quot;log\u0026quot; \u0026quot;out\u0026quot; \u0026quot;toc\u0026quot; \u0026quot;nav\u0026quot; \u0026quot;snm\u0026quot; \u0026quot;vrb\u0026quot; \u0026quot;dvi\u0026quot; \u0026quot;fdb_latexmk\u0026quot; \u0026quot;blg\u0026quot; \u0026quot;brf\u0026quot; \u0026quot;fls\u0026quot; \u0026quot;entoc\u0026quot; \u0026quot;ps\u0026quot; \u0026quot;spl\u0026quot; \u0026quot;bbl\u0026quot; \u0026quot;xdv\u0026quot;))) (setq org-latex-listings 'minted) (setq org-latex-minted-options '((\u0026quot;framesep\u0026quot; \u0026quot;2mm\u0026quot;) (\u0026quot;baselinestretch\u0026quot; \u0026quot;1.2\u0026quot;) (\u0026quot;linenos=true\u0026quot;) (\u0026quot;fontsize\u0026quot; \u0026quot;\\\\footnotesize\u0026quot;) ; ;; (\u0026quot;bgcolor\u0026quot; \u0026quot;LightGray\u0026quot;) (\u0026quot;breaklines\u0026quot; \u0026quot;true\u0026quot;) (\u0026quot;breakanywhere\u0026quot; \u0026quot;true\u0026quot;) )) (setq org-latex-pdf-process '(\u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot; \u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot;)) ) ;;\\\\ctexset{section={format=\\\\raggedright \\\\sihao \\\\heiti}} ;标题靠左 ;;\\\\usepackage[super,square,numbers,sort\u0026amp;compress]{natbib} ;引用标号 ;; \\\\usepackage{amssymb} ;数学公式包 ;; \\\\usepackage{mathrsfs} ;数学公式包 ;; \\\\usepackage[namelimits]{amsmath} ;数学公式包 ;; \\\\usepackage{tikz} ;绘图包,流程图，脑图 ;; \\\\setmainfont{Times New Roman} ;全局设置字体 ;; \\\\usepackage{ulem} ;下划线等标记 ;; \\\\usepackage{fancyhdr} ;设置页眉页脚 ;; \\\\pagestyle{fancy} ;; \\\\fancyhead{} ;; \\\\fancyhead[CO,CE]{\\\\leftmark} ;; \\\\institute{{{{beamerinstitute}}}} 指定学校 ;; (\u0026quot;framesep=2mm\u0026quot;) ;; (\u0026quot;fontsize=\\\\footnotesize\u0026quot;) ;; (add-to-list 'org-latex-packages-alist '(\u0026quot;\u0026quot; \u0026quot;minted\u0026quot;)) ;加入一个包 ;;--------------------------end latex--------------------------- ;; Enable abbrev-mode my abberev config (provide 'myabbrev) (add-hook 'org-mode-hook (lambda () (abbrev-mode t))) ;; abbev and skeleton (define-skeleton skel-org-block \u0026quot;Insert an org block, querying for type.\u0026quot; \u0026quot;Type: \u0026quot; \u0026quot;#+begin_\u0026quot; str \u0026quot;\\n\u0026quot; _ - \\n \u0026quot;#+end_\u0026quot; str \u0026quot;\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sblk\u0026quot; \u0026quot;\u0026quot; 'skel-org-block) (define-skeleton skel-org-block-ditaa \u0026quot;Insert a org ditaa block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src ditaa :file \u0026quot; str \u0026quot;.png :cache yes :cmdline -r\\n\u0026quot; _ - \\n \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sditaa\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-ditaa) (define-skeleton skel-org-beamer \u0026quot;Insert an org block, querying for type.\u0026quot; \u0026quot;Type: \u0026quot; \u0026quot;# -*- mode: snippet -*-\\n\u0026quot; \u0026quot;#+TITLE: \u0026quot; str \\n \u0026quot;#+AUTHOR: user_name \\n\u0026quot; \u0026quot;#+EMAIL: user_name@comp.com \\n\u0026quot; \u0026quot;#+DESCRIPTION: \\n\u0026quot; \u0026quot;#+KEYWORDS: \\n\u0026quot; \u0026quot;#+OPTIONS: H:2 num:t toc:t \\\\n:nil @:t ::t |:t ^:{} -:t f:t *:t \u0026lt;:t broken-links:t\\n\u0026quot; \u0026quot;#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc\\n\u0026quot; \u0026quot;#+EXPORT_SELECT_TAGS: export\\n\u0026quot; \u0026quot;#+EXPORT_EXCLUDE_TAGS: noexport\\n\u0026quot; \u0026quot;#+startup: beamer\\n\u0026quot; \u0026quot;#+LaTeX_CLASS: beamer\\n\u0026quot; \u0026quot;#+LaTeX_CLASS_OPTIONS: [bigger]\\n\u0026quot; \u0026quot;#+columns: %45ITEM %10BEAMER_env(Env) %10BEAMER_act(Act)%4BEAMER_col(Col) %8BEAMER_opt(Opt)\\n\u0026quot; @ _) (define-abbrev org-mode-abbrev-table \u0026quot;beamh\u0026quot; \u0026quot;\u0026quot; 'skel-org-beamer) (define-skeleton skel-defun \u0026quot;Insert a defun template.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;(defun \u0026quot; str \u0026quot; (\u0026quot; @ - \u0026quot;)\u0026quot; \\n \u0026quot;(\u0026quot; @ _ \u0026quot;)\u0026quot; \\n) (define-abbrev org-mode-abbrev-table \u0026quot;defun\u0026quot; \u0026quot;\u0026quot; 'skel-defun) (define-abbrev org-mode-abbrev-table \u0026quot;footz\u0026quot; \u0026quot;#+attr_latex: :font \\\\footnotesize\u0026quot; \u0026quot;\u0026quot;) (define-skeleton read-two-vars \u0026quot;Prompt the user for two variables, and use them in a skeleton.\u0026quot; \u0026quot;\u0026quot; \u0026gt; \u0026quot;variable A is \u0026quot; (setq v1 (skeleton-read \u0026quot;Variable A? \u0026quot;)) \\n \u0026gt; \u0026quot;variable B is \u0026quot; (setq v2 (skeleton-read \u0026quot;Variable B? \u0026quot;)) \\n \u0026gt; \u0026quot;A: \u0026quot; v1 \u0026quot; B: \u0026quot; v2 \\n) (define-abbrev org-mode-abbrev-table \u0026quot;twov\u0026quot; \u0026quot;\u0026quot; 'read-two-vars) (define-skeleton skel-org-orgh \u0026quot;Insert a org head.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;#+TITLE:\u0026quot; str \\n \u0026quot;#+OPTIONS: toc:t \u0026lt;:nil broken-links:t author:nil ^:{} todo:nil pri:nil tags:nil\\n \u0026quot; @ _) (define-abbrev org-mode-abbrev-table \u0026quot;orgh\u0026quot; \u0026quot;\u0026quot; 'skel-org-orgh) (define-skeleton skel-org-hugoh \u0026quot;Insert a hugo head.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;#+OPTIONS: author:nil ^:{} broken-links:t todo:nil pri:nil tags:nil\\n\u0026quot; \u0026quot;#+HUGO_BASE_DIR: ../\\n\u0026quot; \u0026quot;#+TITLE: \u0026quot; str \\n \u0026quot;#+HUGO_AUTO_SET_LASTMOD: t\\n\u0026quot; \u0026quot;#+HUGO_TAGS: \u0026quot; @ - \\n \u0026quot;#+HUGO_CATEGORIES: \\n\u0026quot; \u0026quot;#+HUGO_DRAFT: false\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;hugoh\u0026quot; \u0026quot;\u0026quot; 'skel-org-hugoh) (define-skeleton skel-org-picv \u0026quot;Insert a hugo head.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;#+CAPTION: \u0026quot; (setq v1 (skeleton-read \u0026quot;caption? \u0026quot;)) \\n \u0026quot;#+ATTR_HTML: :title \u0026quot; v1 \u0026quot; :align \u0026quot;(skeleton-read \u0026quot;centre/right/left? \u0026quot;)\\n \u0026quot;#+ATTR_HTML: :width \u0026quot;(setq v2 (skeleton-read \u0026quot;width %? \u0026quot;))\u0026quot;%\u0026quot; \u0026quot; :height \u0026quot;v2\u0026quot;%\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;pich\u0026quot; \u0026quot;\u0026quot; 'skel-org-picv) ;;==============plantuml===================== (define-skeleton skel-org-block-plantuml \u0026quot;Insert a org plantuml block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src plantuml :file \u0026quot; str \u0026quot;.png :cach yes :cmdline -charset UTF-8\\n\u0026quot; \u0026quot;title \u0026quot; @ - \\n \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;spuml\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml) (define-skeleton skel-org-block-plantuml-activity \u0026quot;Insert a org plantuml block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src plantuml :file \u0026quot; str \u0026quot;-act.png :cache yes :tangle \u0026quot; str \u0026quot;-act.txt\\n\u0026quot; (bh/plantuml-reset-counters) \u0026quot;@startuml\\n\u0026quot; \u0026quot;skinparam activity {\\n\u0026quot; \u0026quot;BackgroundColor\u0026lt;\u0026lt;New\u0026gt;\u0026gt; Cyan\\n\u0026quot; \u0026quot;}\\n\\n\u0026quot; \u0026quot;title \u0026quot; str \u0026quot; - \\n\u0026quot; \u0026quot;note left: \u0026quot; str \u0026quot;\\n\u0026quot; \u0026quot;(*) --\u0026gt; \\\u0026quot;\u0026quot; str \u0026quot;\\\u0026quot;\\n\u0026quot; \u0026quot;--\u0026gt; (*)\\n\u0026quot; _ - \\n \u0026quot;@enduml\\n\u0026quot; \u0026quot;#+end_src\\n\u0026quot;) (defvar bh/plantuml-if-count 0) (defun bh/plantuml-if () (incf bh/plantuml-if-count) (number-to-string bh/plantuml-if-count)) (defvar bh/plantuml-loop-count 0) (defun bh/plantuml-loop () (incf bh/plantuml-loop-count) (number-to-string bh/plantuml-loop-count)) (defun bh/plantuml-reset-counters () (setq bh/plantuml-if-count 0 bh/plantuml-loop-count 0) \u0026quot;\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sact\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml-activity) (define-skeleton skel-org-block-plantuml-activity-if \u0026quot;Insert a org plantuml block activity if statement\u0026quot; \u0026quot;\u0026quot; \u0026quot;if \\\u0026quot;\\\u0026quot; then\\n\u0026quot; \u0026quot; -\u0026gt; [condition] ==IF\u0026quot; (setq ifn (bh/plantuml-if)) \u0026quot;==\\n\u0026quot; \u0026quot; --\u0026gt; ==IF\u0026quot; ifn \u0026quot;M1==\\n\u0026quot; \u0026quot; -left-\u0026gt; ==IF\u0026quot; ifn \u0026quot;M2==\\n\u0026quot; \u0026quot;else\\n\u0026quot; \u0026quot;end if\\n\u0026quot; \u0026quot;--\u0026gt; ==IF\u0026quot; ifn \u0026quot;M2==\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sif\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml-activity-if) (define-skeleton skel-org-block-plantuml-activity-for \u0026quot;Insert a org plantuml block activity for statement\u0026quot; \u0026quot;Loop for each: \u0026quot; \u0026quot;--\u0026gt; ==LOOP\u0026quot; (setq loopn (bh/plantuml-loop)) \u0026quot;==\\n\u0026quot; \u0026quot;note left: Loop\u0026quot; loopn \u0026quot;: For each \u0026quot; str \u0026quot;\\n\u0026quot; \u0026quot;--\u0026gt; ==ENDLOOP\u0026quot; loopn \u0026quot;==\\n\u0026quot; \u0026quot;note left: Loop\u0026quot; loopn \u0026quot;: End for each \u0026quot; str \u0026quot;\\n\u0026quot; ) (define-abbrev org-mode-abbrev-table \u0026quot;sfor\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml-activity-for) (define-skeleton skel-org-block-plantuml-sequence \u0026quot;Insert a org plantuml activity diagram block, querying for filename.\u0026quot; \u0026quot;File appends (no extension): \u0026quot; \u0026quot;#+begin_src plantuml :file \u0026quot; str \u0026quot;-seq.png :cache yes :tangle \u0026quot; str \u0026quot;-seq.txt\\n\u0026quot; \u0026quot;@startuml\\n\u0026quot; \u0026quot;title \u0026quot; str \u0026quot; - \\n\u0026quot; \u0026quot;actor CSR as \\\u0026quot;Customer Service Representative\\\u0026quot;\\n\u0026quot; \u0026quot;participant CSMO as \\\u0026quot;CSM Online\\\u0026quot;\\n\u0026quot; \u0026quot;participant CSMU as \\\u0026quot;CSM Unix\\\u0026quot;\\n\u0026quot; \u0026quot;participant NRIS\\n\u0026quot; \u0026quot;actor Customer\u0026quot; _ - \\n \u0026quot;@enduml\\n\u0026quot; \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sseq\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-plantuml-sequence) ;;=================end plantuml========================== my gtd config (provide 'mygtd) ;;-------------begin gtd------------------------------ (global-set-key \u0026quot;\\C-c1\u0026quot; 'org-store-link) (global-set-key \u0026quot;\\C-cc\u0026quot; 'org-capture) ;;(global-set-key \u0026quot;\\C-cr\u0026quot; 'remember) (global-set-key \u0026quot;\\C-ca\u0026quot; 'org-agenda) (global-set-key \u0026quot;\\C-cb\u0026quot; 'org-iswitchb) (with-eval-after-load 'ox (require 'ox-hugo)) (setq org-todo-keywords '( (sequence \u0026quot;TODO(t!)\u0026quot; \u0026quot;|\u0026quot; \u0026quot;DONE(d!)\u0026quot; \u0026quot;CANCELED(c@/!)\u0026quot; \u0026quot;ASSIGNED(a@/!)\u0026quot;)) ) (setq org-capture-templates '((\u0026quot;t\u0026quot; \u0026quot;Todo\u0026quot; entry (file+headline \u0026quot;~/.todos/gtd.org\u0026quot; \u0026quot;Tasks\u0026quot;) \u0026quot;* TODO %?\\n %i\\n %a\u0026quot;) (\u0026quot;j\u0026quot; \u0026quot;Journal\u0026quot; entry (file+datetree \u0026quot;~/.todos/journal.org\u0026quot;) \u0026quot;* %?\\nEntered on %U\\n %i\\n %a\u0026quot;))) (setq org-agenda-files (list \u0026quot;~/.todos/gtd.org\u0026quot; \u0026quot;~/.todos/journal.org\u0026quot; \u0026quot;~/Documents/todo/\u0026quot; )) (setq org-default-notes-file \u0026quot;~/.todos/journal.org\u0026quot;) ;;----------------end gtd------------------------------- ;;---------------begin hugo------------------------ ;; org-hugo capture (with-eval-after-load 'org-capture (defun org-hugo-new-subtree-post-capture-template () \u0026quot;Returns `org-capture' template string for new Hugo post. See `org-capture-templates' for more information.\u0026quot; (let* (;; http://www.holgerschurig.de/en/emacs-blog-from-org-to-hugo/ (date (format-time-string (org-time-stamp-format :long :inactive) (org-current-time))) (title (read-from-minibuffer \u0026quot;Post Title: \u0026quot;)) ;Prompt to enter the post title (fname (org-hugo-slug title))) (mapconcat #'identity `( ,(concat \u0026quot;** TODO \u0026quot; title \u0026quot; :@随笔:\u0026quot;) \u0026quot;:PROPERTIES:\u0026quot; ,(concat \u0026quot;:EXPORT_FILE_NAME: \u0026quot; fname) ,(concat \u0026quot;:EXPORT_DATE: \u0026quot; date) ;Enter current date and time \u0026quot;:END:\u0026quot; \u0026quot;%?\\n\u0026quot;) ;Place the cursor here finally \u0026quot;\\n\u0026quot;))) (add-to-list 'org-capture-templates '(\u0026quot;h\u0026quot; ;`org-capture' binding + h \u0026quot;Hugo post\u0026quot; entry ;; It is assumed that below file is present in `org-directory' ;; and that it has a \u0026quot;Blog Ideas\u0026quot; heading. It can even be a ;; symlink pointing to the actual location of all-posts.org! (file+headline \u0026quot;~/blog/gitblog//orgcontent/0000head.org\u0026quot; \u0026quot;INBOX\u0026quot;) (function org-hugo-new-subtree-post-capture-template)))) ;;---------------end hugo-------------------------- ","date":"2023-05-29","permalink":"https://hllu.github.io/posts/emacsconfig/","tags":["emacs","config","hugo","download","latex","beamer"],"title":"my emacs config"},{"content":"ditaa ditaa 是 DIagrams Through Ascii Art，作者是 Stathis Sideris。是一 种基于java的类似plantuml但是更轻量级的绘图工具。ditaa使用符号| - + / \u0026gt; \u0026lt; V ^符号渲染不同的字符画出来，在文本格式下，字符画本身方便存储和阅读。\nditaa比较轻量化，可以画比较简单的流程图及结构图等。\n安装 依赖java环境，如果有了java环境。macos下可以用以下命令安装\nbrew install ditaa 也可以从网上直接下载tar包，放在一个目录下就可以。\n语法 ditaa 能识别一些改变矩形渲染方式的标签。所有标记都在 { 和 }之间。 支持的形状有,方形、椭圆、菱形、数据库、梯形、倒梯形、文档、io。\nditaa有方框和箭头两种实体，横轴用多个-进行表示，竖轴用|进行表示，拐角 用+表示直角，用/表示圆角。\n颜色有两种：一种是以十六进制数进行表示；另一种是以单词进行表示。\n横轴包括至少一个=或竖轴至少包含一个:英文的冒号，那么原有的实线可以变为虚线。\n如果*在一个行中，其被渲染成特定的列表符号o\n文本模式：\u0026rsquo; o XXXXX\u0026rsquo; 其o会被渲染成列表符号，注意其前后都有一空格；后面\n的XXXX是文本信息。\n参数 -e\t–encoding\t指定编码 -E\t–no-separation\t嵌套矩形是否分隔,缺省有分隔,设置后无 -r\t–round-corners\t圆角矩形 -s\t–scale\t矩形大小 ,比如 0.8 -o\t–overwrite\t如果有同名文件覆盖 -S\t–no-shadows -A\t–no-antialias -v\t–verbose -h\t–help -t\t–tabs -h\t–html 以上参数可以在源代码块里面携带\n:cmdline -r -s 0.8 因为plantuml也支持ditaa，可以在@ditaa后面携带参数，如下：\n@ditaa -E -S babel 简单的说Babel可以让许多不同的语言一起工作，它可以执行不同语言的代码块， org-mode可以导出HTML样式的代码也可以将执行结果显示出来。\n配置 要想在org-mode文件里执行其他程序语言的片断，需要在 .emacs 里加入如下配置：\n(org-babel-do-load-languages 'org-babel-load-languages '((emacs-lisp . t) (ditaa . t) (python . t) (shell . t) (latex . t) (plantuml . t) (dot . t) (lisp . t) (org . t) (java . t))) 常用的abbev 常用的缩写配置，可以在文档中方便的插入下列ditaa头。\n(define-skeleton skel-org-block-ditaa \u0026quot;Insert a org ditaa block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src ditaa :file \u0026quot; str \u0026quot;.png :cache yes\\n\u0026quot; _ - \\n \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sditaa\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-ditaa) config 其他关于ditaa的配置\n;;(setq org-plantuml-jar-path ;; (expand-file-name \u0026quot;~/.emacs.d/scripts/plantuml.jar\u0026quot;)) (setq org-ditaa-jar-path \u0026quot;~/.emacs.d/plugins/ditaa0_9.jar\u0026quot;) (setq org-confirm-babel-evaluate nil) ;picture 不提示 (add-hook 'org-babel-after-execute-hook 'bh/display-inline-images 'append) ; Make babel results blocks lowercase (setq org-babel-results-keyword \u0026quot;results\u0026quot;) (defun bh/display-inline-images () (condition-case nil (org-display-inline-images) (error nil))) ;;C-c C-c get pic ;;C-c C-x C-v see picture picture mode picture mode 可以画出ASCII图形。进入这个模式，可以用M-x edit-picture 或者 M-x picture-mode.\n常用画图方向命令 前后左右移动键，跟其他模式相同。\nMove left after insertion: C-c \u0026lt;\nMove right after insertion: C-c \u0026gt;\nMove up after insertion: C-c ^\nMove down after insertion: C-c .\nMove northwest (nw) after insertion: C-c `\nMove northeast (ne) after insertion: C-c '\nMove southwest (sw) after insertion: C-c /\nMove southeast (se) after insertion: C-c \\\nMove westnorthwest (wnw) after insertion: C-u C-c `\nMove eastnortheast (ene) after insertion: C-u C-c '\nMove westsouthwest (wsw) after insertion: C-u C-c /\nMove eastsoutheast (ese) after insertion: C-u C-c \\\n常用图形命令 Clear a rectangle and save it: C-c C-k Clear a rectangle, saving in a named register: C-c C-w Insert currently saved rectangle at point: C-c C-y Insert rectangle from named register: C-c C-x Draw a rectangular box around mark and point: C-c C-r Copies a rectangle to a register: C-x r r Undo effects of rectangle overlay commands: C-x u artist-mode artist-mode可以用鼠标画一些基本的图形。picture模式不方便画的图形，可以 用artist模式下鼠标试试。 画一个rectangle的方式如下：\nC-c C-a C-o选择rectangle画笔 按下Ret, 然后鼠标开始移动(C-b C-n C-p C-f等cursor移送就好) example ditaa 图示例，ascii图如下所示。\n产生的图片效果如下\n","date":"2023-05-26","permalink":"https://hllu.github.io/posts/use-ditaa-in-emacs/","tags":["ditaa","emacs","picture-mode"],"title":"use ditaa in emacs"},{"content":"问题 VPC内虚机通过NAT网关配置SNAT访问外网。如下所示：\n使用中出现问题，虚机不能访问外网。\n基础知识 DVR模式 按照 Neutron 原先的设计，所有网络服务都在网络节点上进行，这意味着大量 的流量和处理，给网络节点带来了很大的压力。这些处理的核心是路由器服务。 任何需要跨子网的访问都需要路由器进行路由。很自然，能否让计算节点上也运 行路由器服务？这个设计思路无疑是更为合理的，但具体实施起来需要诸多细节 上的技术考量。\n为了降低网络节点的负载，同时提高可扩展性，OpenStack 自 Juno 版本开始正 式引入了分布式路由（Distributed Virtual Router，DVR）特性，来让计算节 点自己来处理原先的大量东西向流量和非 SNAT 南北流量。这样网络节点只需要 处理少部分的 SNAT流量，大大降低了负载和整个系统对网络节点的依赖。\nDHCP 服务、VPN 服务目前仍然需要集中在网络节点上进行。\n虚机的各种口 虚机流量发出，经过以下路径：\nTAP 设备是一种工作在二层协议的点对点网络设备，每一个 TAP 设备都有一 个对应的 Linux 字符设备，用户程序可以通过对字符设备的读写操作，完成 与 Linux 内核网络协议栈的数据交换工作，在虚拟化环境中经常被模拟器使 用。总而言之，TAP设备其实就是一个Linux内核虚拟化出来的一个网络接口。 qbr，是一个Linux Bridge。因为OpenStack是把iptables规则丢在TAP设备实 现了安全组功能。但OVS跟Iptables的规则不兼容，有iptable的tap设备不能直接连接到ovs上。 所以用了一个折衷的方式，在中间加一层，使用qbr linux桥。 qvb 和qvo，虚拟ethernet接口，通常以pair的方式出现，一端发出的网包，会被另一端接收，可以形成两个网桥之间的通道。 br-int：bridge-integration，综合网桥，常用于表示实现主要内部网络功能 的网桥。 iptables：Linux 上常见的实现安全策略的防火墙软件。 TUN设备：模拟一个三层的网络设备，可以接受和发送三层网包。 dvr模式下，虚机报文路径 虚机通过snat网关访问外网，报文发出去流向是：\ntap-\u0026gt;qbr-\u0026gt;qvb-\u0026gt;qvo-\u0026gt;br-int-\u0026gt;qrouter-\u0026gt;br-int-\u0026gt;br-tun1-\u0026gt;br-tun2。\n路径上的qvo、qvb口和tap口都可以抓包。\ndvr模式下，报文头封装及改变 以下图说明了报文的改变，主要是二层头的封装。\n如上图所示，租户两个子网，红色和绿色，分别有 vm1 和 vm2，位于节点 cn1 和 cn2 上。\nvm1 访问 vm2 的网包如步骤 1-6，整个过程 ip 保持不变。\n原始包，vm1 访问 vm2，目的 mac 为本地（红网）的路由器网关接口 r1 red mac； 经过 br-int-cn1 转发，该网包通过本地（红网）网关接口扔给本地路由器 r1。 r1 根据路由规则，经过到绿网的接口发出，此时网包的源 mac 改为绿网的网关接口 r1 grn mac，目的 mac 改为 vm2 mac，并且带上绿网的本地 vlan tag； 网包发给 br-tun-cn1 进行 tunnel，扔出去之前，将源 mac 替换为跟节点相关的特定 mac dvr cn1 mac，之后带着目标子网（绿网）的 外部 tunnel id 扔出去（实现可以为 vlan、vxlan、gre 等，功能都是一样的）； 节点 cn2 的网桥 br-tun-cn2 会从 tunnel 收到这个包，解封包，带上本地 vlan tag，最终抵达网桥 br-int-cn2； br-int-cn2 上替换网包的源 mac（此时为 dvr-cn1-mac）为本地路由器的绿网网关接口，然后发给 vm2。 分析排查 通过openstack命令，查到虚机的port，所在计算节点信息，所连接的qrouter信 息。\n查看虚机的port信息 ~# openstack port list \u0026ndash;server ed079656-c1d5-415e-bb79-c24dbbc54cdf\n查看虚机所在计算节点 ~# openstack server show ed079656-c1d5-415e-bb79-c24dbbc54cdf | grep host\n查看虚机所在的网络 ~# openstack port show 74df9649-bd57-4a5e-8b7e-181c3e7a2a40 | grep network\n查看接入qrouter的port ~# openstack port list \u0026ndash;long \u0026ndash;network c0ad68cc-2388-406c-9da0-e2ec4fe71b5e | grep dis\n根据port查到qrouter的id ~# openstack port show 8d2bd1cf-bcf1-43e3-bf57-0c965a88e0e0 | grep device\ndevice_id即是qrouter的id。\n报文抓包 登陆计算节点 首先从报文的tap口抓包，确认流量是不是正常发出。 qbr抓包，确认liunux桥的安全组是否已经放行。如果tap口能抓到包，但qbr 没有，说明安全组规则把包拦截了。 qrouter抓包，确认是否正常 br-tun查看报文是否正常发送出去 期间如果抓不到正常的报文，需要排查原因。\nqbr抓不到包 qbr抓不到报文，但tap口正常。这种情况，应该是安全组规则把报文拦截了。需 要排查计算节点上的安全组规则。安全组的排查方式，参考安全组相关文档。\npbr规则排查 查看qrouter上的规则\n~# ip netns exec qrouter-e6d4c905-4c62-4f06-a879-0bd6f4a8330d bash\n~# ip rule\n~# ip route show table 2886729985\n正常发送出去，但对端没收到 从计算节点的物理口上抓包，查看是否正常收到报文。\n总结 根据虚机发送报文时，沿着报文的路径进行抓包，对没有收到包的前一个节点重 点排查。\n","date":"2023-05-22","permalink":"https://hllu.github.io/posts/vpc%E5%86%85%E4%BA%92%E9%80%9A%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/","tags":["dvr","neutron","qrouter"],"title":"VPC内互通问题排查"},{"content":"iptables Iptables 很早就已经集成到了Linux 的内核中，它由转发表 和 规则链 组成，通过表和链的组合，能适应各种场景下的安全需求功能。\niprable默认包含了表，每个表都有不同的用途，比如 Filter 表用来过滤数据 包，发往主机内部的包，和发往主机外部的包都由 filter 表中相应规则链来处 理。主机中默认的表有：\nRaw：数据包最先经过的表，一般用来配置需要绕过iptable处理的流量。在安全组和防火墙功能中都没有使用到该表。 Filter ：默认用于过滤数据包的表。neutron安全组和防火墙都是通过该表的不同链来实现的。 NAT：用于网络地址转换。 Mangle： 可以修改数据包的特定字段，常用来标记流量（如用来实现策略路由功能），也没有被安全组或防火墙使用。 chains chains in iptables 链这个概念指的是一组规则，这些规则会在不同的场景下生效。默认有5种规则 链，规则链内部的规则详细地定义了数据包的处理方 式（转发或丢弃等等）。一旦开启iptables后，所有进出接口的数据包都需要经 过至少一条规则链。规则允许数据包从一个规则链跳转到另一条规则链。如果跳 转后没有匹配上任何规则，数据包将回到跳转之前的位置，并继续向下匹配规则。\nPrerouting：跟名字一样，在数据包执行路由的策略之前会进入该规则链。除 了Filter以外，其他表都有用到该策略链。比如NAT，在数据包路由之前修改 数据包的源地址或目的地址。\nInput：所有发往本地主机的数据包（即目的地址是本地的地址）都会经该规则链处理。Mangle 和 Filter 中都有用到。\nForward：所有目的地址非本机的数据包都用到该规则链。Mangle 和 Filter都有用到。\nOutput：由本地主机发往外部的数据包都使用该规则链。Raw、Filter、NAT、Mangle都有用到。\nPostrouting：所有完成了路由选择的数据包都将通过该规则链。安全组的功 能没有使用到这个规则链，但浮动ip则有使用。Mangle和NAT表有使用。\n注意，报文会经过每个表的链。比如output链，nat、filter、raw、mangle表都 有这个链。因此报文会分别经过这四个表的output链处理。\npackage path in iptables 数据报文的路径如下：\n数据进入计算节点 prerouteing处理阶段，一般是nat等功能处理 查路由，根据目的地址看是否上送本机，如果上送，走input链 转发报文发送到forward链 如果主机收到报文，主机对收到的报文处理，发送出去 出接口报文查路由 送到output链处理 postrouting链，处理对应的nat等 参考：https://www.cnblogs.com/pmyewei/p/7609259.html\niptables in neutron neutron相关的链 neutron-filter-top 加在原生的Forward和output链上 neutron-openvswi-FORWARD neutron 定义的 FORWARD 链 neutron-openvswi-INPUT neutron 定义的 INPUT 链 neutron-openvswi-OUTPUT neutron 定义的 OUTPUT 链 neutron-openvswi-local 一般为空 neutron-openvswi-sg-chain 挂的neutron-openswi-FORWARD下，安全组实现的入口 neutron-openvswi-sg-fallback 默认为drop neutron主要用的是filter表和nat表。对filter表的INPUT，OUTPUT，FORWARD链 进行包装，将到达原链的数据包转发到包装链，还增加一个包装的local链。 对于nat表，PREROUTING，OUTPUT，POSTROUTING链进行包装，另外在 POSTROUTING链之后加了snat链。\nfilter table 增加一个链neutron-filter-top，增加规则：\n-A FORWARD -j neutron-filter-top -A OUTPUT -j neutron-filter-top 增加一个包装链neutron-l3-agent-local，增加规则：\n-A neutron-filter-top -j neutron-l3-agent-local 包装链neutron-l3-agent-INPUT，neutron-l3-agent-OUTPUT，neutron-l3-agent-FORWARD，添加规则：\n-A INPUT -j neutron-l3-agent-INPUT -A OUTPUT -j neutron-l3-agent-OUTPUT -A FORWARD -j neutron-l3-agent-FORWARD nat table 包装链neutron-l3-agent-PREROUTING，neutron-l3-agent-OUTPUT，neutron-l3-agent-POSTROUTING，添加规则：\n-A PREROUTING -j neutron-l3-agent-PREROUTING -A OUTPUT -j neutron-l3-agent-OUTPUT -A POSTROUTING -j neutron-l3-agent-POSTROUTING nat表中添加neutron-postrouting-bottom链，增加规则：\n-A POSTROUTING -j neutron-postrouting-bottom nat表中添加包装链neutron-l3-agent-snat，增加规则：\n-A neutron-postrouting-bottom -j neutron-l3-agent-snat nat表中添加包装链neutron-l3-agent-float-snat，增加规则：\n-A neutron-l3-agent-snat -j neutron-l3-agent-float-snat 这部分表，我在实验环境没找到，应该是需要开启某些功能。\nneutron链在iptables中的位置 filter表和nat表中的表。\nneutron的链之间的关系 neutron的iptables规则是在filter表实现 主要是在in和out两个表中实现。in表是安全组的入规则，out是安全组的出规则。\n虚拟机访问宿主机 我们已经知道，安全组是在filter表的FORWARD链上实现的，但如果虚拟机的包 是去往宿主机时，由于内核判断目标地址就是自己，因此不会流到FORWARD链而 是发往INPUT链，那这样岂不就是绕过安全组规则了吗？\n解决办法很简单，只需要把neutron的out链再挂到INPUT链就可以了。\n安全组问题排查 先找到虚机的port\n在对应的计算节点，查看所有的安全组规则\n查看安全组规则是否正确，重点看in和out链是否有drop\n","date":"2023-05-22","permalink":"https://hllu.github.io/posts/iptables-in-neutron/","tags":["iptables","neutron"],"title":"iptables-in-neutron"},{"content":"abbrew abbrev 是 abbreviation 的缩写。这个模块的主要功能也是定义宏，并在文档 中把宏展开。总的来说，abbrev 提供了缩写展开功能，对于输入频次比较高的 文本可以减少输入工作。\nabbrew 定义 abbrev 的定义使用 C-x a 作为快捷键前缀，或者说凡是和 abbrev 有关的功能 大多使用这个前缀。\nC-x a g （add-global-abbrev）可以将光标位置前面的词加入全局 abbrev table 中，并提示你输入这个词对应的缩写。若要加入当前 buffer 对应 major mode 的 abbrev table 的话，可以使用\nC-x a l （add-mode-abbrev），它只对该 mode 生效。\nC-x a i g （inverse-add-global-abbrev）全局模式\nC-x a i l （inverse-add-mode-abbrev）读取光标前的词作为缩写词，而要 求用户你输入展开结果。\nC-u - C-x a g 或C-u - C-x a l 要删除某个 abbrev\n除了绑定在快捷键上的这些函数，通过使用 define-global-abbrev 和 define-mode-abbrev 命令，我们也可以定义相应的 abbrev。要修改某个已定 义的 abbrev 的话，使用新的定义将它覆盖就可以了。\nabbrew 展开 如果我们不想让 abbrev 展开，我们可以在输入 abbrev 后按下 C-q 来告诉 abbrev-mode 不进行展开。\n一只常见的情况谁忘记了定义的abbrev，可以通过list-abbrevs命令来 查看所 有的定义。\n如果不小心展开了某个 abbrev，你可以使用 Undo 来撤销展开，它会使你 回到展开前的状态。你也可是使用 unexpand-abbrev 来进行撤销操作。\n如果没有打开 abbrev-mode 的，可以使用 C-x a e （expand-abbrev）来进 行展开。它的行为与 abbrev-mode 有效与否无关。\n配置示例 abbrev的默认配置一般在.emacs.d/abbrev_defs文件中.里面的配置是自动保存 的，只能存一些简单的定义，稍微复杂一点的定义，需要定义。 以下是我的配置，配合skeleton使用：\n(provide 'myabbrev) (add-hook 'org-mode-hook (lambda () (abbrev-mode t))) ;; abbev and skeleton (define-skeleton skel-org-block \u0026quot;Insert an org block, querying for type.\u0026quot; \u0026quot;Type: \u0026quot; \u0026quot;#+begin_\u0026quot; str \u0026quot;\\n\u0026quot; _ - \\n \u0026quot;#+end_\u0026quot; str \u0026quot;\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sblk\u0026quot; \u0026quot;\u0026quot; 'skel-org-block) (define-skeleton skel-org-block-ditaa \u0026quot;Insert a org ditaa block, querying for filename.\u0026quot; \u0026quot;File (no extension): \u0026quot; \u0026quot;#+begin_src ditaa :file \u0026quot; str \u0026quot;.png :cache yes\\n\u0026quot; _ - \\n \u0026quot;#+end_src\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;sditaa\u0026quot; \u0026quot;\u0026quot; 'skel-org-block-ditaa) (define-skeleton skel-org-beamer \u0026quot;Insert an org block, querying for type.\u0026quot; \u0026quot;Type: \u0026quot; \u0026quot;# -*- mode: snippet -*-\\n\u0026quot; \u0026quot;#+TITLE: \u0026quot; str \\n \u0026quot;#+AUTHOR: xxx \\n\u0026quot; \u0026quot;#+EMAIL: xxxx@xxx.com \\n\u0026quot; \u0026quot;#+DESCRIPTION: \\n\u0026quot; \u0026quot;#+KEYWORDS: \\n\u0026quot; \u0026quot;#+OPTIONS: H:2 num:t toc:t \\\\n:nil @:t ::t |:t ^:{} -:t f:t *:t \u0026lt;:t\\n\u0026quot; \u0026quot;#+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc\\n\u0026quot; \u0026quot;#+EXPORT_SELECT_TAGS: export\\n\u0026quot; \u0026quot;#+EXPORT_EXCLUDE_TAGS: noexport\\n\u0026quot; \u0026quot;#+startup: beamer\\n\u0026quot; \u0026quot;#+LaTeX_CLASS: beamer\\n\u0026quot; \u0026quot;#+LaTeX_CLASS_OPTIONS: [bigger]\\n\u0026quot; \u0026quot;#+columns: %45ITEM %10BEAMER_env(Env) %10BEAMER_act(Act)%4BEAMER_col(Col) %8BEAMER_opt(Opt)\\n\u0026quot; @ _) (define-abbrev org-mode-abbrev-table \u0026quot;beamh\u0026quot; \u0026quot;\u0026quot; 'skel-org-beamer) (define-skeleton skel-defun \u0026quot;Insert a defun template.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;(defun \u0026quot; str \u0026quot; (\u0026quot; @ - \u0026quot;)\u0026quot; \\n \u0026quot;(\u0026quot; @ _ \u0026quot;)\u0026quot; \\n) (define-abbrev org-mode-abbrev-table \u0026quot;defun\u0026quot; \u0026quot;\u0026quot; 'skel-defun) (define-abbrev org-mode-abbrev-table \u0026quot;footz\u0026quot; \u0026quot;#+attr_latex: :font \\\\footnotesize\u0026quot; \u0026quot;\u0026quot;) (define-skeleton read-two-vars \u0026quot;Prompt the user for two variables, and use them in a skeleton.\u0026quot; \u0026quot;\u0026quot; \u0026gt; \u0026quot;variable A is \u0026quot; (setq v1 (skeleton-read \u0026quot;Variable A? \u0026quot;)) \\n \u0026gt; \u0026quot;variable B is \u0026quot; (setq v2 (skeleton-read \u0026quot;Variable B? \u0026quot;)) \\n \u0026gt; \u0026quot;A: \u0026quot; v1 \u0026quot; B: \u0026quot; v2 \\n) (define-abbrev org-mode-abbrev-table \u0026quot;twov\u0026quot; \u0026quot;\u0026quot; 'read-two-vars) (define-skeleton skel-org-orgh \u0026quot;Insert a org head.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;#+TITLE:\u0026quot; str \\n \u0026quot;#+OPTIONS: author:nil ^:{}\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;orgh\u0026quot; \u0026quot;\u0026quot; 'skel-org-orgh) (define-skeleton skel-org-picv \u0026quot;Insert a hugo head.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;#+CAPTION: \u0026quot; (setq v1 (skeleton-read \u0026quot;caption? \u0026quot;)) \\n \u0026quot;#+ATTR_HTML: :title \u0026quot; v1 \u0026quot; :align \u0026quot;(skeleton-read \u0026quot;centre/right/left? \u0026quot;)\\n \u0026quot;#+ATTR_HTML: :width \u0026quot;(setq v2 (skeleton-read \u0026quot;width %? \u0026quot;))\u0026quot;%\u0026quot; \u0026quot; :height \u0026quot;v2\u0026quot;%\\n\u0026quot;) (define-abbrev org-mode-abbrev-table \u0026quot;pich\u0026quot; \u0026quot;\u0026quot; 'skel-org-picv) 动态 abbrev 除了说主动定义 abbrev 后再使用外，我们还可以使用所谓的动态 abbrev，它 不使用定义的 abbrev，而是从 buffer 中找到符合展开的词来进行展开。它不 会主动触发，需要你主动使用它。\n举例来说的话，当你输入了 \u0026ldquo;does this follow\u0026rdquo;，然后输入 \u0026ldquo;fo\u0026rdquo;，在按下 M-/ （dabbrev-expand）后会插入 \u0026ldquo;follow\u0026rdquo; 来作为 \u0026ldquo;fo\u0026rdquo; 的展开结果。这是因为 \u0026ldquo;follow\u0026rdquo; 是 buffer 中从头到当前位置离 \u0026ldquo;fo\u0026rdquo; 最近的，且以 \u0026ldquo;fo\u0026rdquo; 开头的词。 当你多次按下 M-/ 时，emacs 会从后往前找匹配的内容来作为展开结果。在找 完所有可能的结果后，它又会回到最初值。变量 dabbrev-limit 可用来指定从 后往前找的最远距离（也就是最多往前找几个）。对该命令使用数字参数的话， 就代表使用第参数个找到的内容来进行展开。\n在找完当前的 buffer 后，继续使用 M-/ ，emacs 会在其他 buffer 中查找。 可用 dabbrev-check-all-buffers 和 dabbrev-check-other-buffers 来控制 emacs 是否查找其他 buffer。要控制 emacs 搜索其他 buffer 的行为，可以对 dabbrev-ignored-buffer-names 和 dabbrev-ignored-buffer-regexps 进行设 置，前者是要跳过的 buffer 名字组成的表，后者是要跳过的 buffer 的名字匹 配正则。如果 buffer 的名字符合两者之一，那么 emacs 会跳过该 buffer。\n若使用负数作为 M-/ 的数字参数，那么 M-/ 会向下而非向上搜索，到达 buffer 末尾时再去其他 buffer 搜索，最后才考虑原 buffer 中向上的内容。\nskeleton skeleton的部分内容，参考了以下链接 https://www.emacswiki.org/emacs/SkeletonMode\n简单定义 以下的例子，简单的输入一个定义事项\n(define-skeleton hello-world-skeleton \u0026quot;Write a greeting\u0026quot; \u0026quot;Type name of user: \u0026quot; \u0026quot;hello, \u0026quot; str \u0026quot;!\u0026quot;) 默认值 (define-skeleton hello-world-skeleton \u0026quot;Write a greeting\u0026quot; \u0026quot;Type name of user: \u0026quot; \u0026quot;hello, \u0026quot; str ｜ \u0026quot;this is the default input!\u0026quot;) 输入多个参数 可以定义多个入参输入，参考配置示例,也可以直接用skeleton-read读输入数据， 不记录。\n(define-skeleton read-two-vars \u0026quot;Prompt the user for two variables, and use them in a skeleton.\u0026quot; \u0026quot;\u0026quot; \u0026gt; \u0026quot;variable A is \u0026quot; (setq v1 (skeleton-read \u0026quot;Variable A? \u0026quot;)) \\n \u0026gt; \u0026quot;variable B is \u0026quot; (skeleton-read \u0026quot;Variable B? \u0026quot;) \\n \u0026gt; \u0026quot;A: \u0026quot; v1 \u0026quot; B: \u0026quot; v1 \\n) 焦点移动 可以知道最后输入焦点的位置。\n(define-skeleton skel-defun \u0026quot;Insert a defun template.\u0026quot; \u0026quot;Name: \u0026quot; \u0026quot;(defun \u0026quot; str \u0026quot; (\u0026quot; @ - \u0026quot;)\u0026quot; \\n \u0026quot;(\u0026quot; @ _ \u0026quot;)\u0026quot; \\n) 焦点移动部分，还没太搞明白，暂时只知道可以最好停留在-的位置。\n","date":"2023-05-17","permalink":"https://hllu.github.io/posts/usingabbrev/","tags":["abbrev","skeleton","org"],"title":"abbrev和skeleton使用"},{"content":"Beamer 介绍 Beamer是一个生成演示稿的 LaTeX 环境. 它包括了以下特性：\n在演示稿中自动生成结构化的元素（例如 Marburg 主题)。 在演示稿中，这个特性可以为观众提供了视觉参考。 对组织演示稿有很大的帮助。 主题 完全支持 LaTeX 优点 在 Org 模式中用 Beamer 有很多好处，Beamer的优点，很多都继承自org：\n写作效率高，用org模型写beamer，熟悉之后，发现效率会明显提高很多，不 用费心思去安排格式排版。 和org模式兼容，用org模式写的论文等文章，可以方便的copy出来，写幻灯片。 Org 模式很简单，语法通常更容易使用，可以不关注排版，更关注写作内容。排版出来的效果又很惊 艳。Beamer的各种模版制作出来的幻灯片也有很好的效果。 与 org-babel 绑定在一起，实时语法高亮源码和内嵌结果。 对代码段的支持很好 安装配置 安装latex 我的环境是macos，在mac上，安装的时候，先到latex的网站下载镜像， MacTex官网下载地址是，http://www.tug.org/mactex/mactex-download.html 下载后直接点击安装即可。\n安装代码支持 代码高亮支持，建议使用minted。使用minted需要安装python环境，以及 Pygments模块，因为minted依赖于该模块提供超过300种语言的语法高亮。 Pygments建议直接到官网下载whl包，直接用以下命令安装\nbrew install Pygments-2.15.1-py3-none-any.whl minted支持很多代码显示效果，可以到网上查看效果，常见的有以下几种\nmanni vs pastie autumn emacs tango rrt manni 配置 emacs配置 emacs中的配置如下，注意要引入ox-beamer包。\n(require 'ox-beamer) ;;--------------------------begin latex--------------------------- (with-eval-after-load 'ox-latex (add-to-list 'org-latex-classes '(\u0026quot;ctexart\u0026quot; \u0026quot;\\\\documentclass[UTF8,a4paper,12pt]{ctexart} \\\\setcounter{secnumdepth}{4} \\\\usepackage[linkcolor=blue,citecolor=blue,backref=page]{hyperref} \\\\hypersetup{hidelinks} \\\\usepackage{xeCJK} \\\\usepackage{color} \\\\usepackage{xcolor} \\\\usepackage{fontspec} \\\\usepackage{geometry} \\\\geometry{top=2cm,bottom=2cm,right=2cm,left=2.5cm} \\\\geometry{headsep=0.5cm} \\\\usepackage{setspace} \\\\setlength{\\\\baselineskip}{22pt} \\\\setlength{\\\\parskip}{0pt} \\\\usepackage{enumerate} \\\\usepackage{enumitem} \\\\newcommand{\\\\xiaosan}{\\\\fontsize{15.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\sihao}{\\\\fontsize{14.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\xiaosi}{\\\\fontsize{12.1pt}{\\\\baselineskip}\\\\selectfont} \\\\newcommand{\\\\wuhao}{\\\\fontsize{10.5pt}{\\\\baselineskip}\\\\selectfont} \\\\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\setdescription{itemsep=0pt,partopsep=0pt,parsep=\\\\parskip,topsep=5pt} \\\\usepackage[super,square,numbers,sort\u0026amp;compress]{natbib} \\\\usepackage{minted} \\\\usemintedstyle{manni}%{vs}%{pastie}%{autumn}%{emacs}%{tango}%{rrt}%{manni} \\\\usepackage{fancyhdr} \\\\pagestyle{plain} \\\\usepackage{titlesec} \\\\titleformat{\\\\section}[block]{\\\\normalfont\\\\xiaosan\\\\bfseries\\\\heiti}{\\\\thesection}{10pt}{\\\\xiaosan} \\\\titleformat{\\\\subsection}[block]{\\\\normalfont\\\\sihao\\\\bfseries\\\\heiti}{\\\\thesubsection}{10pt}{\\\\sihao} \\\\titleformat{\\\\subsubsection}[block]{\\\\normalfont\\\\sihao\\\\bfseries\\\\heiti}{\\\\thesubsubsection}{10pt}{\\\\sihao} \\\\titlespacing{\\\\chapter} {0pt}{-22pt}{0pt}{} \\\\titlespacing{\\\\section} {0pt}{0pt}{0pt} \\\\titlespacing{\\\\subsection} {0pt}{0pt}{0pt} \\\\titlespacing{\\\\subsubsection} {0pt}{0pt}{0pt}\u0026quot; (\u0026quot;\\\\section{%s}\u0026quot; . \u0026quot;\\\\section*{%s}\u0026quot;) (\u0026quot;\\\\subsection{%s}\u0026quot; . \u0026quot;\\\\subsection*{%s}\u0026quot;) (\u0026quot;\\\\subsubsection{%s}\u0026quot; . \u0026quot;\\\\subsubsection*{%s}\u0026quot;) (\u0026quot;\\\\paragraph{%s}\u0026quot; . \u0026quot;\\\\paragraph*{%s}\u0026quot;) (\u0026quot;\\\\subparagraph{%s}\u0026quot; . \u0026quot;\\\\subparagraph*{%s}\u0026quot;))) (add-to-list 'org-latex-classes ;; beamer class, for presentations '(\u0026quot;beamer\u0026quot; \u0026quot;\\\\documentclass[11pt,professionalfonts]{beamer} \\\\mode \\\\beamertemplateballitem \\\\setbeameroption{show notes} \\\\usepackage{graphicx} \\\\usepackage{tikz} \\\\usepackage{xcolor} \\\\usepackage{titletoc} \\\\usepackage{ctex} \\\\usepackage{xeCJK} \\\\usepackage{amsmath} \\\\usepackage{lmodern} \\\\usepackage{polyglossia} \\\\usepackage{verbatim} \\\\usepackage{minted} \\\\usepackage{soul} \\\\usepackage{textcomp} \\\\usepackage{marvosym} \\\\usepackage{wasysym} \\\\usepackage{latexsym} \\\\usepackage{amssymb} \\\\usepackage{/Users/lhl/org/styles/zyuebeamer} \\\\subject{{{{beamersubject}}}}\u0026quot; (\u0026quot;\\\\section{%s}\u0026quot; . \u0026quot;\\\\section*{%s}\u0026quot;) (\u0026quot;\\\\begin{frame}[fragile]\\\\frametitle{%s}\u0026quot; \u0026quot;\\\\end{frame}\u0026quot; \u0026quot;\\\\begin{frame}[fragile]\\\\frametitle{%s}\u0026quot; \u0026quot;\\\\end{frame}\u0026quot;))) (add-to-list 'org-latex-packages-alist '(\u0026quot;UTF8,fontset=macnew\u0026quot; \u0026quot;ctex\u0026quot; t )) (setq org-latex-default-class \u0026quot;ctexart\u0026quot;) ;; (setq org-latex-logfiles-extensions ;; (quote (\u0026quot;lof\u0026quot; \u0026quot;lot\u0026quot; \u0026quot;tex~\u0026quot; \u0026quot;tex\u0026quot; \u0026quot;aux\u0026quot; ;; \u0026quot;idx\u0026quot; \u0026quot;log\u0026quot; \u0026quot;out\u0026quot; \u0026quot;toc\u0026quot; \u0026quot;nav\u0026quot; ;; \u0026quot;snm\u0026quot; \u0026quot;vrb\u0026quot; \u0026quot;dvi\u0026quot; \u0026quot;fdb_latexmk\u0026quot; ;; \u0026quot;blg\u0026quot; \u0026quot;brf\u0026quot; \u0026quot;fls\u0026quot; \u0026quot;entoc\u0026quot; \u0026quot;ps\u0026quot; ;; \u0026quot;spl\u0026quot; \u0026quot;bbl\u0026quot; \u0026quot;xdv\u0026quot;))) (setq org-latex-listings 'minted) (setq org-latex-minted-options '((\u0026quot;framesep\u0026quot; \u0026quot;2mm\u0026quot;) (\u0026quot;baselinestretch\u0026quot; \u0026quot;1.2\u0026quot;) (\u0026quot;linenos=true\u0026quot;) (\u0026quot;fontsize\u0026quot; \u0026quot;\\\\footnotesize\u0026quot;) ; ;; (\u0026quot;bgcolor\u0026quot; \u0026quot;LightGray\u0026quot;) (\u0026quot;breaklines\u0026quot; \u0026quot;true\u0026quot;) (\u0026quot;breakanywhere\u0026quot; \u0026quot;true\u0026quot;) )) (setq org-latex-pdf-process '(\u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot; \u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot;)) ) ;;\\\\ctexset{section={format=\\\\raggedright \\\\sihao \\\\heiti}} ;标题靠左 ;;\\\\usepackage[super,square,numbers,sort\u0026amp;compress]{natbib} ;引用标号 ;; \\\\usepackage{amssymb} ;数学公式包 ;; \\\\usepackage{mathrsfs} ;数学公式包 ;; \\\\usepackage[namelimits]{amsmath} ;数学公式包 ;; \\\\usepackage{tikz} ;绘图包,流程图，脑图 ;; \\\\setmainfont{Times New Roman} ;全局设置字体 ;; \\\\usepackage{ulem} ;下划线等标记 ;; \\\\usepackage{fancyhdr} ;设置页眉页脚 ;; \\\\pagestyle{fancy} ;; \\\\fancyhead{} ;; \\\\fancyhead[CO,CE]{\\\\leftmark} ;; \\\\institute{{{{beamerinstitute}}}} 指定学校 snippet配置 snippet中，可以定义一个beamer模版，方便创建beamer文件头，如下：\n# -*- mode: snippet -*- # name: beamer # key: \u0026lt;beamer # -- #+TITLE: $1 #+AUTHOR: name #+EMAIL: name@xxx.com #+DESCRIPTION: #+KEYWORDS: #+OPTIONS: H:2 num:t toc:t \\n:nil @:t ::t |:t ^:t -:t f:t *:t \u0026lt;:t #+OPTIONS: TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc #+EXPORT_SELECT_TAGS: export #+EXPORT_EXCLUDE_TAGS: noexport #+startup: beamer #+LaTeX_CLASS: beamer #+LaTeX_CLASS_OPTIONS: [bigger] #+columns: %45ITEM %10BEAMER_env(Env) %10BEAMER_act(Act) %4BEAMER_col(Col) %8BEAMER_opt(Opt) 基础用法 列表,表格，链接，标签 列表、表格、链接、标签等等所有的编辑功能，都跟org模式完全一样，区别是每个三级标题下的内容，注意 不要写的过多，否则显示效果不好。\n二级标题构成一个幻灯片，一级标题构成大纲。三级标题可以构成colum，block 等。\n属性设置 属性设置都以:PROPERTIES:开始，以:END:结尾，中间可以填入不同的设置项， 具体参数见下图。 BEAMER_col 控制列宽度，0.5表示一半宽度。\nBEAMER_env 控制列外观，值可以是 ignoreheading 、 block 等等。\nBEAMER_envargs 可以控制列对齐，默认是中间对齐，改成顶部对齐的值为 C[t] ；设置为 \u0026lt;2-\u0026gt; 之类的值，可以控制停顿。\n根据官方文档的描述，其他属性的用处如下：\nIf ‘BEAMER_ENV’ is set to ‘appendix’, Org exports the entry as an appendix. When set to ‘note’, Org exports the entry as a note within the frame or between frames, depending on the entry’s heading level. When set to ‘noteNH’, Org exports the entry as a note without its title. When set to ‘againframe’, Org exports the entry with ‘\\againframe’ command, which makes setting the ‘BEAMER_REF’ property mandatory because ‘\\againframe’ needs frame to resume.\nWhen ‘ignoreheading’ is set, Org export ignores the entry’s headline but not its content. This is useful for inserting content between frames. It is also useful for properly closing a ‘column’ environment.\nWhen ‘BEAMER_ACT’ is set for a headline, Org export translates that headline as an overlay or action specification. When enclosed in square brackets, Org export makes the overlay specification a default. Use ‘BEAMER_OPT’ to set any options applicable to the current Beamer frame or block. The Beamer export back-end wraps with appropriate angular or square brackets. It also adds the ‘fragile’ option for any code that may require a verbatim block.\nTo create a column on the Beamer slide, use the ‘BEAMER_COL’ property for its headline in the Org file. Set the value of ‘BEAMER_COL’ to a decimal number representing the fraction of the total text width. Beamer export uses this value to set the column’s width and fills the column with the contents of the Org entry. If the Org entry has no specific environment defined, Beamer export ignores the heading. If the Org entry has a defined environment, Beamer export uses the heading as title. Behind the scenes, Beamer export automatically handles LaTeX column separations for contiguous headlines. To manually adjust them for any unique configurations needs, use the ‘BEAMER_ENV’ property.\n分列布局 分列布局，在beamer中有个熟悉设置方式，如下\n:PROPERTIES: :BEAMER_env: column :BEAMER_col: 0.3 :END: 通过以上参数设置，可以指定列宽为0.3页面宽度。在org中，可以使用快捷建 C-c C-n 选择需要的属性，文档中会自动插入以上代码。\n注意，有时候快捷键不起作用，原因未知。 可以参考网上的说法，试试效果\n有一点小小的不爽，在扩展beamer snippet之后，要在第一行 startup: beamer 上做 C-c C-c ，才能使 C-c C-b 组合键起作用。\n建议以上各种属性都实验一下。\nblock布局 block布局是beamer中一个很有用的功能。可以在幻灯片中写出不同显示效 果的块，块同样可以指定宽度，如下\n:PROPERTIES:\n:BEAMER_env: block\n:BEAMER_col: 0.6\n:END:\nBEAMER_ACT beamer_act可以控制这一帧的显示顺序。pdf中，是通过生成多张页面，显示的 时候重叠起来。\nBEAMER_act: [\u0026lt;+-\u0026gt;] 如果需要三个block按先后顺序显示，可以用以下方式\n:PROPERTIES:\n:beamer_act: \u0026lt;1\u0026gt;\n:BEAMER_col: 0.3\n:BEAMER_ENV: block\n:END:\na picture link\n:PROPERTIES:\n:beamer_act: \u0026lt;2-\u0026gt;\n:BEAMER_col: 0.3\n:BEAMER_ENV: block\n:END:\nb picture link\n:PROPERTIES:\n:beamer_act: \u0026lt;3-\u0026gt;\n:BEAMER_col: 0.3\n:BEAMER_ENV: block\n:END:\nc picture link\n其中，a图片显示后，在后续b图显示出来时会消失，但b，c一直存在。\nno indent list #+ATTR_BEAMER: :environment nonindentlist\nitem 1, not indented\nitem 2, not indented\nitem 3, not indented\ncolorbox #+LaTeX: \\setbeamercolor{myblockcolor}{bg=magenta,fg=white}\n* myblockcolor :B_beamercolorbox:\n:PROPERTIES:\n:BEAMER_env: beamercolorbox\n:BEAMER_opt: wd=6cm,rounded=ture,center\n:END:\n可以指定特殊的颜色。\n进阶功能 安装beamer模版 beamer 有很多默认的模版，各模版的显示效果可以从这个网站查看。 https://hartwork.org/beamer-theme-matrix/\n大部分情况下，使用默认的模版，效果就已经足够满意了。如果自己有定制效果， 可以自己修改模版，或者从网上查找模版。\n下载的模版大都是sty文件类型，可以下载这个sty文件和相关的依赖文件，放到 写beamer文档的目录下，写的时候引入包即可。可以在.emacs配置文件中引用这个模版。具体 配置方式参考下一节。\n","date":"2023-05-12","permalink":"https://hllu.github.io/posts/beamer/","tags":["beamer","org"],"title":"在emacs使用org和beamer做演讲稿"},{"content":"常见压力测试工具有: ab, wrk，locust等。此外，还有 GoReplay 和 TcpCopy 等，可以拷贝线上服务器的真实流量并转发到测试服务器上去，用真实流量来测试，如此得到的数据更可信。不过它们的用法更复杂。\nab ab(ApacheBench)，是目前最常见的压力测试工具。需要单独安装.\n安装 yum -y install httpd-tools 命令选项 -n 请求数 -c 并发数 -s 等待响应的时间默认 30 秒 -H 自定义请求头参数,可多次使用该选项 -T 设置 Content-Type 请求头信息 -k 启用 HTTP KeepAlive 功能，即在一个 HTTP 会话中执行多个请求。默认时，不启用 KeepAlive 功能。 典型应用 shell\u0026gt; ab -k -n 1000 -c 10 -t 100 http://www.isTester.com/zhichang/177.html 其中，参数「c」表示的是并发，\n参数「t」表示的是整个测试持续的时间。\n一个很容易被忽视的参数是「k」，它会增加请求头Connection: Keep-Alive，相当于开启了HTTP长连接，这样做一方面可以降低测试服务器动态端口被耗尽的风险，另一方面也有助于给目标服务器更大的压力，测试出更接近极限的结果。\nwrk wrk 是一种高效的 HTTP 基准测试工具，能够在单个多核 CPU 上运行时产生大 量负载。它将多线程设计与 epoll 和 kqueue 等可伸缩事件通知系统相结合。 因此，使用 wrk 使用较少的线程即可以压测出非常可观的请求数据。wrk 所有请求都是异步非阻塞模式的，因此对系统资源能够应用到极致，可以压满 cpu。\n相对于ab来说最大的优点是支持多线程,这样更容易发挥多核CPU的能力，从而更容易测试出系统的极限能力。\n参数说明 -c, --connections: 总的连接数（每个线程处理的连接数=总连接数/线程数） -d, --duration: 测试的持续时间，如2s(2second)，2m(2minute)，2h(hour) -t, --threads: 需要执行的线程总数 -s, --script: 执行Lua脚本，这里写lua脚本的路径和名称，后面会给出案例 -H, --header: 需要添加的头信息，注意header的语法，举例，-H “token: abcdef”，说明一下，token，冒号，空格，abcdefg（不要忘记空格，否则会报错的）。 --latency: 显示延迟统计信息 --timeout: 超时的时间 返回结果说明 Latency：响应时间Req/Sec：每个线程每秒钟的执行的连接数 Avg：平均 Max：最大 Stdev：标准差+/- Stdev： 正负一个标准差占比 Requests/sec：每秒请求数（也就是QPS），这是一项压力测试的性能指标，通过这个参数可以看出吞吐量 Latency Distribution，如果命名中添加了 latency就会出现相关信息 其典型用法如下： wrk -t2 -c30 -d30s --latency http://192.168.31.92/ Running 30s test @ http://192.168.31.92/ 2 threads and 30 connections Thread Stats Avg Stdev Max +/- Stdev Latency 1.59ms 1.16ms 47.58ms 91.91% // 线程延迟状态 Req/Sec 9.23k 846.07 12.38k 68.83% // 单个线程每秒请求数平均9.23k, 最大12.38k Latency Distribution // 所有请求的延迟分布, 75%的请求延迟小于1.77毫秒 50% 1.38ms 75% 1.77ms 90% 2.39ms 99% 5.95ms 551551 requests in 30.05s, 2.02GB read // 2个线程, 30s内55万次请求 Requests/sec: 18355.61 // 2个线程每次请求1.8万次 Transfer/sec: 68.95MB # 2. POST|GET 传参请求测试 wrk -t2 -c10 --latency --script=params.data http://192.168.31.91/api/test/ 请求参数 params.data cat \u0026gt; post.data \u0026lt;\u0026lt;EOF wrk.method = \u0026quot;POST\u0026quot; wrk.body = \u0026quot;username=chris\u0026amp;password=123456\u0026quot; wrk.headers[\u0026quot;Content-Type\u0026quot;] = \u0026quot;application/x-www-form-urlencoded\u0026quot; EOF # 3. 修改请求头信息 User-Agent 测试 wrk -t2 -c10 -d10s --latency \\ -H \u0026quot;User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36\u0026quot; \\ http://192.168.31.92/ # 4. 基于 lua 脚本定制测试报告 wrk -t2 -c10 -d10s -s setup.lua --latency http://192.168.31.92/ 有些介绍参考\nlocust 相对于ab、wrk来说最大的优点是它不再只是测试一个url，而是可以测试一个「自定义的场景」，其中可以包含多个有相互关联的url\n此外，它还是分布式可扩展的，可以模拟大量用户的访问，由此可以得到更贴近真实环境的测试数据。\n关于locust的具体用法有点复杂，可以自行查阅官方文档。\n","date":"2023-05-06","permalink":"https://hllu.github.io/posts/web-%E9%AB%98%E5%B9%B6%E5%8F%91%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7wrk-ab%E4%BB%8B%E7%BB%8D/","tags":["压测"],"title":"Web 高并发压测工具WRK, AB介绍"},{"content":"简介 在osgi中服务的使用有多种方式，如使用传统的注册式服务，就是我们之前中example不断使用的使用方式，还是osgi中的声明式服务， 还有著名的ipojo等等，但在这里值得花一番笔墨来讲解的应该是blueprint，说到blueprint，务必需要提及一下spring，在个人印象中， spring框架几乎成为了java这么多框架中最为有名的一个，传统上提出的ssh，几乎就只剩下spring一个还非常强力的存活着，而且本身 提供的功能也越来越丰富，子项目中springboot也快成为业界微服务一大选择，而在osgi中，spring最初也有所涉及，为spring dm， blueprint产生的规范便是起源于spring dm，随后好像spring dm没有继续发展，但是blueprint却是一直存在目前，Blueprint规范主要 有两个实现：Aries blueprint和Gemini blueprint，它们分别来自Apache和Eclipse两个开源组织。我们日后讲的基本都是Apache官网 中的blueprint，具体的地址如下：apache blueprint,讲的时候基本不会单独讲解blueprint，会将其他一些东西串起来讲出来，具体到 日后讲解其他的时候再说。\nservice 发布一个服务 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd\u0026quot; default-timeout=\u0026quot;0\u0026quot;\u0026gt; \u0026lt;!--最简单的osgi服务注册 --\u0026gt; \u0026lt;bean id=\u0026quot;coder\u0026quot; class=\u0026quot;com.ponder.CoderImpl\u0026quot;/\u0026gt; \u0026lt;service id=\u0026quot;CoderService\u0026quot; ref=\u0026quot;coder\u0026quot; interface=\u0026quot;com.ponder.ICoder\u0026quot;/\u0026gt; \u0026lt;!--Embeded bean的osgi服务注册 --\u0026gt; \u0026lt;service id=\u0026quot;CoderService2\u0026quot; interface=\u0026quot;com.ponder.ICoder\u0026quot;\u0026gt; \u0026lt;bean class=\u0026quot;com.ponder.CoderImpl\u0026quot;/\u0026gt; \u0026lt;/service\u0026gt; \u0026lt;!--带osgi服务属性的服务--\u0026gt; \u0026lt;service id=\u0026quot;CoderService3\u0026quot; interface=\u0026quot;com.ponder.ICoder\u0026quot;\u0026gt; \u0026lt;service-properties\u0026gt; \u0026lt;entry key=\u0026quot;param01\u0026quot; value=\u0026quot;val01\u0026quot;/\u0026gt; \u0026lt;entry key=\u0026quot;param02\u0026quot; value=\u0026quot;val02\u0026quot;/\u0026gt; \u0026lt;entry key=\u0026quot;param03\u0026quot;\u0026gt; \u0026lt;array value-type=\u0026quot;java.lang.String\u0026quot;\u0026gt; \u0026lt;value\u0026gt;val03-1\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;val03-2\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;val03-3\u0026lt;/value\u0026gt; \u0026lt;/array\u0026gt; \u0026lt;/entry\u0026gt; \u0026lt;/service-properties\u0026gt; \u0026lt;bean class=\u0026quot;com.ponder.CoderImpl\u0026quot;/\u0026gt; \u0026lt;/service\u0026gt; \u0026lt;!-- 没将接口抽离出来的osgi服务,会将com.ponder.CoderImpl里的所有public方法都作为服务的方法 --\u0026gt; \u0026lt;service id=\u0026quot;CoderService3\u0026quot; interface=\u0026quot;com.ponder.CoderImpl\u0026quot;\u0026gt; \u0026lt;bean class=\u0026quot;com.ponder.CoderImpl\u0026quot;/\u0026gt; \u0026lt;/service\u0026gt; \u0026lt;/blueprint\u0026gt; 在上例中，我们举了三个发布OSGI service的例子，最简单的例子就先用bean节点定义那个服务的实现类，并给这个bean定义一个 id（“coder”），然后在service节点用interface属性指明对应的接口，并用ref属性来引用刚才定义的那个bean。这样Blueprint container就可以往OSGI framework里注册发布这个服务了。\n第二个例子中，则是将bean节点直接嵌入service节点中，而不需用bean的id和service节点属性ref了。\n第三个例子则给service添加了service-property,这个service-property和bean节点的property不同，它不出现在java代码里，只是 在Blueprint往OSGI framework里注册这个服务时，以map的形式附带上这些service-property。这些service-property可以在服务被引用 时，作为filter的条件。\n服务被发布后，在Blueprint里，可以用reference节点来引用用这些服务。\n引用一个服务 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd\u0026quot; default-timeout=\u0026quot;0\u0026quot;\u0026gt; \u0026lt;!--引用osgi服务,并注入bean(com.ponder.Processor)里 --\u0026gt; \u0026lt;reference id=\u0026quot;coderService\u0026quot; filter=”（param01=val02）” interface=\u0026quot;com.ponder.ICoder\u0026quot; timeout=\u0026quot;0\u0026quot;/\u0026gt; \u0026lt;bean id=\u0026quot;processor\u0026quot; class=\u0026quot;com.ponder.Processor\u0026quot;\u0026gt; \u0026lt;!--与这里对应，类com.ponder.Processor里应定义有以下属性： private com.ponder.ICoder coder; 并包含其setter。 --\u0026gt; \u0026lt;property name=\u0026quot;coder\u0026quot; ref=\u0026quot;coderService\u0026quot;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/blueprint\u0026gt; 请留意上例reference节点中的filter:OSGI framework里可以有多个实现相同interface的服务，这里的filter就限定了这个reference节 点只引用包含一个名为param01,而且值为val01的service-property的那个服务。\nRPC Global RPC注册 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:odl=\u0026quot;http://opendaylight.org/xmlns/blueprint/v1.0.0\u0026quot;\u0026gt; \u0026lt;bean id=\u0026quot;fooRpcService\u0026quot; class=\u0026quot;org.opendaylight.app.FooRpcServiceImpl\u0026quot;\u0026gt; \u0026lt;!-- constructor args --\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;odl:rpc-implementation ref=\u0026quot;fooRpcService\u0026quot;/\u0026gt; \u0026lt;/blueprint\u0026gt; Global RPC的获取 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:odl=\u0026quot;http://opendaylight.org/xmlns/blueprint/v1.0.0\u0026quot;\u0026gt; \u0026lt;odl:rpc-service id=\u0026quot;fooRpcService\u0026quot; interface=\u0026quot;org.opendaylight.app.FooRpcService\u0026quot;/\u0026gt; \u0026lt;bean id=\u0026quot;bar\u0026quot; class=\u0026quot;org.opendaylight.app.Bar\u0026quot;\u0026gt; \u0026lt;argument ref=\u0026quot;fooRpcService\u0026quot;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/blueprint\u0026gt; Routed RPC的注册 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:odl=\u0026quot;http://opendaylight.org/xmlns/blueprint/v1.0.0\u0026quot;\u0026gt; \u0026lt;bean id=\u0026quot;fooRoutedRpcService\u0026quot; class=\u0026quot;org.opendaylight.app.FooRoutedRpcServiceImpl\u0026quot;\u0026gt; \u0026lt;!-- constructor args --\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;odl:routed-rpc-implementation id=\u0026quot;fooRoutedRpcServiceReg\u0026quot; ref=\u0026quot;fooRoutedRpcService\u0026quot;/\u0026gt; \u0026lt;bean id=\u0026quot;bar\u0026quot; class=\u0026quot;org.opendaylight.app.Bar\u0026quot;\u0026gt; \u0026lt;argument ref=\u0026quot;fooRoutedRpcServiceReg\u0026quot;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/blueprint\u0026gt; NotificationListenser NotificationListenser的注册 \u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;blueprint xmlns=\u0026quot;http://www.osgi.org/xmlns/blueprint/v1.0.0\u0026quot; xmlns:odl=\u0026quot;http://opendaylight.org/xmlns/blueprint/v1.0.0\u0026quot;\u0026gt; \u0026lt;bean id=\u0026quot;fooListener\u0026quot; class=\u0026quot;org.opendaylight.app.FooNotificationListener\u0026quot;\u0026gt; \u0026lt;!-- constructor args --\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;odl:notification-listener ref=\u0026quot;fooListener\u0026quot;/\u0026gt; \u0026lt;/blueprint\u0026gt; ","date":"2023-04-27","permalink":"https://hllu.github.io/posts/bluprint/","tags":["odl","rpc"],"title":"Blueprint"},{"content":"安装 git安装略过 安装git-review [root@master ~]# yum install git-review Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile\nepel: mirrors.aliyun.com Resolving Dependencies \u0026ndash;\u0026gt; Running transaction check \u0026mdash;\u0026gt; Package git-review.noarch 0:1.24-5.el7 will be installed \u0026ndash;\u0026gt; Finished Dependency Resolution\nDependencies Resolved\n=============================================================================================================================================================================================== Package Arch Version Repository Size =============================================================================================================================================================================================== Installing: git-review noarch 1.24-5.el7 epel 57 k\nTransaction Summary =============================================================================================================================================================================================== Install 1 Package\n安装gitweb 1）# yum install gitweb 2）修改git.conf\n将 \u0026ldquo;Alias /git /var/www/git\u0026rdquo; 改为 \u0026ldquo;Alias /gitweb /var/www/git\u0026rdquo; 3）修改gitweb.conf\n将$projectroot = \u0026ldquo;/home/xxx\u0026rdquo; 设置为git代码库所在的文件夹，这里我们设置为gerrit配置的代码库路径/data1/gerrit2.8.4/git\n安装gerrit 下载gerrit安装包 gerrit的下载地址: https://www.gerritcodereview.com/releases/README.md 我使用的gerrit版本是2.15.1。 下载完成之后会发现是一个war的包，所以我们的Java环境一定要安装正确。 新建gerrit专用用户 新建一个用户用来专门管理gerrit相关的内容。 在root用户（或者使用 sudo 命令）下面输入下面的命令:\n$ adduser gerrit $ su gerrit 建好用户以后，我们可以把之前下载好的gerrit安装包拷贝到/home/gerrit/目录下，一会方便gerrit用户来安装。 安装gerrit 在gerrit用户的目录(home/gerrit)下面，执行下面的命令：\n$ java -jar gerrit-2.13.4.war init -d ~/gerrit_site 这个命令的意思是执行安装gerrit，会在当前目录下新建一个文件夹gerrit_site用来作为gerrit的根目录，在这个目录中，会安装git仓库，以及gerrit的web页面，还有gerrit的bin，etc等文件夹。 然后就开始安装过程了，安装的过程会询问很多问题，有一些判断性的问题会用[y/N]这样的形式，大写的字母表示默认，我们直接敲回车就表示采用默认的安装选项。 注意： 我们安装的时候，可以只在 Authentication method 时输入 http ，其他全部回车用默认值，因为其他配置我们待会可以通过 etc/gerrit.config 文件进行修改 期间可能会下载两个文件，这两个文件虽然都很小(不到3M)，但是可能是因为GFW的原因，下载速度很慢。你可以到 /lib 文件夹下面查看他们是不是已经下载完了，或者你手动把那两个文件下载完之后，scp到 /lib 下面。 如果你发现已经下完了，但是安装过程卡主了，没有关系，直接 ctrl+c 然后重新安装就可以了。\n安装OpenLDAP 安装 openldap 是一个比较独立的工作，一般公司都已经部署了 ldap，那么可以直接跳过这一步。由于 gtt 在的公司还没有，为了方便 内部使用，决定自行安装一个，未来用户修改密码也方便。\n安装并启动 yum -y install *openldap* systemctl enable slapd systemctl status slapd # 确认 389 端口开启 ss -antp|grep 389 LISTEN 0 128 *:389 *:* users:((\u0026quot;slapd\u0026quot;,14846,8)) 生成一个 ldap 的 “root” 密码 这里只是生成，还没有设置到系统中，建议开一个记事本记住备用。如果你的密码和我不一样，最后的 {SSHA} 内容肯定不一样，这里主意不要直接复制。\n# slappasswd New password: Re-enter new password: {SSHA}bHSiwuPJEypHS6zHSE2Uy7M69sQjmkPL 正式修改 dn 和 “root” 用户密码 # vim /etc/openldap/slapd.d/cn\\=config/olcDatabase\\=\\{2\\}hdb.ldif 将 olcSuffix 和 olcRootDN 修改成我们需要的数据 olcSuffix: dc=gaott,dc=info olcRootDN: cn=Manager,dc=gaott,dc=info 在同一个文件中新加一行写明 Manager 用户的密码 这里的 Manager 就是 ldap 系统中 gaott.info 目录的 root 用户，所以上文一直使用引号的 root。内容写记事本中记录的 {SSHA} 那 串。\nolcRootPW: {SSHA}bHSiwuPJEypHS6zHSE2Uy7M69sQjmkPL 修改 /etc/openldap/slapd.d/cn=config/olcDatabase={1}monitor.ldif 文件中的 olcAccess 内容 将所有 dc=my-domain,dc=com 替换成 dc=gaott,dc=info\nolcAccess: {0}to * by dn.base=\u0026quot;gidNumber=0+uidNumber=0,cn=peercred,cn=extern al,cn=auth\u0026quot; read by dn.base=\u0026quot;cn=Manager,dc=gaott,dc=info\u0026quot; read by * none 确认配置全部正确 # slaptest -u 578ce784 ldif_read_file: checksum error on \u0026quot;/etc/openldap/slapd.d/cn=config/olcDatabase={1}monitor.ldif\u0026quot; 578ce784 ldif_read_file: checksum error on \u0026quot;/etc/openldap/slapd.d/cn=config/olcDatabase={2}hdb.ldif\u0026quot; config file testing succeeded 复制默认的数据库配置文件 [root@linux1 cn=config]# cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG [root@linux1 cn=config]# chown -R ldap:ldap /var/lib/ldap/ 新增默认的 schema [root@linux1 cn=config]# ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/cosine.ldif [root@linux1 cn=config]# ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/nis.ldif [root@linux1 cn=config]# ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/inetorgperson.ldif 生成初始化的 ldap 数据: /root/base.ldif dn: dc=gaott,dc=info objectClass: top objectClass: dcObject objectclass: organization o: gaott.info dc: gaott dn: cn=Manager,dc=gaott,dc=info objectClass: organizationalRole cn: Manager description: Directory Manager dn: ou=people,dc=gaott,dc=info objectClass: organizationalUnit ou: people dn: ou=group,dc=gaott,dc=info objectClass: organizationalUnit ou: group 新增一个用户作为 gerrit 的管理员 /root/user.ldif dn: cn=test,ou=people,dc=gaott,dc=info objectClass: top objectClass: person objectClass: organizationalPerson objectClass: inetOrgPerson cn: test displayName: test user userPassword: test@superpassword! mail: test@gaott.info sn: test 使用之前设置的 “root” 用户权限插入 base.ldif 和 user.ldif 会提示让你输入密码，密码就是之前 slappasswd 时输入的。\nldapadd -x -W -D \u0026quot;cn=Manager,dc=gaott,dc=info\u0026quot; -f /root/base.ldif ldapadd -x -W -D \u0026quot;cn=Manager,dc=gaott,dc=info\u0026quot; -f /root/user.ldif 测试数据是否插入成功，如果搜索到对应用户，说明 ldap 安装成功。 ldapsearch -x cn=test -b dc=gaott,dc=info 在本文中 ldap 作为 gerrit 的用户认证中心，所以只有 LDAP 系统中有的用户才能登陆 gerrit，换言之，老用户修改密码只能通过 LDAP 修改，新增用户也只能通过 LDAP 系统新增，gerrit 中是不能做相应操作的。\n重新启动服务 nginx service nginx restart\ngerrit /home/gerrit/gerrit_site/bin/gerrit.sh restart\n新增一个用户 htpasswd -m /home/gerrit/gerrit.password master\ngerrit运维 通过gerrit set-account修改用户 ssh ha gerrit set_account --add-email user99@163.com user99 ","date":"2023-04-27","permalink":"https://hllu.github.io/posts/gitreview/","tags":["odl","rpc"],"title":"Git review安装使用说明"},{"content":"WSGI(Web Server Gateway Interface) WSGI接口定义非常简单，它只要求Web开发者实现一个函数，就可以响应HTTP请求。我们来看一个最简单的Web版本的“Hello, web!”：\ndef application(environ, start_response): start_response('200 OK', [('Content-Type', 'text/html')]) return [b'\u0026lt;h1\u0026gt;Hello, web!\u0026lt;/h1\u0026gt;'] 上面的application()函数就是符合WSGI标准的一个HTTP处理函数，它接收两个参数：\nenviron：一个包含所有HTTP请求信息的dict对象； start_response：一个发送HTTP响应的函数。 在application()函数中，调用：\nstart_response('200 OK', [('Content-Type', 'text/html')]) 就发送了HTTP响应的Header，注意Header只能发送一次，也就是只能调用一次start_response()函数。start_response()函数接收两个参 数，一个是HTTP响应码，一个是一组list表示的HTTP Header，每个Header用一个包含两个str的tuple表示。\npast api-paste.ini [composite:neutron] use = egg:Paste#urlmap /: neutronversions_composite /v2.0: neutronapi_v2_0 [composite:neutronapi_v2_0] use = call:neutron.auth:pipeline_factory noauth = cors http_proxy_to_wsgi request_id catch_errors extensions neutronapiapp_v2_0 keystone = cors http_proxy_to_wsgi request_id catch_errors authtoken keystonecontext extensions neutronapiapp_v2_0 [composite:neutronversions_composite] use = call:neutron.auth:pipeline_factory noauth = cors http_proxy_to_wsgi neutronversions keystone = cors http_proxy_to_wsgi neutronversions [filter:request_id] paste.filter_factory = oslo_middleware:RequestId.factory [filter:catch_errors] paste.filter_factory = oslo_middleware:CatchErrors.factory [filter:cors] paste.filter_factory = oslo_middleware.cors:filter_factory oslo_config_project = neutron [filter:http_proxy_to_wsgi] paste.filter_factory = oslo_middleware.http_proxy_to_wsgi:HTTPProxyToWSGI.factory [filter:keystonecontext] paste.filter_factory = neutron.auth:NeutronKeystoneContext.factory [filter:authtoken] paste.filter_factory = keystonemiddleware.auth_token:filter_factory [filter:extensions] paste.filter_factory = neutron.api.extensions:plugin_aware_extension_middleware_factory [app:neutronversions] paste.app_factory = neutron.pecan_wsgi.app:versions_factory [app:neutronapiapp_v2_0] paste.app_factory = neutron.api.v2.router:APIRouter.factory [filter:osprofiler] paste.filter_factory = osprofiler.web:WsgiMiddleware.factory 解释 The api-paste.ini file contains configuration for the web services gateway interface (WSGI).\n针对composite、app、filter或者pipeline这种带有[]的，我们称之为section； composite：request进来后通过的第一个section，表示需要将一个http url request调度到一个或者多个application上； filter：是一个实现了过滤功能的中间件(将application进行进一步的封装)，用于过滤request和response； pipeline：最后一个名字对应的一定是app类型，非最后一个名字对应的是filter； app：一个app就是一个实现主要功能的具体application。所以，app必须是callable object类型，接受的参数(environ,start_response)，这是WSGI server交给application的符合WSGI规范的参数。 composite app_name为该配置文件的入口，在NeutronApiService.create函数中传入了app_name为neutron。这里neutron的composite用Paste.urlmap来构造wsgi app：\n针对于标志osapi_volume，这里使用composite的分解机制，实现XXXX/XXXX形式的API交给apiversions来处理，XXXX/V1/XXXX形式的API 交给openstack_volume_api_v1来处理，XXXX/V2/XXXX形式的API交给openstack_volume_api_v2来处理。\n这里使用composite section实现了多个Application的集合应用，neutronapi_v2_0具体映射到的Application为 use =call:neutron.auth:pipeline_factory，这个Application对应了两个参数：noauth，keystone。\nsetup and pbr 在安装python的相关模块和库时，我们一般使用“pip install 模块名”或者“python setup.py install”，前者是在线安装，会安装 该包的相关依赖包；后者是下载源码包然后在本地安装，不会安装该包的相关依赖包。所以在安装普通的python包时，利用pip工具相当 简单。\npython 如何实现连同依赖包一起打包发布？ 假如我在本机开发一个程序，需要用到python的redis、mysql模块以及自己编写的redis_run.py模块。我怎么实现在服务器上去发布该系 统，如何实现依赖模块和自己编写的模块redis_run.py一起打包，实现一键安装呢？同时将自己编写的redis_run.py模块以exe文件格式 安装到python的全局执行路径C:\\Python27\\Scripts下呢？\n在这种应用场景下，pip工具似乎派不上了用场，只能使用python的构建工具setup.py了，使用此构建工具可以实现上述应用场景需求， 只需在 setup.py 文件中写明依赖的库和版本，然后到目标机器上使用python setup.py install安装。\nsetup.py pbr只需要最小化的setup.py 文件，跟普通的使用setuptools的项目相比。这是因为设置都在setup.cfg里面。setup.py文件如下。\nimport setuptools try: import multiprocessing # noqa except ImportError: pass setuptools.setup( setup_requires=['pbr\u0026gt;=2.0.0'], pbr=True) 这个是setup.py文件，从中看到只是使用了setuptools这个库\nsetuptools是什么和能做什么 它 是一组Python的 distutilsde工具的增强工具（适用于 Python 2.3.5 以上的版本，64 位平台则适用于 Python 2.4 以上的版本），可以让程序员更方便的创建和发布 Python 包，特别是那些对其它包具有依赖性的状况。\nsetuptools怎么使用 http://guoyunsky.iteye.com/blog/1659824 请参考该作者的实例，谢谢作者提供的例子\nsetuptools中的pbr是用来做什么的 setup.py会使用pbr从setup.cfg文件读取参数，执行命令 http://lingxiankong.github.io/blog/2013/12/23/python-setup/\npbr pbr是setuptools的辅助工具，最初是为OpenStack开发(https://launchpad.net/pbr)，基于d2to1。 pbr会读取和过滤setup.cfg中的数据，然后将解析后的数据提供给setup.py作为参数。包含如下功能：\n从git中获取Version、AUTHORS and ChangeLog信息 Sphinx Autodoc。pbr会扫描project，找到所有模块，生成stub files Requirements。pbr会读取requirements.txt，生成setup函数需要的install_requires/tests_require/dependency_links 这里需要注意，在requirements.txt文件的头部可以使用：\u0026ndash;index https://pypi.python.org/simple/%EF%BC%8C%E8%BF%99%E4%B8%80%E8%A1%8C%E6%8A%8A%E4%B8%80%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%9A%84%E4%BE%9D%E8%B5%96%E5%A3%B0%E6%98%8E 如 requests==1.2.0 转变为一个具体的依赖声明 requests 1.2.0 from pypi.python.org/simple/\nlong_description。从README.rst, README.txt or README file中生成long_description参数 setup.cfg 段落 files files段落定义了包中的文件位置，有三个基本的设置键：packages,namespace_packages,以及data_files. packages指定了必须安装的数个最高级别的包的列表。这个像setuptools中的函数find_packages.这里面它进入python的包体系中，在最 高的级别路径下安装它。如果packages没有被指明，则默认为metadata段落中的name键值。\n[files] packages = neutron data_files = etc/neutron = etc/api-paste.ini etc/policy.json etc/rootwrap.conf etc/neutron/rootwrap.d = etc/neutron/rootwrap.d/debug.filters etc/neutron/rootwrap.d/dhcp.filters etc/neutron/rootwrap.d/dibbler.filters etc/neutron/rootwrap.d/iptables-firewall.filters etc/neutron/rootwrap.d/ebtables.filters etc/neutron/rootwrap.d/ipset-firewall.filters etc/neutron/rootwrap.d/l3.filters etc/neutron/rootwrap.d/linuxbridge-plugin.filters etc/neutron/rootwrap.d/netns-cleanup.filters etc/neutron/rootwrap.d/openvswitch-plugin.filters scripts = bin/neutron-rootwrap-xen-dom0 段落entry_points 这个段落定义了命令行命令以及python的库lib的进入点。 里面的内容分成子段落，子段落的头行设置了一组进入点的最高级目录的名称，里面定义了键值对，描述了会被安装的进入点。\n[entry_points] wsgi_scripts = neutron-api = neutron.server:get_application console_scripts = neutron-db-manage = neutron.db.migration.cli:main neutron-debug = neutron.debug.shell:main neutron-dhcp-agent = neutron.cmd.eventlet.agents.dhcp:main neutron-keepalived-state-change = neutron.cmd.keepalived_state_change:main neutron.core_plugins = ml2 = neutron.plugins.ml2.plugin:Ml2Plugin neutron.service_plugins = router = neutron.services.l3_router.l3_router_plugin:L3RouterPlugin metering = neutron.services.metering.metering_plugin:MeteringPlugin tag = neutron.services.tag.tag_plugin:TagPlugin neutron.ml2.type_drivers = flat = neutron.plugins.ml2.drivers.type_flat:FlatTypeDriver local = neutron.plugins.ml2.drivers.type_local:LocalTypeDriver eventlet 介绍 协程，又称微线程，纤程。英文名Coroutine。 协程的概念很早就提出来了，但直到最近几年才在某些语言（如Lua）中得到广泛应用。 子程序，或者称为函数，在所有语言中都是层级调用，比如A调用B，B在执行过程中又调用了C，C执行完毕返回，B执行完毕返回，最后是A执行完毕。 所以子程序调用是通过栈实现的，一个线程就是执行一个子程序。 子程序调用总是一个入口，一次返回，调用顺序是明确的。而协程的调用和子程序不同。 协程看上去也是子程序，但执行过程中，在子程序内部可中断，然后转而执行别的子程序，在适当的时候再返回来接着执行。 注意，在一个子程序中中断，去执行其他子程序，不是函数调用，有点类似CPU的中断。\nPython对协程的支持是通过generator实现的。 在generator中，我们不但可以通过for循环来迭代，还可以不断调用next()函数获取由yield语句返回的下一个值。 但是Python的yield不但可以返回一个值，它还可以接收调用者发出的参数。\n协程有什么好处呢？\n每个coroutine有自己私有的stack及局部变量。 同一时间只有一个coroutine在执行，无需对全局变量加锁。 顺序可控，完全由程序控制执行的顺序。而通常的多线程一旦启动，它的运行时序是没法预测的，因此通常会给测试所有的情况带来困难。所以能用coroutine解决的场合应当优先使用coroutine。 API pecan Pecan是一个路由对象分发的oython web框架。本质上可以将url通过分割为每一部分，然后对每一部分查找对应处理该URL部分的处理类，处理后，继续交给后面部分的URL处理，直到所有URL部分都被处理后，调用最后分割的URL对应的处理函数处理. 参考文档：https://pecan.readthedocs.org/en/latest/index.html。\noslo oslo是OpenStack通用库，包括了众多不需要重复发明的“轮子”。主要的作用就是把OpenStack里面通用的架构抽象提取出来形成一个代码库，和其他的第三方Python库一样，只需要在项目中import对应的库就行了。Oslo库包括很多的子项目，下面列举一些进行简单的介绍： Cliff(Command Line Formulation Framework)：可以用来帮助构建命令行程序。主程序只负责基本的命令行参数的解析，然后调用各个子命令去执行不同的操作。 oslo.config：用于接续命令行和配置文件中的配置选项，是oslo的第一个项目。 oslo.db：针对SQLAlchemy访问的抽象。 oslo.i18n：对Python gettext模块的封装，主要用于字符串的翻译和国际化。 oslo.messaging：为OpenStack各个项目使用RPC和事件通知提供一套统一的接口。 stevedore：运行时动态载入代码。 oslo.policy：负责policy的验证和rules的管理。 oslo.rootwrap：让其他OpenStack服务以root身份执行shell命令。一般来说OpenStack的服务都是以非特权用户的身份运行的。 oslo.test：提供单元测试的基础框架。\npython代码中各种注释装饰器的用法 @abc.abstractmethod @six @ @profiler.trace_cls(\u0026ldquo;l3-agent\u0026rdquo;) 一些API请求的处理会经过多个不同的服务（例如，虚拟机的创建过程）。如果有些请求处理过程太慢，分析其中的处理细节会非常的困难和复杂。osprofiler项目由此产生。 osprofiler项目精简但是功能强大，即将被所有的OpenStack服务项目及其客户端项目所采用。使用osprofiler会对每个请求生成一条痕 迹（trace），不管该请求会经过多少服务处理，最终生成请求处理过程的“树”，方便开发测试人员分析请求处理过程和调优。\n@profiler.trace_cls(\u0026quot;point_name\u0026quot;, info={}, hide_args=False, trace_private=False) class TracedClass(object): def traced_method(self): pass def _traced_only_if_trace_private_true(self): pass 1 rabbitmq RabbitMQ常用的Exchange Type有三种：fanout、direct、topic。\nfanout:把所有发送到该Exchange的消息投递到所有与它绑定的队列中。 direct:把消息投递到那些binding key与routing key完全匹配的队列中。 topic:将消息路由到binding key与routing key模式匹配的队列中。 FloatingIp neutron FloatingIP实现 router外网接口IP neutron router-gateway-set $ROUTER_ID $EXTERNAL_NETWORK_ID iptables处理 -A PREROUTING -j neutron-l3-agent-PREROUTING -A POSTROUTING -j neutron-l3-agent-POSTROUTING -A POSTROUTING -j neutron-postrouting-bottom -A OUTPUT -j neutron-l3-agent-OUTPUT -A neutron-l3-agent-snat -j neutron-l3-agent-float-snat -A neutron-l3-agent-snat -s 70.0.0.0/24 -j SNAT --to-source 192.168.12.10 -A neutron-postrouting-bottom -j neutron-l3-agent-snat -A neutron-l3-agent-OUTPUT -d 192.168.12.11/32 -j DNAT --to-destination 70.0.0.3 -A neutron-l3-agent-PREROUTING -d 192.168.12.11/32 -j DNAT --to-destination 70.0.0.3 -A neutron-l3-agent-float-snat -s 70.0.0.3/32 -j SNAT --to-source 192.168.12.11 FloatingIP功能代码 入口 agent由rpc接口接收到消息，然后处理，交给对应的函数 注册rpc接口\nneutron/agent/l3/agent.py self.plugin_rpc = L3PluginApi(topics.L3PLUGIN, host) FloatingIp申请 services.l3_router_plugin.py def create_floatingip(self, context, floatingip): \u0026quot;\u0026quot;\u0026quot;Create floating IP. :param context: Neutron request context :param floatingip: data for the floating IP being created :returns: A floating IP object on success As the l3 router plugin asynchronously creates floating IPs leveraging the l3 agent, the initial status for the floating IP object will be DOWN. \u0026quot;\u0026quot;\u0026quot; return super(L3RouterPlugin, self).create_floatingip( context, floatingip, initial_status=n_const.FLOATINGIP_STATUS_DOWN) neutron/agent/l3/agent.py def routers_updated(self, context, routers): \u0026quot;\u0026quot;\u0026quot;Deal with routers modification and creation RPC message.\u0026quot;\u0026quot;\u0026quot; LOG.debug('Got routers updated notification :%s', routers) if routers: # This is needed for backward compatibility if isinstance(routers[0], dict): routers = [router['id'] for router in routers] for id in routers: update = queue.RouterUpdate(id, queue.PRIORITY_RPC) self._queue.add(update) FloatingIp分配 process_floating_ip_nat_rules\n创建一个Openstack项目 https://docs.openstack.org/infra/manual/creators.html\n当你的项目逻辑架构定了之后，首先是提供 CLI 启动服务，我一般把启动脚本放在cmd文件夹下，并在 setup.cfg 中注册。 在写代码时，引用到的 python lib，可以直接从openstack global requirments文件中拷贝到自己的 requirements.txt 中。 想好 API 框架用啥，我比较常用的是 Pecan+WSME 如果你的 project 有两个或以上的 components，就要创建 rpc 通信层，还有 context 该怎么传递。 数据库的 model 设计以及 sqlalchemy api 的实现，还有就是 db migration listalltheipof a subnet [root@compute ~(keystone_admin)]# neutron port-list --fixed-ips subnet_id=bc7baee2-67bc-480b-a18d-62e397af6963 neutron CLI is deprecated and will be removed in the future. Use openstack CLI instead. +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | id | name | tenant_id | mac_address | fixed_ips | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | 03fc096c-9879-4839-9aa2-b3cc8a55c3e1 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:f3:af:cb | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.3\u0026quot;} | | 494f80a2-62fa-44a5-96c3-350ccee3c2f8 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:3e:4d:78 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.5\u0026quot;} | | 71aa5579-03bf-49b4-91e2-a47648df8e32 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:0f:b8:3e | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.2\u0026quot;} | | c34dd570-2b1a-45ab-a996-f19c60da7958 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:c5:02:50 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.7\u0026quot;} | | dc2830a3-8a97-47e7-a6ae-1964cfb3c0cd | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:da:d6:af | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.1\u0026quot;} | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 DEBUG: keystoneauth.session GET call to network for http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 used request id req-926c8aba-cdd5-4889-b52f-ffe44bfc9ca7 DEBUG: neutronclient.v2_0.client GET call to neutron for http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 used request id req-926c8aba-cdd5-4889-b52f-ffe44bfc9ca7 DEBUG: keystoneauth.identity.v3.base Making authentication request to http://192.168.100.10:5000/v3/auth/tokens DEBUG: keystoneauth.identity.v3.base {\u0026quot;token\u0026quot;: {\u0026quot;is_domain\u0026quot;: false, \u0026quot;methods\u0026quot;: [\u0026quot;password\u0026quot;], \u0026quot;roles\u0026quot;: [{\u0026quot;id\u0026quot;: \u0026quot;d06e0e9a8d13440d95d7b780f8c891f1\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}], \u0026quot;expires_at\u0026quot;: \u0026quot;2018-08-02T13:38:16.000000Z\u0026quot;, \u0026quot;project\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}, \u0026quot;catalog\u0026quot;: [{\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b46466b9f4fc43eeaf0ae45372b2a532\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ccb61f5ac6da4ffb9e03813f8f402239\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;e5892a85b01d4ec5b29eca4d076b965e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;01280807c5aa49ed989f07deb5f55518\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;glance\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;04bebd1e162d419fbad07317888207cd\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:35357/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2bb533e49040463ab0a5d322be09248f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b09edd5ccae04403810924f013d18df2\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;identity\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;08865962aadb453185ec221a580e1ded\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;keystone\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3d07d09d93404ea3b0777dc43f8d0709\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6c707542b3f443ec81d18695ce1e6460\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;710c3eb09e7743e6b19a747c631168d7\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;placement\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;342e938a948741e38f8e8b1953f2e4c8\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;placement\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4b896c6cb0c840639c04025e08f94621\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a4d1a1ff1a7d41f885bca76c34c43268\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f49c5f74fbcf43a09e95e708c4683e2e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volume\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;58e00d6fe1bd488f914e8affd18b9a07\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinder\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;27d4819e010a49e08c6a4de6f5d67b14\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4016aefecc3441659aac514a617323da\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;97970f9b54a34bee8627defbb04637d4\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metric\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;593e971d95864f49ad9960b490735f9d\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;gnocchi\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;769869c4988a4f9382887101b8c23e36\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;abbda3c2f79b46b186978bf4ba238c88\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ff6d9514ce504a62bd2aab221b3013e8\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;alarming\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5cdc78392c1743df9990a690bec7dc1f\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;aodh\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;658167d5a9934fcc9096d8ce2956a330\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bb225c56c3484403998f119f63f84fe3\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f208a028b1bc4e848004bf8ba82bfcd5\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev3\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;66f0f32bc45d44ac8cc91480b83f24a3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv3\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;45a1725e0adf420d83f6ecbd90f4659f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;914e41d1025645628cc7784e60ef2d25\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a7a9cde8807f465e8dc6af4a4d756246\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;compute\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;85d923fff4a14561b5c7ff4b4d91733b\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;nova\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5df9c155ab57482d84b1dbbd8fc16ad5\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;7422056798b14fcab49c9aec63d2c90a\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f8ea7fa01a0c46449f505544c4660d07\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;network\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;95c32dc6a2604bc580a19dd63a47da5a\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;neutron\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;19b02ce9eb19446f89c77896f789c1c7\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a0d73116f23145f190f213110454229c\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bcc11e309fad48ce9ded52c7c60a371f\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev2\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b478aa70b28e47859c9f32c4ec9846bf\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv2\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2225ebde2c284ae1a95ed114f4b6f441\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2879617206a741fab6883e7f297640fc\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;afae36eebbca4a14b1f952510b4bf2b9\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metering\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ba8371dd918b4f61a1c41c8e6eb4c1c0\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;ceilometer\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6abb0dd21b1c42f4b92e85cff4ff8833\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b7646fb787f54002844f690e7939ab97\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ef10e298258442878e23a1fa841e5e23\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;object-store\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f7bf8bf3f21b44eba51edf2068633b79\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;swift\u0026quot;}], \u0026quot;user\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;password_expires_at\u0026quot;: null, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;489353600c5347b0852497074a4a1bce\u0026quot;}, \u0026quot;audit_ids\u0026quot;: [\u0026quot;iXIDEEbzTeGK3BEasG56Kw\u0026quot;], \u0026quot;issued_at\u0026quot;: \u0026quot;2018-08-02T12:38:16.000000Z\u0026quot;}} [root@compute ~(keystone_admin)]# neutron --debug port-list neutron CLI is deprecated and will be removed in the future. Use openstack CLI instead. DEBUG: stevedore.extension found extension EntryPoint.parse('v2token = keystoneauth1.loading._plugins.identity.v2:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oauth1 = keystoneauth1.extras.oauth1._loading:V3OAuth1') DEBUG: stevedore.extension found extension EntryPoint.parse('admin_token = keystoneauth1.loading._plugins.admin_token:AdminToken') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcauthcode = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectAuthorizationCode') DEBUG: stevedore.extension found extension EntryPoint.parse('v2password = keystoneauth1.loading._plugins.identity.v2:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3samlpassword = keystoneauth1.extras._saml2._loading:Saml2Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3password = keystoneauth1.loading._plugins.identity.v3:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcaccesstoken = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectAccessToken') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcpassword = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectPassword') DEBUG: stevedore.extension found extension EntryPoint.parse('v3kerberos = keystoneauth1.extras.kerberos._loading:Kerberos') DEBUG: stevedore.extension found extension EntryPoint.parse('token = keystoneauth1.loading._plugins.identity.generic:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcclientcredentials = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectClientCredentials') DEBUG: stevedore.extension found extension EntryPoint.parse('v3tokenlessauth = keystoneauth1.loading._plugins.identity.v3:TokenlessAuth') DEBUG: stevedore.extension found extension EntryPoint.parse('v3token = keystoneauth1.loading._plugins.identity.v3:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3totp = keystoneauth1.loading._plugins.identity.v3:TOTP') DEBUG: stevedore.extension found extension EntryPoint.parse('password = keystoneauth1.loading._plugins.identity.generic:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3fedkerb = keystoneauth1.extras.kerberos._loading:MappedKerberos') DEBUG: stevedore.extension found extension EntryPoint.parse('table = cliff.formatters.table:TableFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('json = cliff.formatters.json_format:JSONFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('csv = cliff.formatters.commaseparated:CSVLister') DEBUG: stevedore.extension found extension EntryPoint.parse('value = cliff.formatters.value:ValueFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('yaml = cliff.formatters.yaml_format:YAMLFormatter') DEBUG: neutronclient.neutron.v2_0.port.ListPort run(Namespace(columns=[], fields=[], formatter='table', max_width=0, noindent=False, page_size=None, print_empty=False, quote_mode='nonnumeric', request_format='json', show_details=False, sort_dir=[], sort_key=[])) DEBUG: keystoneauth.session REQ: curl -g -i -X GET http://192.168.100.10:5000/v3 -H \u0026quot;Accept: application/json\u0026quot; -H \u0026quot;User-Agent: neutron keystoneauth1/2.18.0 python-requests/2.11.1 CPython/2.7.5\u0026quot; DEBUG: keystoneauth.session RESP: [200] Date: Thu, 02 Aug 2018 12:37:34 GMT Server: Apache/2.4.6 (CentOS) Vary: X-Auth-Token,Accept-Encoding x-openstack-request-id: req-7592e086-34e3-42dd-b4ca-050e7c71a00a Content-Encoding: gzip Content-Length: 196 Connection: close Content-Type: application/json RESP BODY: {\u0026quot;version\u0026quot;: {\u0026quot;status\u0026quot;: \u0026quot;stable\u0026quot;, \u0026quot;updated\u0026quot;: \u0026quot;2017-02-22T00:00:00Z\u0026quot;, \u0026quot;media-types\u0026quot;: [{\u0026quot;base\u0026quot;: \u0026quot;application/json\u0026quot;, \u0026quot;type\u0026quot;: \u0026quot;application/vnd.openstack.identity-v3+json\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;v3.8\u0026quot;, \u0026quot;links\u0026quot;: [{\u0026quot;href\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3/\u0026quot;, \u0026quot;rel\u0026quot;: \u0026quot;self\u0026quot;}]}} DEBUG: keystoneauth.session GET call to None for http://192.168.100.10:5000/v3 used request id req-7592e086-34e3-42dd-b4ca-050e7c71a00a DEBUG: keystoneauth.identity.v3.base Making authentication request to http://192.168.100.10:5000/v3/auth/tokens DEBUG: keystoneauth.identity.v3.base {\u0026quot;token\u0026quot;: {\u0026quot;is_domain\u0026quot;: false, \u0026quot;methods\u0026quot;: [\u0026quot;password\u0026quot;], \u0026quot;roles\u0026quot;: [{\u0026quot;id\u0026quot;: \u0026quot;d06e0e9a8d13440d95d7b780f8c891f1\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}], \u0026quot;expires_at\u0026quot;: \u0026quot;2018-08-02T13:37:34.000000Z\u0026quot;, \u0026quot;project\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}, \u0026quot;catalog\u0026quot;: [{\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b46466b9f4fc43eeaf0ae45372b2a532\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ccb61f5ac6da4ffb9e03813f8f402239\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;e5892a85b01d4ec5b29eca4d076b965e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;01280807c5aa49ed989f07deb5f55518\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;glance\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;04bebd1e162d419fbad07317888207cd\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:35357/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2bb533e49040463ab0a5d322be09248f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b09edd5ccae04403810924f013d18df2\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;identity\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;08865962aadb453185ec221a580e1ded\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;keystone\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3d07d09d93404ea3b0777dc43f8d0709\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6c707542b3f443ec81d18695ce1e6460\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;710c3eb09e7743e6b19a747c631168d7\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;placement\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;342e938a948741e38f8e8b1953f2e4c8\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;placement\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4b896c6cb0c840639c04025e08f94621\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a4d1a1ff1a7d41f885bca76c34c43268\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f49c5f74fbcf43a09e95e708c4683e2e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volume\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;58e00d6fe1bd488f914e8affd18b9a07\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinder\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;27d4819e010a49e08c6a4de6f5d67b14\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4016aefecc3441659aac514a617323da\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;97970f9b54a34bee8627defbb04637d4\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metric\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;593e971d95864f49ad9960b490735f9d\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;gnocchi\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;769869c4988a4f9382887101b8c23e36\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;abbda3c2f79b46b186978bf4ba238c88\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ff6d9514ce504a62bd2aab221b3013e8\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;alarming\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5cdc78392c1743df9990a690bec7dc1f\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;aodh\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;658167d5a9934fcc9096d8ce2956a330\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bb225c56c3484403998f119f63f84fe3\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f208a028b1bc4e848004bf8ba82bfcd5\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev3\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;66f0f32bc45d44ac8cc91480b83f24a3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv3\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;45a1725e0adf420d83f6ecbd90f4659f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;914e41d1025645628cc7784e60ef2d25\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a7a9cde8807f465e8dc6af4a4d756246\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;compute\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;85d923fff4a14561b5c7ff4b4d91733b\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;nova\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5df9c155ab57482d84b1dbbd8fc16ad5\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;7422056798b14fcab49c9aec63d2c90a\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f8ea7fa01a0c46449f505544c4660d07\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;network\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;95c32dc6a2604bc580a19dd63a47da5a\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;neutron\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;19b02ce9eb19446f89c77896f789c1c7\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a0d73116f23145f190f213110454229c\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bcc11e309fad48ce9ded52c7c60a371f\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev2\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b478aa70b28e47859c9f32c4ec9846bf\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv2\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2225ebde2c284ae1a95ed114f4b6f441\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2879617206a741fab6883e7f297640fc\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;afae36eebbca4a14b1f952510b4bf2b9\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metering\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ba8371dd918b4f61a1c41c8e6eb4c1c0\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;ceilometer\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6abb0dd21b1c42f4b92e85cff4ff8833\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b7646fb787f54002844f690e7939ab97\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ef10e298258442878e23a1fa841e5e23\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;object-store\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f7bf8bf3f21b44eba51edf2068633b79\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;swift\u0026quot;}], \u0026quot;user\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;password_expires_at\u0026quot;: null, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;489353600c5347b0852497074a4a1bce\u0026quot;}, \u0026quot;audit_ids\u0026quot;: [\u0026quot;8R2aZNGJSu-eKmCoM0Os3g\u0026quot;], \u0026quot;issued_at\u0026quot;: \u0026quot;2018-08-02T12:37:34.000000Z\u0026quot;}} DEBUG: keystoneauth.session REQ: curl -g -i -X GET http://192.168.100.10:9696/v2.0/ports.json -H \u0026quot;User-Agent: python-neutronclient\u0026quot; -H \u0026quot;Accept: application/json\u0026quot; -H \u0026quot;X-Auth-Token: {SHA1}5653cfddcd0cb39cc8f20b81e26c79780c6320a8\u0026quot; DEBUG: keystoneauth.session RESP: [200] Content-Type: application/json Content-Length: 4997 X-Openstack-Request-Id: req-f7601c55-f95e-40b8-b5d0-334ce0971bd2 Date: Thu, 02 Aug 2018 12:37:35 GMT Connection: keep-alive RESP BODY: {\u0026quot;ports\u0026quot;: [{\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer1\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:19:36Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.3\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;03fc096c-9879-4839-9aa2-b3cc8a55c3e1\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;d7f2cf20-ed2c-41ce-94e4-cf9bffc03db3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;ce306591-fdbd-4c53-bc5d-f89f6cf6abcb\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer1\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:f3:af:cb\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:19:33Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer2\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:20:24Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.5\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;494f80a2-62fa-44a5-96c3-350ccee3c2f8\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;9b352f01-cd62-48d7-bc1b-dc679b3fbfc7\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;b8468845-4dc8-424c-8204-76e2a5700169\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer2\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:3e:4d:78\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:20:17Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;controller\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:17:30Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;network:dhcp\u0026quot;, \u0026quot;revision_number\u0026quot;: 6, \u0026quot;port_security_enabled\u0026quot;: false, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.2\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;71aa5579-03bf-49b4-91e2-a47648df8e32\u0026quot;, \u0026quot;security_groups\u0026quot;: [], \u0026quot;device_id\u0026quot;: \u0026quot;dhcpd3377d3c-a0d1-5d71-9947-f17125c357bb-17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;b166222e-09c7-42c6-a08a-11b4460a4dbc\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;controller\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:0f:b8:3e\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:17:26Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer1\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:19:20Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.7\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;c34dd570-2b1a-45ab-a996-f19c60da7958\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;b3e67cfb-f381-4a5b-92fc-2d019af88400\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;ce306591-fdbd-4c53-bc5d-f89f6cf6abcb\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer1\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:c5:02:50\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:19:17Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;DOWN\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:17:38Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;network:router_interface\u0026quot;, \u0026quot;revision_number\u0026quot;: 5, \u0026quot;port_security_enabled\u0026quot;: false, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.1\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;dc2830a3-8a97-47e7-a6ae-1964cfb3c0cd\u0026quot;, \u0026quot;security_groups\u0026quot;: [], \u0026quot;device_id\u0026quot;: \u0026quot;fb73b983-70a1-4264-9ef3-347041e99a45\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;unbound\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:da:d6:af\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:17:35Z\u0026quot;}]} DEBUG: keystoneauth.session GET call to network for http://192.168.100.10:9696/v2.0/ports.json used request id req-f7601c55-f95e-40b8-b5d0-334ce0971bd2 DEBUG: neutronclient.v2_0.client GET call to neutron for http://192.168.100.10:9696/v2.0/ports.json used request id req-f7601c55-f95e-40b8-b5d0-334ce0971bd2 DEBUG: keystoneauth.identity.v3.base Making authentication request to http://192.168.100.10:5000/v3/auth/tokens DEBUG: keystoneauth.identity.v3.base {\u0026quot;token\u0026quot;: {\u0026quot;is_domain\u0026quot;: false, \u0026quot;methods\u0026quot;: [\u0026quot;password\u0026quot;], \u0026quot;roles\u0026quot;: [{\u0026quot;id\u0026quot;: \u0026quot;d06e0e9a8d13440d95d7b780f8c891f1\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}], \u0026quot;expires_at\u0026quot;: \u0026quot;2018-08-02T13:37:35.000000Z\u0026quot;, \u0026quot;project\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}, \u0026quot;catalog\u0026quot;: [{\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b46466b9f4fc43eeaf0ae45372b2a532\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ccb61f5ac6da4ffb9e03813f8f402239\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;e5892a85b01d4ec5b29eca4d076b965e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;01280807c5aa49ed989f07deb5f55518\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;glance\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;04bebd1e162d419fbad07317888207cd\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:35357/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2bb533e49040463ab0a5d322be09248f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b09edd5ccae04403810924f013d18df2\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;identity\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;08865962aadb453185ec221a580e1ded\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;keystone\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3d07d09d93404ea3b0777dc43f8d0709\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6c707542b3f443ec81d18695ce1e6460\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;710c3eb09e7743e6b19a747c631168d7\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;placement\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;342e938a948741e38f8e8b1953f2e4c8\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;placement\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4b896c6cb0c840639c04025e08f94621\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a4d1a1ff1a7d41f885bca76c34c43268\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f49c5f74fbcf43a09e95e708c4683e2e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volume\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;58e00d6fe1bd488f914e8affd18b9a07\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinder\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;27d4819e010a49e08c6a4de6f5d67b14\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4016aefecc3441659aac514a617323da\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;97970f9b54a34bee8627defbb04637d4\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metric\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;593e971d95864f49ad9960b490735f9d\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;gnocchi\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;769869c4988a4f9382887101b8c23e36\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;abbda3c2f79b46b186978bf4ba238c88\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ff6d9514ce504a62bd2aab221b3013e8\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;alarming\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5cdc78392c1743df9990a690bec7dc1f\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;aodh\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;658167d5a9934fcc9096d8ce2956a330\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bb225c56c3484403998f119f63f84fe3\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f208a028b1bc4e848004bf8ba82bfcd5\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev3\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;66f0f32bc45d44ac8cc91480b83f24a3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv3\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;45a1725e0adf420d83f6ecbd90f4659f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;914e41d1025645628cc7784e60ef2d25\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a7a9cde8807f465e8dc6af4a4d756246\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;compute\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;85d923fff4a14561b5c7ff4b4d91733b\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;nova\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5df9c155ab57482d84b1dbbd8fc16ad5\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;7422056798b14fcab49c9aec63d2c90a\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f8ea7fa01a0c46449f505544c4660d07\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;network\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;95c32dc6a2604bc580a19dd63a47da5a\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;neutron\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;19b02ce9eb19446f89c77896f789c1c7\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a0d73116f23145f190f213110454229c\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bcc11e309fad48ce9ded52c7c60a371f\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev2\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b478aa70b28e47859c9f32c4ec9846bf\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv2\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2225ebde2c284ae1a95ed114f4b6f441\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2879617206a741fab6883e7f297640fc\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;afae36eebbca4a14b1f952510b4bf2b9\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metering\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ba8371dd918b4f61a1c41c8e6eb4c1c0\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;ceilometer\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6abb0dd21b1c42f4b92e85cff4ff8833\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b7646fb787f54002844f690e7939ab97\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ef10e298258442878e23a1fa841e5e23\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;object-store\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f7bf8bf3f21b44eba51edf2068633b79\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;swift\u0026quot;}], \u0026quot;user\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;password_expires_at\u0026quot;: null, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;489353600c5347b0852497074a4a1bce\u0026quot;}, \u0026quot;audit_ids\u0026quot;: [\u0026quot;aDtvhYq_SHG1ebIixJbETQ\u0026quot;], \u0026quot;issued_at\u0026quot;: \u0026quot;2018-08-02T12:37:35.000000Z\u0026quot;}} +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | id | name | tenant_id | mac_address | fixed_ips | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | 03fc096c-9879-4839-9aa2-b3cc8a55c3e1 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:f3:af:cb | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.3\u0026quot;} | | 494f80a2-62fa-44a5-96c3-350ccee3c2f8 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:3e:4d:78 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.5\u0026quot;} | | 71aa5579-03bf-49b4-91e2-a47648df8e32 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:0f:b8:3e | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.2\u0026quot;} | | c34dd570-2b1a-45ab-a996-f19c60da7958 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:c5:02:50 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.7\u0026quot;} | | dc2830a3-8a97-47e7-a6ae-1964cfb3c0cd | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:da:d6:af | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.1\u0026quot;} | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ [root@compute ~(keystone_admin)]# neutron --debug port-list --fixed-ips subnet_id=bc7baee2-67bc-480b-a18d-62e397af6963 neutron CLI is deprecated and will be removed in the future. Use openstack CLI instead. DEBUG: stevedore.extension found extension EntryPoint.parse('v2token = keystoneauth1.loading._plugins.identity.v2:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oauth1 = keystoneauth1.extras.oauth1._loading:V3OAuth1') DEBUG: stevedore.extension found extension EntryPoint.parse('admin_token = keystoneauth1.loading._plugins.admin_token:AdminToken') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcauthcode = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectAuthorizationCode') DEBUG: stevedore.extension found extension EntryPoint.parse('v2password = keystoneauth1.loading._plugins.identity.v2:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3samlpassword = keystoneauth1.extras._saml2._loading:Saml2Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3password = keystoneauth1.loading._plugins.identity.v3:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcaccesstoken = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectAccessToken') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcpassword = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectPassword') DEBUG: stevedore.extension found extension EntryPoint.parse('v3kerberos = keystoneauth1.extras.kerberos._loading:Kerberos') DEBUG: stevedore.extension found extension EntryPoint.parse('token = keystoneauth1.loading._plugins.identity.generic:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3oidcclientcredentials = keystoneauth1.loading._plugins.identity.v3:OpenIDConnectClientCredentials') DEBUG: stevedore.extension found extension EntryPoint.parse('v3tokenlessauth = keystoneauth1.loading._plugins.identity.v3:TokenlessAuth') DEBUG: stevedore.extension found extension EntryPoint.parse('v3token = keystoneauth1.loading._plugins.identity.v3:Token') DEBUG: stevedore.extension found extension EntryPoint.parse('v3totp = keystoneauth1.loading._plugins.identity.v3:TOTP') DEBUG: stevedore.extension found extension EntryPoint.parse('password = keystoneauth1.loading._plugins.identity.generic:Password') DEBUG: stevedore.extension found extension EntryPoint.parse('v3fedkerb = keystoneauth1.extras.kerberos._loading:MappedKerberos') DEBUG: stevedore.extension found extension EntryPoint.parse('table = cliff.formatters.table:TableFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('json = cliff.formatters.json_format:JSONFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('csv = cliff.formatters.commaseparated:CSVLister') DEBUG: stevedore.extension found extension EntryPoint.parse('value = cliff.formatters.value:ValueFormatter') DEBUG: stevedore.extension found extension EntryPoint.parse('yaml = cliff.formatters.yaml_format:YAMLFormatter') DEBUG: neutronclient.neutron.v2_0.port.ListPort run(Namespace(columns=[], fields=[], formatter='table', max_width=0, noindent=False, page_size=None, print_empty=False, quote_mode='nonnumeric', request_format='json', show_details=False, sort_dir=[], sort_key=[])) DEBUG: keystoneauth.session REQ: curl -g -i -X GET http://192.168.100.10:5000/v3 -H \u0026quot;Accept: application/json\u0026quot; -H \u0026quot;User-Agent: neutron keystoneauth1/2.18.0 python-requests/2.11.1 CPython/2.7.5\u0026quot; DEBUG: keystoneauth.session RESP: [200] Date: Thu, 02 Aug 2018 12:38:14 GMT Server: Apache/2.4.6 (CentOS) Vary: X-Auth-Token,Accept-Encoding x-openstack-request-id: req-e53be530-fbb7-42bc-a4bd-9a2dde2b0766 Content-Encoding: gzip Content-Length: 196 Connection: close Content-Type: application/json RESP BODY: {\u0026quot;version\u0026quot;: {\u0026quot;status\u0026quot;: \u0026quot;stable\u0026quot;, \u0026quot;updated\u0026quot;: \u0026quot;2017-02-22T00:00:00Z\u0026quot;, \u0026quot;media-types\u0026quot;: [{\u0026quot;base\u0026quot;: \u0026quot;application/json\u0026quot;, \u0026quot;type\u0026quot;: \u0026quot;application/vnd.openstack.identity-v3+json\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;v3.8\u0026quot;, \u0026quot;links\u0026quot;: [{\u0026quot;href\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3/\u0026quot;, \u0026quot;rel\u0026quot;: \u0026quot;self\u0026quot;}]}} DEBUG: keystoneauth.session GET call to None for http://192.168.100.10:5000/v3 used request id req-e53be530-fbb7-42bc-a4bd-9a2dde2b0766 DEBUG: keystoneauth.identity.v3.base Making authentication request to http://192.168.100.10:5000/v3/auth/tokens DEBUG: keystoneauth.identity.v3.base {\u0026quot;token\u0026quot;: {\u0026quot;is_domain\u0026quot;: false, \u0026quot;methods\u0026quot;: [\u0026quot;password\u0026quot;], \u0026quot;roles\u0026quot;: [{\u0026quot;id\u0026quot;: \u0026quot;d06e0e9a8d13440d95d7b780f8c891f1\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}], \u0026quot;expires_at\u0026quot;: \u0026quot;2018-08-02T13:38:15.000000Z\u0026quot;, \u0026quot;project\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}, \u0026quot;catalog\u0026quot;: [{\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b46466b9f4fc43eeaf0ae45372b2a532\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ccb61f5ac6da4ffb9e03813f8f402239\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;e5892a85b01d4ec5b29eca4d076b965e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;01280807c5aa49ed989f07deb5f55518\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;glance\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;04bebd1e162d419fbad07317888207cd\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:35357/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2bb533e49040463ab0a5d322be09248f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b09edd5ccae04403810924f013d18df2\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;identity\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;08865962aadb453185ec221a580e1ded\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;keystone\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3d07d09d93404ea3b0777dc43f8d0709\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6c707542b3f443ec81d18695ce1e6460\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;710c3eb09e7743e6b19a747c631168d7\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;placement\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;342e938a948741e38f8e8b1953f2e4c8\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;placement\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4b896c6cb0c840639c04025e08f94621\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a4d1a1ff1a7d41f885bca76c34c43268\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f49c5f74fbcf43a09e95e708c4683e2e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volume\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;58e00d6fe1bd488f914e8affd18b9a07\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinder\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;27d4819e010a49e08c6a4de6f5d67b14\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4016aefecc3441659aac514a617323da\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;97970f9b54a34bee8627defbb04637d4\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metric\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;593e971d95864f49ad9960b490735f9d\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;gnocchi\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;769869c4988a4f9382887101b8c23e36\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;abbda3c2f79b46b186978bf4ba238c88\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ff6d9514ce504a62bd2aab221b3013e8\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;alarming\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5cdc78392c1743df9990a690bec7dc1f\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;aodh\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;658167d5a9934fcc9096d8ce2956a330\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bb225c56c3484403998f119f63f84fe3\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f208a028b1bc4e848004bf8ba82bfcd5\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev3\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;66f0f32bc45d44ac8cc91480b83f24a3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv3\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;45a1725e0adf420d83f6ecbd90f4659f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;914e41d1025645628cc7784e60ef2d25\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a7a9cde8807f465e8dc6af4a4d756246\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;compute\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;85d923fff4a14561b5c7ff4b4d91733b\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;nova\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5df9c155ab57482d84b1dbbd8fc16ad5\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;7422056798b14fcab49c9aec63d2c90a\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f8ea7fa01a0c46449f505544c4660d07\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;network\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;95c32dc6a2604bc580a19dd63a47da5a\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;neutron\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;19b02ce9eb19446f89c77896f789c1c7\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a0d73116f23145f190f213110454229c\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bcc11e309fad48ce9ded52c7c60a371f\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev2\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b478aa70b28e47859c9f32c4ec9846bf\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv2\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2225ebde2c284ae1a95ed114f4b6f441\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2879617206a741fab6883e7f297640fc\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;afae36eebbca4a14b1f952510b4bf2b9\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metering\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ba8371dd918b4f61a1c41c8e6eb4c1c0\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;ceilometer\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6abb0dd21b1c42f4b92e85cff4ff8833\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b7646fb787f54002844f690e7939ab97\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ef10e298258442878e23a1fa841e5e23\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;object-store\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f7bf8bf3f21b44eba51edf2068633b79\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;swift\u0026quot;}], \u0026quot;user\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;password_expires_at\u0026quot;: null, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;489353600c5347b0852497074a4a1bce\u0026quot;}, \u0026quot;audit_ids\u0026quot;: [\u0026quot;gJVovLpWQHyExpz_R6FAgw\u0026quot;], \u0026quot;issued_at\u0026quot;: \u0026quot;2018-08-02T12:38:15.000000Z\u0026quot;}} DEBUG: keystoneauth.session REQ: curl -g -i -X GET http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 -H \u0026quot;User-Agent: python-neutronclient\u0026quot; -H \u0026quot;Accept: application/json\u0026quot; -H \u0026quot;X-Auth-Token: {SHA1}6ace437ba5f374e1edfba31750fed9e601810c46\u0026quot; DEBUG: keystoneauth.session RESP: [200] Content-Type: application/json Content-Length: 4997 X-Openstack-Request-Id: req-926c8aba-cdd5-4889-b52f-ffe44bfc9ca7 Date: Thu, 02 Aug 2018 12:38:15 GMT Connection: keep-alive RESP BODY: {\u0026quot;ports\u0026quot;: [{\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer1\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:19:36Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.3\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;03fc096c-9879-4839-9aa2-b3cc8a55c3e1\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;d7f2cf20-ed2c-41ce-94e4-cf9bffc03db3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;ce306591-fdbd-4c53-bc5d-f89f6cf6abcb\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer1\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:f3:af:cb\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:19:33Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer2\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:20:24Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.5\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;494f80a2-62fa-44a5-96c3-350ccee3c2f8\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;9b352f01-cd62-48d7-bc1b-dc679b3fbfc7\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;b8468845-4dc8-424c-8204-76e2a5700169\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer2\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:3e:4d:78\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:20:17Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;controller\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:17:30Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;network:dhcp\u0026quot;, \u0026quot;revision_number\u0026quot;: 6, \u0026quot;port_security_enabled\u0026quot;: false, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.2\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;71aa5579-03bf-49b4-91e2-a47648df8e32\u0026quot;, \u0026quot;security_groups\u0026quot;: [], \u0026quot;device_id\u0026quot;: \u0026quot;dhcpd3377d3c-a0d1-5d71-9947-f17125c357bb-17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;b166222e-09c7-42c6-a08a-11b4460a4dbc\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;controller\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:0f:b8:3e\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:17:26Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;ACTIVE\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;computer1\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:19:20Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;compute:nova\u0026quot;, \u0026quot;revision_number\u0026quot;: 8, \u0026quot;port_security_enabled\u0026quot;: true, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.7\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;c34dd570-2b1a-45ab-a996-f19c60da7958\u0026quot;, \u0026quot;security_groups\u0026quot;: [\u0026quot;4aa7d663-d9e2-4af3-aa92-6513ab97e51c\u0026quot;], \u0026quot;device_id\u0026quot;: \u0026quot;b3e67cfb-f381-4a5b-92fc-2d019af88400\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {\u0026quot;support_vhost_user\u0026quot;: false, \u0026quot;has_datapath_type_netdev\u0026quot;: false, \u0026quot;uuid\u0026quot;: \u0026quot;ce306591-fdbd-4c53-bc5d-f89f6cf6abcb\u0026quot;, \u0026quot;host_addresses\u0026quot;: [\u0026quot;computer1\u0026quot;]}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;ovs\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:c5:02:50\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:19:17Z\u0026quot;}, {\u0026quot;status\u0026quot;: \u0026quot;DOWN\u0026quot;, \u0026quot;binding:host_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;description\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;allowed_address_pairs\u0026quot;: [], \u0026quot;tags\u0026quot;: [], \u0026quot;extra_dhcp_opts\u0026quot;: [], \u0026quot;updated_at\u0026quot;: \u0026quot;2018-05-28T11:17:38Z\u0026quot;, \u0026quot;device_owner\u0026quot;: \u0026quot;network:router_interface\u0026quot;, \u0026quot;revision_number\u0026quot;: 5, \u0026quot;port_security_enabled\u0026quot;: false, \u0026quot;binding:profile\u0026quot;: {}, \u0026quot;fixed_ips\u0026quot;: [{\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.1\u0026quot;}], \u0026quot;id\u0026quot;: \u0026quot;dc2830a3-8a97-47e7-a6ae-1964cfb3c0cd\u0026quot;, \u0026quot;security_groups\u0026quot;: [], \u0026quot;device_id\u0026quot;: \u0026quot;fb73b983-70a1-4264-9ef3-347041e99a45\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;admin_state_up\u0026quot;: true, \u0026quot;network_id\u0026quot;: \u0026quot;17a30725-7cde-497b-9862-3d95af779eeb\u0026quot;, \u0026quot;tenant_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;binding:vif_details\u0026quot;: {}, \u0026quot;binding:vnic_type\u0026quot;: \u0026quot;normal\u0026quot;, \u0026quot;binding:vif_type\u0026quot;: \u0026quot;unbound\u0026quot;, \u0026quot;mac_address\u0026quot;: \u0026quot;fa:16:3e:da:d6:af\u0026quot;, \u0026quot;project_id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;created_at\u0026quot;: \u0026quot;2018-05-28T11:17:35Z\u0026quot;}]} DEBUG: keystoneauth.session GET call to network for http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 used request id req-926c8aba-cdd5-4889-b52f-ffe44bfc9ca7 DEBUG: neutronclient.v2_0.client GET call to neutron for http://192.168.100.10:9696/v2.0/ports.json?fixed_ips=subnet_id%3Dbc7baee2-67bc-480b-a18d-62e397af6963 used request id req-926c8aba-cdd5-4889-b52f-ffe44bfc9ca7 DEBUG: keystoneauth.identity.v3.base Making authentication request to http://192.168.100.10:5000/v3/auth/tokens DEBUG: keystoneauth.identity.v3.base {\u0026quot;token\u0026quot;: {\u0026quot;is_domain\u0026quot;: false, \u0026quot;methods\u0026quot;: [\u0026quot;password\u0026quot;], \u0026quot;roles\u0026quot;: [{\u0026quot;id\u0026quot;: \u0026quot;d06e0e9a8d13440d95d7b780f8c891f1\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}], \u0026quot;expires_at\u0026quot;: \u0026quot;2018-08-02T13:38:16.000000Z\u0026quot;, \u0026quot;project\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;}, \u0026quot;catalog\u0026quot;: [{\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b46466b9f4fc43eeaf0ae45372b2a532\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ccb61f5ac6da4ffb9e03813f8f402239\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9292\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;e5892a85b01d4ec5b29eca4d076b965e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;01280807c5aa49ed989f07deb5f55518\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;glance\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;04bebd1e162d419fbad07317888207cd\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:35357/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2bb533e49040463ab0a5d322be09248f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:5000/v3\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b09edd5ccae04403810924f013d18df2\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;identity\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;08865962aadb453185ec221a580e1ded\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;keystone\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3d07d09d93404ea3b0777dc43f8d0709\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6c707542b3f443ec81d18695ce1e6460\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8778/placement\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;710c3eb09e7743e6b19a747c631168d7\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;placement\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;342e938a948741e38f8e8b1953f2e4c8\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;placement\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4b896c6cb0c840639c04025e08f94621\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a4d1a1ff1a7d41f885bca76c34c43268\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f49c5f74fbcf43a09e95e708c4683e2e\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volume\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;58e00d6fe1bd488f914e8affd18b9a07\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinder\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;27d4819e010a49e08c6a4de6f5d67b14\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;4016aefecc3441659aac514a617323da\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8041\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;97970f9b54a34bee8627defbb04637d4\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metric\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;593e971d95864f49ad9960b490735f9d\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;gnocchi\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;769869c4988a4f9382887101b8c23e36\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;abbda3c2f79b46b186978bf4ba238c88\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8042\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ff6d9514ce504a62bd2aab221b3013e8\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;alarming\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5cdc78392c1743df9990a690bec7dc1f\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;aodh\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;658167d5a9934fcc9096d8ce2956a330\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bb225c56c3484403998f119f63f84fe3\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v3/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f208a028b1bc4e848004bf8ba82bfcd5\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev3\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;66f0f32bc45d44ac8cc91480b83f24a3\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv3\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;45a1725e0adf420d83f6ecbd90f4659f\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;914e41d1025645628cc7784e60ef2d25\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8774/v2.1/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a7a9cde8807f465e8dc6af4a4d756246\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;compute\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;85d923fff4a14561b5c7ff4b4d91733b\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;nova\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;5df9c155ab57482d84b1dbbd8fc16ad5\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;7422056798b14fcab49c9aec63d2c90a\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:9696\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f8ea7fa01a0c46449f505544c4660d07\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;network\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;95c32dc6a2604bc580a19dd63a47da5a\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;neutron\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;19b02ce9eb19446f89c77896f789c1c7\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;a0d73116f23145f190f213110454229c\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8776/v2/c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;bcc11e309fad48ce9ded52c7c60a371f\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;volumev2\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b478aa70b28e47859c9f32c4ec9846bf\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;cinderv2\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2225ebde2c284ae1a95ed114f4b6f441\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2879617206a741fab6883e7f297640fc\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8777\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;afae36eebbca4a14b1f952510b4bf2b9\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;metering\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ba8371dd918b4f61a1c41c8e6eb4c1c0\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;ceilometer\u0026quot;}, {\u0026quot;endpoints\u0026quot;: [{\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;6abb0dd21b1c42f4b92e85cff4ff8833\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;public\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;b7646fb787f54002844f690e7939ab97\u0026quot;}, {\u0026quot;url\u0026quot;: \u0026quot;http://192.168.100.10:8080/v1/AUTH_c0bb6b415e474e3598c8565229952028\u0026quot;, \u0026quot;interface\u0026quot;: \u0026quot;internal\u0026quot;, \u0026quot;region\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;region_id\u0026quot;: \u0026quot;RegionOne\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;ef10e298258442878e23a1fa841e5e23\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;object-store\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;f7bf8bf3f21b44eba51edf2068633b79\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;swift\u0026quot;}], \u0026quot;user\u0026quot;: {\u0026quot;domain\u0026quot;: {\u0026quot;id\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;Default\u0026quot;}, \u0026quot;password_expires_at\u0026quot;: null, \u0026quot;name\u0026quot;: \u0026quot;admin\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;489353600c5347b0852497074a4a1bce\u0026quot;}, \u0026quot;audit_ids\u0026quot;: [\u0026quot;iXIDEEbzTeGK3BEasG56Kw\u0026quot;], \u0026quot;issued_at\u0026quot;: \u0026quot;2018-08-02T12:38:16.000000Z\u0026quot;}} +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | id | name | tenant_id | mac_address | fixed_ips | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ | 03fc096c-9879-4839-9aa2-b3cc8a55c3e1 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:f3:af:cb | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.3\u0026quot;} | | 494f80a2-62fa-44a5-96c3-350ccee3c2f8 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:3e:4d:78 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.5\u0026quot;} | | 71aa5579-03bf-49b4-91e2-a47648df8e32 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:0f:b8:3e | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.2\u0026quot;} | | c34dd570-2b1a-45ab-a996-f19c60da7958 | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:c5:02:50 | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.7\u0026quot;} | | dc2830a3-8a97-47e7-a6ae-1964cfb3c0cd | | c0bb6b415e474e3598c8565229952028 | fa:16:3e:da:d6:af | {\u0026quot;subnet_id\u0026quot;: \u0026quot;bc7baee2-67bc-480b-a18d-62e397af6963\u0026quot;, \u0026quot;ip_address\u0026quot;: \u0026quot;10.10.5.1\u0026quot;} | +--------------------------------------+------+----------------------------------+-------------------+----------------------------------------------------------------------------------+ ","date":"2023-04-27","permalink":"https://hllu.github.io/posts/openstack/","tags":["openstack","rpc"],"title":"OpenStack基础"},{"content":"如何添加OVS和PORT; ovs-vsctl add-br br0 ovs-vsctl del-br br0 ovs-vsctl list-br ovs-vsctl add-port br0 eth0 ovs-vsctl set port eth0 tag=1//vlan id ovs-vsctl del-port br0 eth0 ovs-vsctl list-ports br0 ovs-vsctl show //显示所有端口的vlan属性 如何配置QOS，比如队列和限速; sudo ovs-vsctl -- set Port eth2 qos=@newqos -- --id=@newqos create QoS type=linux-htb other-config:max-rate=1000000000 queues=0=@q0,1=@q1 -- --id=@q0 create Queue dscp =1 other-config:min-rate=100000000 other-config:max-rate=100000000 -- --id=@q1 create Queue other-config:min-rate=500000000 ovs-vsctl clear Port eth2 qos sudo ovs-vsctl list qos sudo ovs-vsctl destroy qos _uuid sudo ovs-vsctl list qos sudo ovs-vsctl destroy queue _uuid 如何配置流镜像; sudo ovs-vsctl -- set Bridge br-int mirrors=@m -- --id=@tap6a094914-cd get Port tap6a094914-cd -- --id=@tap73e945b4-79 get Port tap73e945b4-79 -- --id=@tapa6cd1168-a2 get Port tapa6cd1168-a2 -- --id=@m create Mirror name=mymirror select-dst-port=@tap6a094914-cd,@tap73e945b4-79 select-src-port=@tap6a094914-cd,@tap73e945b4-79 output-port=@tapa6cd1168-a2 sudo ovs-vsctl remove Bridge br0 mirrors mymirror sudo ovs-vsctl clear Bridge br-int mirrors 如何配置流监控sflow; sudo ovs-vsctl -- --id=@s create sFlow agent=eth2 target=\\\u0026quot;10.0.0.1:6343\\\u0026quot; header=128 sampling=64 polling=10 -- set Bridge br-int sflow=@s sudo ovs-vsctl -- clear Bridge br-int sflow 如何配置流规则 sudo ovs-ofctl add-flow br-int idle_timeout=0,in_port=2,dl_type=0x0800,dl_src=00:88:77:66:55:44,dl_dst=11:22:33:44:55:66,nw_src=1.2.3.4,nw_dst=5.6.7.8,nw_proto=1,tp_src=1,tp_dst=2,actions=drop sudo ovs-ofctl del-flows br-int in_port=2 //in_port=2的所有流规则被删除 sudo ovs-ofctl dump-ports br-int sudo ovs-ofctl dump-flows br-int sudo ovs-ofctl show br-int //查看端口号 支持字段还有nw_tos,nw_ecn,nw_ttl,dl_vlan,dl_vlan_pcp,ip_frag，arp_sha,arp_tha,ipv6_src,ipv6_dst等; 支持流动作还有output：port，mod_dl_src/mod_dl_dst,set field等; 如何查看OVS的配置 ovs-vsctl list/set/get/add/remove/clear/destroy table record column [VALUE] TABLE名有bridge,controller,interface,mirror,netflow,open_vswitch,port,qos,queue,ssl,sflow 配置vxlan gre和ip address ovs-vsctl add-port br-ex port -- set interface port type=vxlan options:remote_ip=192.168.100.3 ovs−vsctladd−port br-ex port −− set Interface port type=greoptions:remote_ip=192.168.100.3 ovs−vsctladd−port br-ex port tag=10 −− set Interface port type=internal//默认为access ifconfig port 192.168.100.1 显示并学习MAC ovs-appctl fdb/show br-ex 设置控制器地址 ovs-vsctl set-controller br-ex tcp:192.168.100.1:6633 ovs-vsctl get-controller br0 ovs-controller ptcp:6633:192.100.100.1 其他更多信息请参见man ovs-vsctl 和man ovs-ofctl ","date":"2023-04-27","permalink":"https://hllu.github.io/posts/ovs/","tags":null,"title":"OVS 常用命令"},{"content":"orgmode有各种各样的好处，主要是文本折叠和缩进的功能实在太好用，gtd也功 能很强大。无论是用于hugo编辑工具还是作为笔记的主力，都是很好的实践。 但有一个问题，是emacs和org的弱项-图片处理。\n在word等所见即所得的编辑工具中，插入图片可以很顺利的完成。而要在org文 档中插入一个图片，就麻烦很多。首先需要下载图片到一个特定的目录，插入图 片的时候，还需要用链接的方式把目录打出来。显示也不直观，往往在生成pdf 文档后，才发现图片过大或者过小，需要调整。随着时间的推移，org文档依赖 的图片也会增删改，导致文档的图片丢失。\n但emacs和org有高度可定制性，通过搜索资料，找到了几乎完美的解决办法。\norg-download 它可以现实以下功能：\n通过鼠标拖拽图片到emacs里，实现图片插入 通过绑定的快捷键激活外部截屏工具，以鼠标选定截屏区域，选好后直接插入 截图 安装 在emacs的emlp库中找到后，i选择安装，然后x执行就可以。\n配置 官网的配置 (require 'org-download) (add-hook 'dired-mode-hook 'org-download-enable) 上面的配置仅能实现鼠标拖拽插入图片的功能，\n我的配置,其中定义annotate这个函数是为了避免每次截图都显示图片的一些注 释信息。\n(require 'org-download) (add-hook 'dired-mode-hook 'org-download-enable) (setq org-download-annotate-function (lambda (_link) \u0026quot;\u0026quot;)) 通过配置模式生成的配置 (custom-set-variables ;; custom-set-variables was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. '(org-agenda-files '(\u0026quot;~/.todos/journal.org\u0026quot; \u0026quot;~/.todos/gtd.org\u0026quot; \u0026quot;~/.todos/work.org\u0026quot;)) '(org-download-screenshot-method \u0026quot;screencapture -i %s\u0026quot;) '(package-selected-packages '(org-download yasnippet ox-hugo openwith elpy magit magit-gerrit magithub))) org-download默认依赖的命令行截屏工具如下：\nWindows：imagemagick/convert； Linux：gnome-screenshot, scrot, gm, xclip； MAC：screencapture 通过以上配置，就可以在mac上，配置图片截屏工具使用screencapture,实现截 屏图片快捷插入，也可以拖砖插入。\n截图保存的图片名称：时间戳+截屏软件名称.png\n截图保存的图片路径：以org文档的最外层标题为目录名，保存的org文档的同级目录下，如果不存在则创建\n截屏的命令是\nM-x -d-sc 也可以自己定义一个快捷键。\n参考网上部分配置参考，图片存储路径是文件名，设置org模式下截图快捷键 (defun my-org-download-method (link) (let ((filename (format-time-string \u0026quot;screenshot_%Y%m%d_%H%M%S.png\u0026quot;)) (dirname (file-name-sans-extension (buffer-name)) )) ;; if directory not exist, create it (unless (file-exists-p dirname) (make-directory dirname)) ;; return the path to save the download files (expand-file-name filename dirname))) (setq org-download-method 'my-org-download-method) (add-hook 'org-mode-hook (lambda() (local-set-key (kbd \u0026quot;C-c p\u0026quot;) 'org-download-screenshot))) inline images org提供了一个功能，可以显示图片，在org文档中，如果图片还是没有显示，只 是显示了链接，可以切换到显示 inline image，快捷键是 C-c C-x C-v 。\n使用yasnippet定义图片显示格式宏 插入的图片，有时候需要指定一些显示效果，比如，靠左，靠右，定义像素值， 定义图片显示比例等。org模式下，有各种对图片的显示控制参数，如下\n#+CAPTION: name #+ATTR_HTML: :title tille1 :align centre #+ATTR_HTML: :width 10% :height 20% 或者指定像素值\n#+ATTR_ORG: :width ~ #+ATTR_HTML: :width ~ 这些值的指定，可以用yasnippet宏来实现，比如定一个picv的宏，在org模式中， 只要输入picv然后按tab键，就可以扩展成定义的格式，比较简便。\n使用效果 上图中，第二个链接是通过指定陪孩子，不显示图片注释信息。第三个链接是加 入了图片的显示定义参数。\n","date":"2023-04-25","permalink":"https://hllu.github.io/posts/org-mode%E4%B8%AD%E6%8F%92%E5%85%A5%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87/","tags":["picture","image","org","download","yasnippet"],"title":"org mode中插入和使用图片"},{"content":"send a message like this fetch('https://abb-king.cloud.cn:8080/service/cart/add', { method: 'POST', body: JSON.stringify({\u0026quot;useUnitId\u0026quot;:\u0026quot;000000000000000200,424242020198576128\u0026quot;,\u0026quot;setCount\u0026quot;:\u0026quot;1\u0026quot;,\u0026quot;billType\u0026quot;:\u0026quot;dailySettlement\u0026quot;,\u0026quot;orderType\u0026quot;:\u0026quot;new\u0026quot;,\u0026quot;durationUnit\u0026quot;:\u0026quot;D\u0026quot;,\u0026quot;productTypeCode\u0026quot;:\u0026quot;IPv6_UL\u0026quot;,\u0026quot;consoleCustomization\u0026quot;:{},\u0026quot;productList\u0026quot;:[{\u0026quot;region\u0026quot;:\u0026quot;region-kunming-hlw\u0026quot;,\u0026quot;availableZone\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;productLineCode\u0026quot;:\u0026quot;EIP\u0026quot;,\u0026quot;productTypeCode\u0026quot;:\u0026quot;IPv6_UL\u0026quot;,\u0026quot;productLineName\u0026quot;:\u0026quot;ip\u0026quot;,\u0026quot;instanceCount\u0026quot;:\u0026quot;1\u0026quot;,\u0026quot;instanceId\u0026quot;:\u0026quot;ada3bafe-590b-45d7-a18f\u0026quot;,\u0026quot;instanceName\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;itemList\u0026quot;:[{\u0026quot;code\u0026quot;:\u0026quot;instance\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;billingItem\u0026quot;,\u0026quot;unit\u0026quot;:\u0026quot;COUNT\u0026quot;,\u0026quot;value\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;packageList\u0026quot;:null}]}],\u0026quot;recordOrder\u0026quot;:1}), headers: { 'Content-type': 'application/json; charset=UTF-8','Authorization': 'bearer eyOiJSUzI1NiIs' } }) .then(res =\u0026gt; res.json()) .then(console.log) ipv6 curl curl -6 -g --interface eth0 \u0026quot;http://[e80::f85b:4256:ee76:24a4]:8080\u0026quot; -vvv put curl -X PUT -H 'Content-Type: application/json' -H 'region: ly-dx-zx' -H 'Authorization:bearer token' -d '{\u0026quot;eip\u0026quot;: {\u0026quot;serverId\u0026quot;:\u0026quot;48e95b16--9fff-9cda5f443b25\u0026quot;,\u0026quot;portId\u0026quot;:\u0026quot;c97a826a--ceb373aad4d5\u0026quot;,\u0026quot;fixedIp\u0026quot;:\u0026quot;172.16.1.17\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;11\u0026quot;,\u0026quot;availabilityZone\u0026quot;:\u0026quot;ab.cd.ed\u0026quot;}}' http://100.105.50.1:8080/ecp/v1.1/esp/-4b95-954e-371ea947a0f0/action/bind ","date":"2023-04-20","permalink":"https://hllu.github.io/posts/send-a-post-using-chrome-consol/","tags":["curl","http"],"title":"send a post using chrome consol"},{"content":"qemu-nbd NBD指的是Network Block Device，正如其名字的意思，NBD让用户可以通过网络访问到某个块设备，或者设备镜像。 NFS的方式只能管到文件系统层，而NBD的方式则不仅可以管到文件系统层，还可以管到更下面的块设备层。\n加载 nbd 驱动 sudo modprobe nbd lsmod | grep nbd ls /dev/nbd* connect qemu-nbd $ sudo qemu-nbd -c /dev/nbd0 ./eip-cluster-ubuntu16.04-x64-20230420.qcow2 $ sudo fdisk -l /dev/nbd0 Disk /dev/nbd0: 40 GiB, 42949672960 bytes, 83886080 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0x7bda01c6 Device Boot Start End Sectors Size Id Type /dev/nbd0p1 * 2048 83886046 83883999 40G 83 Linux $ mount to a dir sudo mount /dev/nbd0p1 /mnt/ 如果找不到nbd0p1,可能是分区丢失，可以用以下命令试试\npartx -a /dev/ndb0 或者\nkpartx -a /dev/ndb0 sudo chroot mnt sudo su - eipadmin\n退出 root@ecs--20210331:~# umount /mnt/ root@ecs--20210331:~# ls /dev/nbd3 /dev/nbd3p1 /dev/nbd3 root@ecs--20210331:~# qemu-nbd --disconnect /dev/nbd3 /dev/nbd3 disconnected root@ecs--20210331:~# sudo rmmod nbd root@ecs--20210331:~# ","date":"2023-04-20","permalink":"https://hllu.github.io/posts/%E4%BD%BF%E7%94%A8qemu-nbd%E7%BC%96%E8%BE%91qcow2%E9%95%9C%E5%83%8F/","tags":null,"title":"使用qemu-nbd编辑qcow2镜像"},{"content":"简介 magit 是emacs下对git 的封装,让你基本在emacs中即可完成对git仓库的管理,需要单独安装\n帮助 可以在magit status 中 ? 键可提示magit命令绑定在哪些按键上 magit-status因为常用，可以设置一个快捷键，如下\n(global-set-key (kbd \u0026quot;\u0026lt;f7\u0026gt;\u0026quot;) 'magit-status) Stage (git add )与 Unstage 如果你修改了一个git管理的文件，但是未运行git add 则当前文件处于Unstaged状态 运行git add 之后则处于Stage状态。git commit 之后，则变成了一个commit 会处于 Unpushed 状态\ns Stage git add filename 从unstaged变成staged u Unstage git reset HEAD filename 从staged 变成Unstaged s 与u 命令可以作用于文件，也可以作用于整个Unstaged changes与Staged changes标题上 也可以作用于某个文件的一部分(展开一个文件你会看到@@开头的内容) 甚至你可以选中某个区域只提交选中区域的部分变更 操作时把光标移动到相应的位置即可\nCommit 在magit status buffer中c键为git commit 相关操作 最常用的操作是cc 即普通的Commit 常用这三个命令\ncc Commit 最普通的 git commit ce Extend 当前Staged的文件合并到上一次提交中 git commit –amend –no-edit ca Amend 只修改上次提交的日志 git commit –amend 执行相应的按键后会提示你输入日志\nPull(F)(git pull) Push(p)(git push) Fu pull from upstream Fp pull from pushremote Fe pull from elsewhere 提示你从哪pull 如何理解Fu Fp的不同 比如github上userA有一个仓库r,userB fork了这个仓库 则对于userB来说 userA/r 是upstream ,而 userB/r 则为pushremote 即一般来说我们把代码push 到pushremote内，而不是直接push 到upstream上 通常的应用场景是我们把未成型的代码临时push 到pushremote上，等这个功能彻底完善后才push到upstream上\n另外只有设置了pushremote分支，magit status buffer 才会展示有哪些commit未pull 或未push 将相应的分支设为upstream 或pushremote需要在branch管理内设置(快捷键b)\npu push to upstram 最普通的git push pe push to elsewhere 会提示你push到哪个远程分支 po push another branch to 会提示你push哪个分支 pT push a tag push 一个tag标签 pt push all tag push 所有tag标签 Log(l)查看日志 查看日志相关操作绑定在l上 如查看当前分支的日志为ll\ncherry picking(a A) 具体的作用是把某一次commit在当前分支重新commit一次 比如你想把另一个分支上的某一次提交在当前分支也重做一次,但又不想整个merge那个分支，则可以用此功能 lo 展示别的分支的日志，找到相应的commit,然后按a或A 来cherry pick\nStashing(z)(git stash) 把临时未commit 的更改暂存起来\nzz git stash 暂存 A git stash pop 找回 Resetting (x or evil-magit:o) 放弃最近的n次提交，这n次的提交内容变成staged状态，之后可以进行合并提交或者丢弃 只需要在日志日光标定位到想要丢弃的log,即可回滚到这一次的提交状态\ncheckout tag Type y to show a buffer which lists branches, remote branches, and, at the bottom, tags.\n\u0026hellip;in order to diff a specific revision [reachable from that tag] Move to the tag and press loRET. That shows the log for that tag. Move to the commit and press RET. That shows information about that commit, including the diff.\nYou don\u0026rsquo;t necessarily have to move to the tag first to show the log for it. You can also type\ngit merge \u0026ndash;squash 你经常会面临着将dev分支或者很多零散的分支merge到一个公共release分支里。\n但是有一种情况是需要你处理的，就是在你的dev的分支里有很多commit记录。而这些commit是无需在release里体现的。\n这个时候，可以按m提交，选择squash merge，并提交mcommit信息。 先切换到需要merge的分支，比如master分支，执行以下命令：\ngit merge --squash dev git commit -m'develop merge int master.feature1' squash 会暂停commit提交。要不然一个merge会自动提交commit。\n查找某段代码的修改历史 在Magit中有个快捷键可以实现\n选中需要查询的目标行 按快件键 C-c M-g l ","date":"2022-06-15","permalink":"https://hllu.github.io/posts/magit-manue/","tags":null,"title":"magit manue"},{"content":"过滤规则 连接数限制 tcp 在转发forward链的时候,TCP连接数量大于80 就丢弃, 针对所有IP\n$ iptables -I FORWARD -p tcp -m connlimit --connlimit-above 80 -j DROP udp UDP无法控制连接数, 只能控制每秒多少个UDP包, 一般设置为每秒3~5个比较合理.\n$ iptables -I FORWARD -p udp -m limit --limit 4/sec -j DROP ","date":"2022-02-11","permalink":"https://hllu.github.io/posts/iptables/","tags":null,"title":"iptables"},{"content":"介绍 yasnippet是emacs下一套高效的模版(代码块)系統，它允许自定义模版内容并通过tab自动展示，省去了很多重复编写复杂代码块的时间，提高了开发的效率。\n官方描述\nYASnippet is a template system for Emacs. It allows you to type an abbreviation and automatically expand it into function templates.\n安装 使用emacs自带的包安装工具，搜寻yasnippet，安装即可。其他的配置尽量使用 默认值，减少配置文件的大小。\n使用 第一次使用的时候，会让设置是小任务栏模式还是独立窗口，可以根据自己的喜 好选择。\n之后用以下命令建立一个模版。\nM-x yas-new-sinippet 会新开一个窗口，让用户定义自己的模版，格式示例如下。\n# -*- mode: snippet -*- # name: hugo # key: h # -- #+HUGO_BASE_DIR: ../ #+TITLE: $1 #+DATE: `(format-time-string \u0026quot;%Y-%m-%d\u0026quot;)` #+HUGO_AUTO_SET_LASTMOD: t #+HUGO_TAGS: $2 #+HUGO_CATEGORIES: $3 #+HUGO_DRAFT: false $0 snippet的语法变量是以$美元符开始的，根据变量$1 $2 $\u0026hellip; 定义顺序光标移动位置，特殊的$0是最后光标停位置\n第1行是模板说明，也就是用鼠标点击yasnippet菜单里相应模式的模板的一些文字提示\n第2行是语法要求，声明模板内容开始\n第3行以后的，就是模板的内容了。\n使用的时候，只要打出key关键字后按Tab，就可以快速引入模版的内容。\n","date":"2021-10-09","permalink":"https://hllu.github.io/posts/use-yasnippet/","tags":["snippet"],"title":"use yasnippet"},{"content":"emacs中，要打开一个ssh连接，可以用以下命令:\n/ssh name@10.110.20.18:~ 当输入密码的时候，emacs可以自动保存密码，方便以后输入。但这个连接的信 息无法与xshell等软件一样保存起来，下次输入的时候，还需要丛别的地方查询 这个服务器的ip用户名密码等信息，非常不方便。\n经过查询，找到了一个办法，可以通过org模式和ssh配合，来保存ssh连接信息。\n使用ssh连接上远程服务器 例如，我们可以通过以下命令连接到远程\n/ssh name@10.110.20.18:~ 在连接成功的页面，最上面会显示连接的路径信息 /ssh:share@10.164.16.20:/home/share: total used in directory 16588808 available 292.1 GiB drwxr-xr-x 23 share share 4096 Aug 30 15:06 . drwxr-xr-x 4 root root 4096 Jul 26 10:21 .. -rw\u0026mdash;\u0026mdash;- 1 share share 4940 Sep 24 17:11 .bash_history -rw-r\u0026ndash;r\u0026ndash; 1 share share 220 Nov 20 2019 .bash_logout\n保存链接信息 鼠标停留在第一行的连接信息处，可以用org的capture功能，记录一个journal 信息。\n快捷键：\nC-c c j 会记录保存的信息，可以定义关键字为ssh之类的tag方便后续根据tag查询。\nEntered on [2021-09-24 Fri 17:20]\nfile:/ssh:share@10.164.16.20:/home/share\n重复访问 因为journal是一个笔记文件，记录了需要经常访问的信息。我们可以通过访问 journal文件找到这个ssh连接。\n快捷键：\nC-u C-c j 然后通过tag定义的关键字查询到这个连接的信息，光标停留在ssh这一行的时候，点 访问，就可以ssh到服务了。 访问的快捷键 快捷键：\nC-c C-o ssh 模式下文件互相访问 在dirct模式下，通过C命令，即可实现文件相互copy\n","date":"2021-09-24","permalink":"https://hllu.github.io/posts/%E4%BD%BF%E7%94%A8org%E5%92%8Cssh%E5%AE%9E%E7%8E%B0%E5%AF%B9ssh%E8%BF%9E%E6%8E%A5%E7%9A%84%E7%AE%A1%E7%90%86/","tags":["ssh"],"title":"使用org和ssh实现对ssh连接的管理"},{"content":"这篇文章记录平时使用emacs的一些技巧和插件，基本的操作可以参考emacs自带 的教程TUTORIAL。emacs 自带的教程有英文版和繁体中文版，在emacs 中按下 Ctrl-h t 或者F1 t即可打开自带的此文档\n基础命令 C- 表示当键入字符 时 按住 CONTROL 键。因此，C-f 就是：按住 CONTROL 键再键入 f 。\nM- 表示当键入字符 时 按住 META 或 EDIT 或 ALT 键。\n如果没有 META 、 EDIT 或 ALT 键时，则可以用「按一下 ESC 键然后放开，再键入 的步骤」来替代。\n基础操作 基础操作中，我都用了默认的快捷键，只增加了一个C-h,定义功能与backspace 键相同。需要记住的是以下几个：\n快捷键 说明 C-M-v 另一个窗口向下滚动 C-M-SHIFT-v 另一个窗口向上滚动 C-c C-x C-v 直接预览图片 C-x C-x 交换光标和标记的位置 M-h 标记当前段落 M-z 删除光标到指定字符之间的内容 emacs的一些基础配置如下，\n(package-initialize) (set-foreground-color \u0026quot;grey\u0026quot;) (set-background-color \u0026quot;black\u0026quot;) (set-cursor-color \u0026quot;gold1\u0026quot;) (set-mouse-color \u0026quot;gold1\u0026quot;) ;;启动设置 (setq default-frame-alist '((vertical-scroll-bars) (top . 0) (left . 0) (width . 120) (height . 43) (background-color . \u0026quot;black\u0026quot;) (foreground-color . \u0026quot;grey\u0026quot;) (cursor-color . \u0026quot;gold1\u0026quot;) (mouse-color . \u0026quot;gold1\u0026quot;) (tool-bar-lines . 0) (menu-bar-lines . 0) (right-fringe) (left-fringe))) ;;启动自动最大化(数据自己调整，注意格式，如(top . 0)，圆点前后都要留有空格) ;;(setq initial-frame-alist '((top . 0) (left . 0) (width . 142) (height . 46))) ;; 设置另外一些颜色：语法高亮显示的背景和主题，区域选择的背景和主题，二次选择的背景和选择 (set-face-foreground 'highlight \u0026quot;white\u0026quot;) (set-face-background 'highlight \u0026quot;blue\u0026quot;) (set-face-foreground 'region \u0026quot;cyan\u0026quot;) (set-face-background 'region \u0026quot;blue\u0026quot;) (set-face-foreground 'secondary-selection \u0026quot;skyblue\u0026quot;) (set-face-background 'secondary-selection \u0026quot;darkblue\u0026quot;) ;;------------窗口界面设置结束----------------- ;;------------显示时间设置------------------------------ (display-time-mode 1);;启用时间显示设置，在minibuffer上面的那个杠上 (setq display-time-24hr-format t);;时间使用24小时制 (setq display-time-day-and-date t);;时间显示包括日期和具体时间 (setq display-time-use-mail-icon t);;时间栏旁边启用邮件设置 (setq display-time-interval 10);;时间的变化频率 ;;------------显示时间设置结束-------------- ;;------------定制操作习惯-------------------- ;;设置打开文件的缺省路径 (setq default-directory \u0026quot;/Users/xxx\u0026quot;) ;;关闭烦人的出错时的提示声 (setq visible-bell t) ;;关闭emacs启动时的画面 (setq inhibit-startup-message t) ;; 改变 Emacs 固执的要你回答 yes 的行为。按 y 或空格键表示 yes，n 表示 no。 (fset 'yes-or-no-p 'y-or-n-p) ;; 语法高亮。除 shell-mode 和 text-mode 之外的模式中使用语法高亮。 (setq font-lock-maximum-decoration t) (setq font-lock-global-modes '(not shell-mode text-mode)) (setq font-lock-verbose t) (setq font-lock-maximum-size '((t . 1048576) (vm-mode . 5250000))) ;;显示行列号 (setq column-number-mode t) (setq line-number-mode t) ;;不要在鼠标点击的那个地方插入剪贴板内容。 (global-linum-mode t) (setq mouse-yank-at-point t) ;;设置粘贴缓冲条目数量.用一个很大的kill ring(最多的记录个数). 这样防止我不小心删掉重要的东西 (setq kill-ring-max 200) ; Autofill in all modes;; (setq-default auto-fill-function 'do-auto-fill) ;;把 fill-column 设为 60. 这样的文字更好读 (setq default-fill-column 120) ;;不用 TAB 字符来indent, 这会引起很多奇怪的错误。 (setq-default indent-tabs-mode nil) (setq default-tab-width 8);;tab键为8个字符宽度 (setq tab-stop-list ()) ;;(setq enable-recursive-minibuffers t) ;;可以递归的使用 minibuffer ;;防止页面滚动时跳动， scroll-margin 3 可以在靠近屏幕边沿3行时就开始滚动，可以很好的看到上下文。 (setq scroll-margin 3 scroll-conservatively 10000) ;;设置缺省主模式是text，,并进入auto-fill次模式.而不是基本模式fundamental-mode (setq default-major-mode 'text-mode) (add-hook 'text-mode-hook 'turn-on-auto-fill) ;;打开括号匹配显示模式 (show-paren-mode t) ;;括号匹配时可以高亮显示另外一边的括号，但光标不会烦人的跳到另一个括号处。 (setq show-paren-style 'parenthesis) ;;光标靠近鼠标指针时，让鼠标指针自动让开，别挡住视线。 (mouse-avoidance-mode 'animate) ;;在标题栏显示buffer的名字，而不是 emacs@wangyin.com 这样没用的提示。 (setq frame-title-format \u0026quot;emacs@%b\u0026quot;) ;;让 Emacs 可以直接打开和显示图片。 (setq auto-image-file-mode t) ;;进行语法加亮。 (setq global-font-lock-mode t) ;; 把C-j绑定到到达指定行上 (global-set-key (kbd \u0026quot;C-h\u0026quot;) 'backward-delete-char-untabify) (global-set-key (kbd \u0026quot;M-h\u0026quot;) 'backward-kill-word) (global-set-key (kbd \u0026quot;\u0026lt;f1\u0026gt;\u0026quot;) 'help-command) (global-set-key (kbd \u0026quot;\u0026lt;f7\u0026gt;\u0026quot;) 'magit-status) ;;当你在shell、telnet、w3m等模式下时，必然碰到过要输入密码的情况,此时加密显出你的密码 (add-hook 'comint-output-filter-functions 'comint-watch-for-password-prompt) ;; 设定不产生备份文件 (setq make-backup-files nil) ;; 不生成临时文件 (setq-default make-backup-files nil) (put 'scroll-left 'disabled nil) ;允许屏幕左移 (put 'scroll-right 'disabled nil) ;允许屏幕右移 (put 'set-goal-column 'disabled nil) (put 'narrow-to-region 'disabled nil) (put 'upcase-region 'disabled nil) (put 'downcase-region 'disabled nil) (put 'LaTeX-hide-environment 'disabled nil) ;;把这些缺省禁用的功能打开。 ;;允许emacs和外部其他程序的粘贴 (setq x-select-enable-clipboard t) (setq user-full-name \u0026quot;name\u0026quot;) (setq user-mail-address \u0026quot;name@qq.com\u0026quot;) ;;设置有用的个人信息,这在很多地方有用。 (setq track-eol t) ;; 当光标在行尾上下移动的时候，始终保持在行尾。 ;;--------------------src ------------- ;;(require 'org-tempo) ;; if want use \u0026lt;s TAB to begin a src block in org-mode 9.3,you must ;; add org-tempo. you can also use C-c C-, to do the same thing. ;;-------------------------------------- 安装插件 目前常用的插件有以下几个\nopenwith ：可以配置用外部程序打开emacs的文件 magit ：git的前端界面 mu4e：邮件客户端 ox-hugo ：org文件生成hugo需要的md文件 其他大部分插件都是built-in，默认可以使用。\n块操作 块操作命令有以下几个 命令 说明 C-x r k 剪切一个矩形块 C-x r y 粘贴一个矩形块 C-x r o 插入一个矩形块 C-x r c 清除一个矩形块(使其变成空白) C-x r t 在选定区域的所有列前插入样的字符 列操作 按列排序 删除重复列\n单元格 单元格 单元格 进阶操作 排序 C-u 7 M-x sort-field\n删除重复 M -x delete-duplicate-lines\n删除指定 tramp 配置 (require \u0026rsquo;tramp)\nsudo /sudo::/path/to/file\nssh /ssh:username@server.net:/path/to/file.txt\n/sftp:username@server.net:/path/to/file.txt\nserver name 可以在host中定义\ndirect模式 openwith 打开各种docx、pptx、xlsx等文件的配置，我配置中好像“｜”不起作用，第二行 的视频播放配置可能无效，由于没有验证，也没再管他。有兴趣的可以研究一下。\n(require 'openwith) (openwith-mode t) (setq openwith-associations '((\u0026quot;\\.docx$\u0026quot; \u0026quot;open\u0026quot; (file) )(\u0026quot;\\.xlsx$\u0026quot; \u0026quot;open\u0026quot; (file) ) (\u0026quot;\\.pptx$\u0026quot; \u0026quot;open\u0026quot; (file)) (\u0026quot;\\.mov\\|\\.RM$\\|\\.RMVB$\\|\\.avi$\\|\\.AVI$\\|\\.flv$\\|\\.mp4\\|\\.mkv$\\|\\.rmvb$\u0026quot; \u0026quot;open\u0026quot; (file) ) (\u0026quot;\\.pdf$\u0026quot; \u0026quot;open\u0026quot; (file)) (\u0026quot;\\.CHM$\\|\\.chm$\u0026quot; \u0026quot;open\u0026quot; (file) ) ) ) org模式 文本操作 移动 C-c C-n 下个标题 C-c C-p 上个标题 C-c C-f 下个同级的标题 C-c C-b 上个同级的标题 C-c C-u 回到上层标题 编辑 文档中常用的配置 #+OPTIONS ^:nil 关闭下划线转义 输入a_{b}才转义 #+OPTIONS: toc:t ^:nil author:nil num:2 #+OPTINS: n:t html 中不换行 列表 在大纲树的一项中，自定义格式的列表可以提供更多的组织结构，也使我们可以 得到一个复先框列表（见 5.6 节［复先框］）。Org 模式可以处理这种列表， 并且 HTML 导出器（见12章）也支持这种格式。\nOrg 能够识别有序列表、无序列表和描述列表。\n无序列表项以‘-’、‘+’或者‘*‘开头。 有序列表项以‘1.’、‘1)’或者开头。 描述列表用‘::’将项和描述分开。 同一列表中的项的第一行必须缩进相同程度。当下一行的缩进与列表项的的开头 的符号或者数字相同或者更小时，这一项就结束了。当所有的项都关上时，或者 后面有两个空行时，列表就结束了。例如：\n链接 Org 能够识别 URL 格式的文本并将它们处理成可点击的链接。通常链接格式是这样的：\n[[link][description]] 或者\n[[link]] 要想编辑链接，可以光标置于链接上并键入 C-c C-l。\n内部链接 如果一个链接地址并不是 URL 的形式，就会作为当前文件内部链接来处理。最重要的一个例子是\n[[#my-custom-id]] 它会链接到 CUSTOM_ID 属性是 “my-custom-id” 的项。\n类似\n[[My Target]] 和\n[[My Target][Find my target]] 的链接，点击后本文件中查找对应的目标。\n外部链接 Org 支持的链接格式包括文件、网页、新闻组、BBDB 数据库项、IRC 会话和记 录。外部链接是 URL 格式的定位器。以识别符开头，后面跟着一个冒号，冒号 后面不能有空格。下面是一些例子：\nhttp://www.astro.uva.nl/~dominik :: on the web file:/home/dominik/images/jupiter.jpg :: file, absolute path /home/dominik/images/jupiter.jpg :: same as above file:papers/last.pdf :: file, relative path file:projects.org :: another Org file docview:papers/last.pdf::NNN :: open file in doc-view mode at page NNN id:B7423F4D-2E8A-471B-8810-C40F074717E9 :: Link to heading by ID news:comp.emacs :: Usenet link mailto:adent@galaxy.net :: Mail link vm:folder :: VM folder link vm:folder#id :: VM message link wl:folder#id :: WANDERLUST message link mhe:folder#id :: MH-E message link rmail:folder#id :: RMAIL message link gnus:group#id :: Gnus article link bbdb:R.*Stallman :: BBDB link (with regexp) irc:/irc.com/#emacs/bob :: IRC link info:org:External%20links :: Info node link (with encoded space) 管理日志和日程 相关的配置 ;;-------------begin gtd------------------------------ (global-set-key \u0026quot;\\C-c1\u0026quot; 'org-store-link) (global-set-key \u0026quot;\\C-cc\u0026quot; 'org-capture) ;;(global-set-key \u0026quot;\\C-cr\u0026quot; 'remember) (global-set-key \u0026quot;\\C-ca\u0026quot; 'org-agenda) (global-set-key \u0026quot;\\C-cb\u0026quot; 'org-iswitchb) (setq org-todo-keywords '((sequence \u0026quot;REPORT(r)\u0026quot;) (sequence \u0026quot;TODO(t!)\u0026quot; \u0026quot;|\u0026quot; \u0026quot;DONE(d!)\u0026quot; \u0026quot;CANCELED(c@/!)\u0026quot;)) ) (setq org-capture-templates '((\u0026quot;t\u0026quot; \u0026quot;Todo\u0026quot; entry (file+headline \u0026quot;~/.todos/gtd.org\u0026quot; \u0026quot;Tasks\u0026quot;) \u0026quot;* TODO %?\\n %i\\n %a\u0026quot;) (\u0026quot;j\u0026quot; \u0026quot;Journal\u0026quot; entry (file+datetree \u0026quot;~/.todos/journal.org\u0026quot;) \u0026quot;* %?\\nEntered on %U\\n %i\\n %a\u0026quot;))) (setq org-agenda-files (list \u0026quot;~/.todos/gtd.org\u0026quot; \u0026quot;~/.todos/journal.org\u0026quot; \u0026quot;~/Documents/todo/\u0026quot; )) (setq org-default-notes-file \u0026quot;~/.todos/journal.org\u0026quot;) ;;----------------end gtd------------------------------- 表格 基本操作 快捷键 说明 TAB 切换到下个单元格，如是最后一个单元格，则新建一行并跳到该行第一个单元格 M-S-right 在当前列前插入一列 M-S-left 删除当前列 M-S-down 在当前行前插入一行 M-S-up 删除当前行 C-m 移动到下一行，或新建一行 M-up/M-down 将当前行往上/下移动 M-left/M-right 将当前列往左/右移动 C-c ` 编辑当前单元格 C-c C-x C-w 剪切某个区域的表格内容 C-c C-x C-y 拷贝复制的内容到表格 S-return 当单元格无内容时，将其上方第一个非空内容拷贝过来;否则拷贝当前内容到下一行并随之移动 C-c C-c 强制表格重新排列 C-c ^ 表格排序 C-c 竖线 选中一部分数据，直接建立表格 C-c - 在一行后执行，在下一行添加表格分割线 表格计算、公式编辑 表格绘图 导出pdf 导出pdf，需要latex的支持，需要安装相关的组建并配置。由于相对比较复杂， 可以用一个折中的简单办法，先吧org文件转化为html文件，再从web浏览器上面 保存为pdf文档，目前看基本上可以用。 以下是曾经用过的latex相关配置：\n;; (setq tex-compile-commands '((\u0026quot;xelatex %r\u0026quot;))) ;; (setq tex-command \u0026quot;xelatex\u0026quot;) ;; (setq-default TeX-engine 'xelatex) ;; (add-hook 'LaTeX-mode-hook (lambda() ;; (add-to-list 'TeX-command-list '(\u0026quot;XeLaTeX\u0026quot; \u0026quot;xelatex %(mode) %t\u0026quot; TeX-run-TeX nil (latex-mode) )) ;; (setq TeX-command-default \u0026quot;XeLaTeX\u0026quot;) ;; (setq TeX-save-query nil ) ;; (setq TeX-show-compilation t) ;; (setq TeX-PDF-mode t) ;; )) ;; 使用Listings宏包格式化源代码(只是把代码框用listing环境框起来，还需要额外的设置) (setq org-export-latex-listings t) ;; Options for \\lset command（reference to listing Manual) (setq org-export-latex-listings-options '( (\u0026quot;basicstyle\u0026quot; \u0026quot;\\\\color{foreground}\\\\small\\\\mono\u0026quot;) ; 源代码字体样式 (\u0026quot;keywordstyle\u0026quot; \u0026quot;\\\\color{function}\\\\bfseries\\\\small\\\\mono\u0026quot;) ; 关键词字体样式 (\u0026quot;identifierstyle\u0026quot; \u0026quot;\\\\color{doc}\\\\small\\\\mono\u0026quot;) (\u0026quot;commentstyle\u0026quot; \u0026quot;\\\\color{comment}\\\\small\\\\itshape\u0026quot;) ; 批注样式 (\u0026quot;stringstyle\u0026quot; \u0026quot;\\\\color{string}\\\\small\u0026quot;) ; 字符串样式 (\u0026quot;showstringspaces\u0026quot; \u0026quot;false\u0026quot;) ; 字符串空格显示 (\u0026quot;numbers\u0026quot; \u0026quot;left\u0026quot;) ; 行号显示 (\u0026quot;numberstyle\u0026quot; \u0026quot;\\\\color{preprocess}\u0026quot;) ; 行号样式 (\u0026quot;stepnumber\u0026quot; \u0026quot;1\u0026quot;) ; 行号递增 (\u0026quot;backgroundcolor\u0026quot; \u0026quot;\\\\color{background}\u0026quot;) ; 代码框背景色 (\u0026quot;tabsize\u0026quot; \u0026quot;4\u0026quot;) ; TAB等效空格数 (\u0026quot;captionpos\u0026quot; \u0026quot;t\u0026quot;) ; 标题位置 top or buttom(t|b) (\u0026quot;breaklines\u0026quot; \u0026quot;true\u0026quot;) ; 自动断行 (\u0026quot;breakatwhitespace\u0026quot; \u0026quot;true\u0026quot;) ; 只在空格分行 (\u0026quot;showspaces\u0026quot; \u0026quot;false\u0026quot;) ; 显示空格 (\u0026quot;columns\u0026quot; \u0026quot;flexible\u0026quot;) ; 列样式 (\u0026quot;frame\u0026quot; \u0026quot;single\u0026quot;) ; 代码框：阴影盒 (\u0026quot;frameround\u0026quot; \u0026quot;tttt\u0026quot;) ; 代码框： 圆角 (\u0026quot;framesep\u0026quot; \u0026quot;0pt\u0026quot;) (\u0026quot;framerule\u0026quot; \u0026quot;8pt\u0026quot;) (\u0026quot;rulecolor\u0026quot; \u0026quot;\\\\color{background}\u0026quot;) (\u0026quot;fillcolor\u0026quot; \u0026quot;\\\\color{white}\u0026quot;) (\u0026quot;rulesepcolor\u0026quot; \u0026quot;\\\\color{comdil}\u0026quot;) (\u0026quot;framexleftmargin\u0026quot; \u0026quot;10mm\u0026quot;) )) ;; \\usepackage{fontspec} ;; \\setmainfont{Microsoft YaHei} (defun my-auto-tex-parameters (backend) \u0026quot;Automatically select the tex packages to include.\u0026quot; ;; default packages for ordinary latex or pdflatex export (setq org-latex-default-packages-alist '((\u0026quot;AUTO\u0026quot; \u0026quot;inputenc\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;graphicx\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;longtable\u0026quot; nil) (\u0026quot;\u0026quot; \u0026quot;float\u0026quot; nil) (\u0026quot;\u0026quot; \u0026quot;fontspec\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;xunicode\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;url\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;rotating\u0026quot; t) (\u0026quot;american\u0026quot; \u0026quot;babel\u0026quot; t) (\u0026quot;babel\u0026quot; \u0026quot;csquotes\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;soul\u0026quot; t) (\u0026quot;xetex\u0026quot; \u0026quot;hyperref\u0026quot; t) (\u0026quot;T1\u0026quot; \u0026quot;fontenc\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;fixltx2e\u0026quot; nil) (\u0026quot;\u0026quot; \u0026quot;wrapfig\u0026quot; nil) (\u0026quot;\u0026quot; \u0026quot;soul\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;textcomp\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;marvosym\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;wasysym\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;latexsym\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;amssymb\u0026quot; t) (\u0026quot;\u0026quot; \u0026quot;hyperref\u0026quot; nil)))) ;; Packages to include when xelatex is used ;; (setq org-export-latex-classes ;; (cons '(\u0026quot;ctexart\u0026quot; ;; \u0026quot;\\\\documentclass[11pt,ctexart]{memoir}\u0026quot; ;; (\u0026quot;\\\\section{%s}\u0026quot; . \u0026quot;\\\\section*{%s}\u0026quot;) ;; (\u0026quot;\\\\subsection{%s}\u0026quot; . \u0026quot;\\\\subsection*{%s}\u0026quot;) ;; (\u0026quot;\\\\subsubsection{%s}\u0026quot; . \u0026quot;\\\\subsubsection*{%s}\u0026quot;) ;; (\u0026quot;\\\\paragraph{%s}\u0026quot; . \u0026quot;\\\\paragraph*{%s}\u0026quot;) ;; (\u0026quot;\\\\subparagraph{%s}\u0026quot; . \u0026quot;\\\\subparagraph*{%s}\u0026quot;)) ;; org-export-latex-classes)) (add-hook 'org-export-before-parsing-hook 'my-auto-tex-parameters) ;;set xetex mode in tex/latex ;; (add-hook 'LaTeX-mode-hook (lambda() ;; (add-to-list 'TeX-command-list '(\u0026quot;XeLaTeX\u0026quot; \u0026quot;%`xelatex%(mode)%' %t\u0026quot; TeX-run-TeX nil t)) ;; (setq TeX-command-default \u0026quot;XeLaTeX\u0026quot;) ;; (setq TeX-save-query nil) ;; (setq TeX-show-compilation t) ;; )) ;; (setq org-latex-to-pdf-process ;; '(\u0026quot;xelatex -interaction nonstopmode %f\u0026quot; ;; \u0026quot;xelatex -interaction nonstopmode %f\u0026quot;)) ;; for multiple passes (setq org-latex-pdf-process '(\u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot; \u0026quot;xelatex -shell-escape -interaction nonstopmode %f\u0026quot;)) 指定图片尺寸 用像素指定图片尺寸 #+ATTR_ORG: :width 100 ~ #+ATTR_HTML: :width 100p ~ [[./shanshui.jpg]] 用比例指定图片尺寸 :title表示图片名称， 对齐方式用‘：align right’\n#+CAPTION: pic align right #+ATTR_HTML: :alt neural network :title Neural network representation :align right #+ATTR_HTML: :width 30% :height 30% [[./shanshui.jpg]] 图片居中 可以用center来表示图片居中\n#+begin_center #+ATTR_ORG: :width 100 ~ #+ATTR_HTML: :width 100p ~ [[./shanshui.jpg]] #+end_center magit magit status 中 ? 键可提示magit命令绑定在哪些按键上.\nblog ox-hugo相关的配置 (with-eval-after-load 'ox (require 'ox-hugo)) ;;---------------begin hugo------------------------ ;; org-hugo capture (with-eval-after-load 'org-capture (defun org-hugo-new-subtree-post-capture-template () \u0026quot;Returns `org-capture' template string for new Hugo post. See `org-capture-templates' for more information.\u0026quot; (let* (;; http://www.holgerschurig.de/en/emacs-blog-from-org-to-hugo/ (date (format-time-string (org-time-stamp-format :long :inactive) (org-current-time))) (title (read-from-minibuffer \u0026quot;Post Title: \u0026quot;)) ;Prompt to enter the post title (fname (org-hugo-slug title))) (mapconcat #'identity `( ,(concat \u0026quot;** TODO \u0026quot; title \u0026quot; :@随笔:\u0026quot;) \u0026quot;:PROPERTIES:\u0026quot; ,(concat \u0026quot;:EXPORT_FILE_NAME: \u0026quot; fname) ,(concat \u0026quot;:EXPORT_DATE: \u0026quot; date) ;Enter current date and time \u0026quot;:END:\u0026quot; \u0026quot;%?\\n\u0026quot;) ;Place the cursor here finally \u0026quot;\\n\u0026quot;))) (add-to-list 'org-capture-templates '(\u0026quot;h\u0026quot; ;`org-capture' binding + h \u0026quot;Hugo post\u0026quot; entry ;; It is assumed that below file is present in `org-directory' ;; and that it has a \u0026quot;Blog Ideas\u0026quot; heading. It can even be a ;; symlink pointing to the actual location of all-posts.org! (file+headline \u0026quot;~/blog/gitblog//orgcontent/0000head.org\u0026quot; \u0026quot;INBOX\u0026quot;) (function org-hugo-new-subtree-post-capture-template)))) ;;---------------end hugo-------------------------- 配置好之后，用以下命令，就可以把org文件导出为md文件并放在对应的目录下\nC-c C-e H H python开发 ediff email ","date":"2021-03-18","permalink":"https://hllu.github.io/posts/emacs/","tags":["emacs","org-model"],"title":"emacs使用介绍"},{"content":"图片测试-尺寸控制 指定像素显示\n图片测试-按比例显示-left Neural network representationFigure 1: pic left\n图片测试-按比例显示 Neural network representationFigure 2: pic align right\n图片测试-按比例显示-central pp representationFigure 3: pic centre\n图片测试-原始尺寸 图片显示 在包含图片的org文件中，可以用 iimage-mode显示图片。 You can run the command ‘iimage-mode’ with M-x ii-m RET\n","date":"2021-03-18","permalink":"https://hllu.github.io/posts/picture/","tags":["picture"],"title":"图片显示测试"},{"content":"通过emacs的org-mode写文章 在Org mode下写Blog，有两种方式\n直接在Blog所在的目录下写独立的org 在目录‘~/blog/gitblog/orgcontent/’下添加个demon.org文件，文件头中有如 下信息\n#+HUGO_BASE_DIR: ../ #+HUGO_SECTION: ./posts #+TITLE: Org-mode\u0026amp;Hugo\u0026amp;ox-hugo写Blog #+DATE: \u0026lt;2019-10-19 Sat\u0026gt; #+HUGO_CATEGORIES: Blog #+HUGO_TAGS: Blog #+OPTIONS: H:9 在jonural中写 通过如下命令，进入jonuarl中，填加一个分支\nC-c c j 选择h,会提示新建一个Blog目录，之后可以在这个目录下写一个主题的Blog。 添加一个h选项，需要如下配置\n;;---------------begin hugo------------------------ (with-eval-after-load 'ox (require 'ox-hugo)) ;; org-hugo capture (with-eval-after-load 'org-capture (defun org-hugo-new-subtree-post-capture-template () \u0026quot;Returns `org-capture' template string for new Hugo post. See `org-capture-templates' for more information.\u0026quot; (let* (;; http://www.holgerschurig.de/en/emacs-blog-from-org-to-hugo/ (date (format-time-string (org-time-stamp-format :long :inactive) (org-current-time))) (title (read-from-minibuffer \u0026quot;Post Title: \u0026quot;)) ;Prompt to enter the post title (fname (org-hugo-slug title))) (mapconcat #'identity `( ,(concat \u0026quot;** TODO \u0026quot; title \u0026quot; :@随笔:\u0026quot;) \u0026quot;:PROPERTIES:\u0026quot; ,(concat \u0026quot;:EXPORT_FILE_NAME: \u0026quot; fname) ,(concat \u0026quot;:EXPORT_DATE: \u0026quot; date) ;Enter current date and time \u0026quot;:END:\u0026quot; \u0026quot;%?\\n\u0026quot;) ;Place the cursor here finally \u0026quot;\\n\u0026quot;))) (add-to-list 'org-capture-templates '(\u0026quot;h\u0026quot; ;`org-capture' binding + h \u0026quot;Hugo post\u0026quot; entry ;; It is assumed that below file is present in `org-directory' ;; and that it has a \u0026quot;Blog Ideas\u0026quot; heading. It can even be a ;; symlink pointing to the actual location of all-posts.org! (file+headline \u0026quot;~/blog/gitblog//orgcontent/0000head.org\u0026quot; \u0026quot;INBOX\u0026quot;) (function org-hugo-new-subtree-post-capture-template)))) ox-hugo导出md emacs的org mode 加上ox-hugo可以方便的导出md文件。\n把org文件导出成md 使用 ox-hugo 把 org 文件导出为 md 文件\n方式一：手动导出整个文件\nC-c C-e H h 或者导出目录树中的一个分支\nC-c C-e H H 方式二：保存 org 文件时自动导出\n在站点根目录新建 dir-locals.el 文件\nvi .dir-locals.el ((\u0026quot;content-org/\u0026quot; . ((org-mode . ((eval . (org-hugo-auto-export-mode))))))) 注意第二中方式写的内容，有个Todo标签，如果不改成Done，导出的时候，md文 件上会标记为draft文件，hugo编译的时候，认为文章还没完成，如果不加-D参数，不会把这个md文 件编译成web。\n完成的文件如下,需要把状态改为Done\n\\** DONE test :@随笔:ssh: :PROPERTIES: :EXPORT_FILE_NAME: test :EXPORT_DATE: [2021-09-24 Fri 17:26] :END: 编译hugo 在hugo的根目录下，执行以下命令\nhugo server -D 其中-D参数表示Draft文件也编译。具体的其他选项操作，可以参考help。\n有的时候，以上命令并没有生成静态文件。原因还没搞清楚。 直接用hugo命令编译。可以正常生成。\nhugo 把生成好的public目录通过git传到github 初始化git仓库\ncd public git init git remote add origin git@github.com:vritser/vritser.github.io.git 提交，推送\ncd public git init git remote add origin git@github.com:vritser/vritser.github.io.git ","date":"2019-10-19","permalink":"https://hllu.github.io/posts/demo/","tags":["Blog"],"title":"Org-mode\u0026Hugo\u0026ox-hugo写Blog"}]